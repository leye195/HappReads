(this.webpackJsonpgoodreads=this.webpackJsonpgoodreads||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){e.exports=a.p+"static/media/go_back.62137145.png"},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},129:function(e,t,a){e.exports=a(229)},228:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(23),o=a.n(l),i=a(8),s=a(12),u=a(6),m=a(78),d=a.n(m),b=a(5),p=a.n(b),E=p.a.bind(d.a),v=function(){return c.a.createElement("section",{className:E("home-section")},c.a.createElement("section",{className:E("words")},c.a.createElement("h3",null,"With Happyness"),c.a.createElement("h4",null,"\uc790\uc2e0\uc758 \uc778\uc0dd \ucc45\uc744 \ucc3e\uc544\ubcf4\uc138\uc694")))},f=a(79),g=a.n(f),O=a(1),j=a(80),h=a.n(j),k=(a(134),a(135),a(81)),S=a.n(k),_=a(82),N=a.n(_),w=p.a.bind(N.a),y=function(e){var t=e.children;return c.a.createElement("div",{className:w("scroll-item")},t)},C=a(231),R=p.a.bind(h.a),I=function(e){var t,a=e.books,n=Object(r.useState)({dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,adaptiveHeight:!0,autoplay:!0,autoplaySpeed:4e3}),l=Object(u.a)(n,2),o=l[0],s=l[1],m=Object(r.useCallback)((function(){var e=window.innerWidth;s(e>=0&&e<=425?Object(O.a)({},o,{slidesToShow:2,slidesToScroll:2}):e>=426&&e<=1024?Object(O.a)({},o,{slidesToShow:4,slidesToScroll:4}):Object(O.a)({},o,{slidesToShow:6,slidesToScroll:6}))}),[o]);return Object(r.useEffect)((function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]),c.a.createElement("section",{className:R("slider-container")},c.a.createElement(S.a,o,null===a||void 0===a?void 0:null===(t=a.slice(0,8))||void 0===t?void 0:t.map((function(e){return c.a.createElement(y,{key:Object(C.a)()},c.a.createElement(i.b,{to:"/book/".concat(e._id)},c.a.createElement("img",{src:e.thumbnail,alt:e.title})))}))))},L=a(83),P=a.n(L),T=a(84),U=a.n(T),D=a(11),G=a(4),x=a(2),B=a(230),F=a(9),A=a.n(F),H=a(14),V=a.n(H);V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var M,K=function(e,t){return A.a.post("login",{email:e,password:t})},W=function(e){return A.a.create({headers:{Authorization:"".concat(e)}}).post("profile")},Y=function(e,t,a){return A.a.post("shelve",{email:e,id:t,type:a})},q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return A.a.delete("shelve",{data:{uid:e,id:t,type:a}})},z=function(e,t,a){return A.a.delete("book/".concat(e,"/review/").concat(t),{data:{uid:a}})},J=function(e){return A.a.post("edit",e)},X=function(e){return{type:"USER_CHECK",payload:W(e)}},Q=function(e,t,a){return{type:"POST_SHELVE",payload:Y(e,t,a)}},Z=function(e,t,a){return{type:"DELETE_SHELVE",payload:q(e,t,a)}},$=function(e,t,a){return{type:"DELETE_REVIEW",payload:z(e,t,a)}},ee=Object(B.a)((n={},Object(x.a)(n,"LOGIN_PENDING",(function(e,t){return Object(O.a)({},e,{loginPending:!0,loginError:!1,loginSuccess:!1})})),Object(x.a)(n,"LOGIN_SUCCESS",(function(e,t){return{profile:t.payload.data,loginPending:!1,loginError:!1,loginSuccess:!0,isLoggedIn:!0}})),Object(x.a)(n,"LOGIN_FAILURE",(function(e,t){return console.log(),Object(O.a)({},e,{loginPending:!1,loginError:!0,loginSuccess:!1,isLoggedIn:!1})})),Object(x.a)(n,"USER_CHECK_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1,isLoggedIn:!1})})),Object(x.a)(n,"USER_CHECK_SUCCESS",(function(e,t){return{pending:!1,error:!1,isLoggedIn:!0,profile:t.payload.data}})),Object(x.a)(n,"USER_CHECK_FAILURE",(function(e,t){return{pending:!1,error:!0,isLoggedIn:!1}})),Object(x.a)(n,"LOGOUT_PENDING",(function(e,t){return Object(O.a)({},e,{logoutPending:!0,logoutError:!1,logoutSuccess:!1})})),Object(x.a)(n,"LOGOUR_SUCCESS",(function(e,t){return Object(O.a)({},e,{logoutPending:!1,logoutError:!1,logoutSuccess:!0,isLoggedIn:!1,profile:{}})})),Object(x.a)(n,"LOGOUT_FAILURE",(function(e,t){return Object(O.a)({},e,{logoutPending:!1,logoutError:!0,logoutSuccess:!1})})),Object(x.a)(n,"POST_SHELVE_PENDING",(function(e,t){return Object(O.a)({},e,{postShelvePending:!0,postShelveSuccess:!1,postShelveError:!1})})),Object(x.a)(n,"POST_SHELVE_SUCCESS",(function(e,t){var a=t.payload.data;return Object(O.a)({},e,{postShelvePending:!1,postShelveSuccess:!0,profile:a})})),Object(x.a)(n,"POST_SHELVE_FAILURE",(function(e,t){return Object(O.a)({},e,{postShelvePending:!1,postShelveError:!0})})),Object(x.a)(n,"DELETE_SHELVE_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(n,"DELETE_SHELVE_SUCCESS",(function(e,t){var a=t.payload.data;return Object(O.a)({},e,{profile:a,pending:!1,error:!1})})),Object(x.a)(n,"DELETE_SHELVE_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),Object(x.a)(n,"DELETE_REVIEW_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(n,"DELETE_REVIEW_SUCCESS",(function(e,t){var a=t.payload.data;return Object(O.a)({},e,{pending:!1,error:!0,profile:a})})),Object(x.a)(n,"DELETE_REVIEW_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),n),{pending:!0,error:!1,success:!1,profile:{},isLoggedIn:!1,loginPending:!1,loginError:!1,loginSuccess:!1,logoutPending:!1,logoutSuccess:!1,logoutError:!1,postShelvePending:!1,postShelveSuccess:!1,postShelveError:!1}),te=a(7),ae=a.n(te),ne=a(10),re=a(86),ce=a.n(re),le=p.a.bind(ce.a),oe={read:"\uc77d\uc740 \ucc45",want_read:"\uc77d\uc744 \ucc45",reading:"\uc77d\ub294\uc911"},ie=function(e){var t=e.handleSubmit,a=e.handleCancel,n=e.item,l=e.type,o=Object(r.useState)(oe[l]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(r.useState)(Object(O.a)({},n)),b=Object(u.a)(d,2),p=b[0],E=b[1],v=Object(G.c)(),f=Object(G.d)((function(e){return e.login})).profile,g=Object(r.useCallback)((function(e){var t=e.target;m(t.options[t.selectedIndex].value)}),[]),j=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.user;try{v(Q(a.email,n._id,s))}catch(t){console.log(t)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,s,f,v]),h=Object(r.useCallback)((function(e){var t=e.target;E(Object(O.a)({},p,{title:t.value}))}),[p]),k=Object(r.useCallback)((function(e){var t=e.target;E(Object(O.a)({},p,{genres:t.value}))}),[p]),S=Object(r.useCallback)((function(e){var t=e.target;E(Object(O.a)({},p,{contents:t.value}))}),[p]);return c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"modal-overlay"}),c.a.createElement("div",{className:"modal"},c.a.createElement("p",{className:le("exit")},c.a.createElement("span",{role:"img","aria-label":"cancel",onClick:a},"\u274c")),void 0!==l?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:n.thumbnail,alt:n.id}),c.a.createElement("div",{className:le("status-wrapper")},c.a.createElement("div",{className:le("read-status")},c.a.createElement("span",null,"\ud604\uc7ac \uc0c1\ud0dc:"),c.a.createElement("p",{className:le("current-status")},oe[l])),c.a.createElement("select",{className:le("select"),defaultValue:s,onChange:g},c.a.createElement("option",{value:"want_read"},"\uc77d\uc744 \ucc45"),c.a.createElement("option",{value:"reading"},"\uc77d\b\ub294\uc911"),c.a.createElement("option",{value:"read"},"\uc77d\uc74c")),c.a.createElement("div",{className:le("button-container")},c.a.createElement("button",{className:le("ok-btn"),onClick:j},"\uc218\uc815"),c.a.createElement("button",{className:le("cancel-btn"),onClick:a},"\ucde8\uc18c")))):c.a.createElement("div",{className:le("book-info-container")},c.a.createElement("div",{className:le("img-container")},c.a.createElement("img",{src:p.thumbnail,alt:p.title})),c.a.createElement("form",{className:le("book-info-form"),onSubmit:t(p)},c.a.createElement("input",{value:p.title,placeholder:"\uc81c\ubaa9",onChange:h}),c.a.createElement("input",{value:p.genres,placeholder:"\uc7a5\ub974",onChange:k}),c.a.createElement("textarea",{value:p.contents,placeholder:"\uc694\uc57d",onChange:S}),c.a.createElement("button",{className:"ok-btn"},"\uc218\uc815")))))},se=p.a.bind(U.a),ue=Object(G.b)((function(e){return{profile:e.login.profile,success:e.login.success}}),(function(e){return{postShelve:function(t,a,n){return e(Q(t,a,n))},deleteShelve:function(t,a,n){return e(Z(t,a,n))}}}))((function(e){var t=e.from,a=e.type,n=Object(r.useState)(!1),l=Object(u.a)(n,2),o=l[0],s=l[1];if("home"===t){var m=e.book;return c.a.createElement("div",{className:se("book")},c.a.createElement("img",{src:m.thumbnail,alt:"book"}),c.a.createElement("p",null,m.title))}if("search"===t){var d=e.book;return c.a.createElement("li",{className:se("ser-bg")},c.a.createElement("div",{className:se("ser-book")},c.a.createElement(i.b,{to:"/book/".concat(d._id)},c.a.createElement("img",{src:d.thumbnail,alt:"book"}))),c.a.createElement("div",{className:se("ser-info")},c.a.createElement(i.b,{to:"/book/".concat(d._id)},c.a.createElement("h3",{className:se("ser-title")},d.title)),c.a.createElement("p",{className:se("ser-author")},function(e){var t="";return e.forEach((function(e){t+=e})),t}(d.authors)),c.a.createElement("p",{className:se("ser-contents")},d&&d.contents?d.contents.length>100?"".concat(d.contents.substr(0,100),"..."):d.contents:"\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")))}if("profile"===t){var b=e.book.book,p=window.location.href.endsWith("/me"),E=function(){s((function(e){return!e}))};return c.a.createElement("div",{className:se("shelve")},c.a.createElement(i.b,{to:"/book/".concat(null===b||void 0===b?void 0:b._id)},c.a.createElement("p",{className:se("title")},null===b||void 0===b?void 0:b.title)),p?c.a.createElement("div",{className:se("setting-btns")},c.a.createElement("div",{className:se("edit-container")},c.a.createElement("span",{className:se("edit"),onClick:E},c.a.createElement(D.c,null)),o?c.a.createElement(ie,{type:a,item:b,handleCancel:E}):null),c.a.createElement("div",null,c.a.createElement("span",{className:se("delete"),onClick:function(t){return function(){var a=e.deleteShelve,n=e.book;a(e.profile.user._id,n._id,t)}}(a)},c.a.createElement(D.k,null)))):null)}})),me=a(33),de=p.a.bind(P.a),be=Object(G.b)(null,null)((function(e){var t=e.from,a=e.booklist,n=e.type,r=e.handleMore,l=e.done;return"home"===t?c.a.createElement("section",{className:de("book-list")},a?"\uc804\uccb4"===n&&a.length>0?c.a.createElement(c.a.Fragment,null,a.map((function(e){return c.a.createElement(i.b,{to:"/book/".concat(e._id),key:Object(C.a)()},c.a.createElement(ue,{book:e,from:t}))})),!1===l&&c.a.createElement("div",{className:de("more-book-btn"),onClick:r},c.a.createElement("p",null,"\ub354 \ubcf4\uae30 +"))):c.a.createElement(c.a.Fragment,null,a.filter((function(e){var t;return null===e||void 0===e?void 0:null===(t=e.genres)||void 0===t?void 0:t.includes(n)})).map((function(e){return c.a.createElement(i.b,{to:"/book/".concat(e._id),key:Object(C.a)()},c.a.createElement(ue,{book:e,from:t}))})),a.filter((function(e){var t;return null===e||void 0===e?void 0:null===(t=e.genres)||void 0===t?void 0:t.includes(n)})).length>0&&!1===l&&a.length%15!==0&&c.a.createElement("div",{className:de("more-book-btn"),onClick:r},c.a.createElement("p",null,"\ub354 \ubcf4\uae30 +"))):c.a.createElement(me.ChasingDots,{color:"white",size:60})):"search"===t?c.a.createElement("section",{className:de("ser-container")},c.a.createElement("ul",{className:de("ser-ul")},a.map((function(e){return c.a.createElement(ue,{book:e,from:t,key:Object(C.a)()})})))):"profile"===t?c.a.createElement("section",null,c.a.createElement("ul",null,a.map((function(e){return c.a.createElement(ue,{book:e,from:t,key:Object(C.a)(),type:n})})))):void 0})),pe=a(87),Ee=a.n(pe),ve=a(34),fe=a(31),ge=p.a.bind(Ee.a),Oe=function(e){var t=e.title,a=e.books;return c.a.createElement("section",{className:ge("vertical")},c.a.createElement("p",{className:ge("title")},t,c.a.createElement(ve.a,{className:ge("book-icon"),icon:fe.c})),c.a.createElement("section",{className:ge("list")},null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement(i.b,{key:Object(C.a)(),to:"/book/".concat(e._id)},c.a.createElement(ue,{book:e,from:"home"}))}))))},je=p.a.bind(g.a),he=function(e){var t=e.booklist,a=e.handleClick,n=e.handleMore,l=e.sliderBooks,o=e.recentBooks,i=e.popularBooks,s=e.type,m=e.done,d=Object(r.useState)(!0),b=Object(u.a)(d,2),p=b[0],E=b[1],v=Object(r.useState)(["\uc804\uccb4","\uc18c\uc124","IT","\uacbd\uc81c","\uad50\uc591","\uc790\uae30\uacc4\ubc1c","\uacfc\ud559","\uc5ed\uc0ac","\uc815\uce58","\uae30\ud0c0"]),f=Object(u.a)(v,2),g=f[0];f[1];return Object(r.useEffect)((function(){return function(){}})),c.a.createElement("section",{className:je("home-content")},c.a.createElement(I,{books:l}),c.a.createElement(Oe,{title:"\ucd5c\uadfc \uacf5\uc720\ub41c \ucc45",books:o.slice(0,15)}),c.a.createElement(Oe,{title:"\ud3c9\uc810 \uc88b\uc740 \ucc45",books:i}),c.a.createElement("section",{className:je("books-wrapper")},c.a.createElement("section",{className:je("book-category-section")},c.a.createElement("div",{className:je(["book-category-div","".concat(p?"hide":"more")])},c.a.createElement("ul",{className:je("book-category-ul")},p?g.slice(0,7).map((function(e){return c.a.createElement("li",{key:Object(C.a)(),className:je("book-category-li","".concat(s===e?"selected":"")),onClick:a,"data-value":e},e)})):g.map((function(e){return c.a.createElement("li",{key:Object(C.a)(),className:je("book-category-li","".concat(s===e?"selected":"")),onClick:a,"data-value":e},e)})))),c.a.createElement("div",{className:je("more-container"),onClick:function(){E((function(e){return!e}))}},p?"\ub354 \ubcf4\uae30":"\uc228\uae30\uae30",c.a.createElement(ve.a,{className:je("more"),icon:p?fe.a:fe.b}))),c.a.createElement(be,{booklist:t,handleMore:n,from:"home",type:s,done:m})))},ke=a(88),Se=function(e){var t=e.title,a=e.keywords,n=e.description;return c.a.createElement(ke.a,null,n&&c.a.createElement("meta",{name:"description",content:n}),a&&c.a.createElement("meta",{name:"keywords",content:a}),c.a.createElement("title",null,t),c.a.createElement("meta",{property:"og:title",content:t}),c.a.createElement("meta",{name:"twitter:title",content:t}))},_e=a(20);V.a.config();var Ne="https://happread.herokuapp.com/";console.log(Ne);var we=function(e,t){return A.a.get("".concat(Ne,"books/type/").concat(decodeURI(e),"?page=").concat(t))},ye=function(e,t,a){return A.a.get("".concat(Ne,"book/search?q=").concat(decodeURI(e),"&type=",0))},Ce=function(e){return A.a.get("".concat(Ne,"book/").concat(e))},Re=function(e,t,a){return A.a.post("".concat(Ne,"book/").concat(e),{vote:a,name:t})},Ie=function(e){var t=e._id,a=e.title,n=e.contents,r=e.genres;return A.a.put("".concat(Ne,"book/").concat(t),{title:a,contents:n,genres:r})},Le=function(e,t){return{type:"GET_BOOKS",payload:we(e,t)}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"GET_SEARCH_BOOKS",payload:ye(e)}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"GET_MORE_BOOKS",payload:ye(e)}},Ue=function(e){return{type:"GET_DETAIL",payload:Ce(e)}},De=Object(B.a)((M={},Object(x.a)(M,"GET_SLIDER_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{sliderPending:!0,sliderError:!1,sliderSuccess:!1})})),Object(x.a)(M,"GET_SLIDER_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data.books;return Object(O.a)({},e,{sliderBooks:a,sliderPending:!1,sliderSuccess:!0})})),Object(x.a)(M,"GET_SLIDER_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{sliderPending:!1,sliderError:!0})})),Object(x.a)(M,"GET_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{allBookPending:!0,allBookError:!1,allBookSuccess:!1,allBookDone:!1})})),Object(x.a)(M,"GET_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data,n=a.books,r=a.page;return Object(O.a)({},e,{allBookPending:!1,allBookSuccess:!0,allBookDone:n.length<15,books:void 0===e.books||1===parseInt(r,10)?n:[].concat(Object(_e.a)(e.books),Object(_e.a)(n))})})),Object(x.a)(M,"GET_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{allBookPending:!1,allBookError:!0})})),Object(x.a)(M,"GET_SEARCH_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{books:[],searchPending:!0,searchSuccess:!1,searchFailure:!1})})),Object(x.a)(M,"GET_SEARCH_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data.books;return Object(O.a)({},e,{searchPending:!1,searchSuccess:!0,books:a})})),Object(x.a)(M,"GET_SEARCH_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{searchPending:!1,searchFailure:!0})})),Object(x.a)(M,"GET_MORE_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{morePending:!0,moreError:!1})})),Object(x.a)(M,"GET_MORE_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data.documents;return Object(O.a)({},e,{morePending:!1,moreError:!1,books:[].concat(Object(_e.a)(e.books),Object(_e.a)(a))})})),Object(x.a)(M,"GET_MORE_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{morePending:!1,moreError:!0})})),Object(x.a)(M,"POST_RATE_PENDING",(function(e,t){return Object(O.a)({},e,{vote_pending:!0,vote_error:!1,vote_success:!1})})),Object(x.a)(M,"POST_RATE_SUCCESS",(function(e,t){var a=t.payload.data.book;return Object(O.a)({},e,{vote_pending:!1,vote_error:!1,vote_success:!0,book:a})})),Object(x.a)(M,"POST_RATE_FAILURE",(function(e,t){return Object(O.a)({},e,{vote_pending:!1,vote_error:!0,vote_success:!1})})),Object(x.a)(M,"GET_DETAIL_PENDING",(function(e,t){return Object(O.a)({},e,{bookPending:!0,bookError:!1})})),Object(x.a)(M,"GET_DETAIL_SUCCESS",(function(e,t){var a=t.payload.data.book;return Object(O.a)({},e,{bookPending:!1,bookSuccess:!0,book:a,votes:a.votes})})),Object(x.a)(M,"GET_DETAIL_FAILURE",(function(e,t){return Object(O.a)({},e,{bookPending:!1,bookError:!0})})),Object(x.a)(M,"GET_RECENT_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{recentPending:!0,recentError:!1,recentSuccess:!1})})),Object(x.a)(M,"GET_RECENT_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data;return Object(O.a)({},e,{recentBooks:a,recentPending:!1,recentSuccess:!0})})),Object(x.a)(M,"GET_RECENT_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{recentPending:!0,recentError:!0})})),Object(x.a)(M,"GET_POPULAR_BOOKS_PENDING",(function(e,t){return Object(O.a)({},e,{popularPending:!0,popularError:!1,popularSuccess:!1})})),Object(x.a)(M,"GET_POPULAR_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data;return Object(O.a)({},e,{popularBooks:a,popularPending:!1,popularSuccess:!0})})),Object(x.a)(M,"GET_POPULAR_BOOKS_FAILURE",(function(e,t){return Object(O.a)({},e,{popularPending:!0,popularError:!0})})),Object(x.a)(M,"EDIT_BOOK_PENDING",(function(e,t){return Object(O.a)({},e,{editBookPending:!0,editBookSuccess:!1,editBookFailure:!1})})),Object(x.a)(M,"EDIT_BOOK_SUCCESS",(function(e,t){return Object(O.a)({},e,{editBookPending:!1,editBookSuccess:!0})})),Object(x.a)(M,"EDIT_BOOK_FAILURE",(function(e,t){return Object(O.a)({},e,{editBookPending:!1,editBookFailure:!0})})),M),{allBookPending:!1,allBookSuccess:!1,allBookError:!1,allBookDone:!1,books:[],morePending:!1,moreError:"",sliderBooks:[],sliderPending:!1,sliderError:!1,sliderSuccess:!1,total:0,vote_pending:!1,vote_error:!1,vote_success:!1,term:"",book:{},bookPending:!1,bookSuccess:!1,bookFailure:!1,recentBooks:[],recentPending:!1,recentError:!1,recentSuccess:!1,popularBooks:[],popularPending:!1,popularError:!1,popularSuccess:!1,editBookPending:!1,editBookSuccess:!1,editBookFailure:!1,searchPending:!1,searchSuccess:!1,searchFailure:!1}),Ge=a(91),xe=a.n(Ge),Be=p.a.bind(xe.a),Fe=function(){return c.a.createElement("section",{className:Be("loading")},c.a.createElement(me.ChasingDots,{color:"white",size:60}))},Ae=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)("\uc804\uccb4"),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object(r.useState)(1),d=Object(u.a)(m,2),b=d[0],p=d[1],E=Object(G.c)(),f=Object(G.d)((function(e){return e.books})),g=f.allBookDone,O=f.sliderPending,j=f.recentPending,h=f.popularPending,k=f.books,S=f.sliderBooks,_=f.recentBooks,N=f.popularBooks;Object(r.useEffect)((function(){n(!0),E(Le("\uc804\uccb4",1)),E({type:"GET_SLIDER_BOOKS",payload:A.a.get("".concat(Ne,"book/sliders"))}),E({type:"GET_RECENT_BOOKS",payload:A.a.get("".concat(Ne,"books/recent"))}),E({type:"GET_POPULAR_BOOKS",payload:A.a.get("".concat(Ne,"books/popular"))}),n(!1)}),[E]);var w=Object(r.useCallback)((function(e){var t=e.target.dataset;s(t.value)}),[s]),y=Object(r.useCallback)((function(){g||(E(Le("\uc804\uccb4",b+1)),p(b+1))}),[E,b,g]);return c.a.createElement("main",null,c.a.createElement(Se,{title:"Home | HappReads",description:"\ucc45\ub4e4\uc744 \uacf5\uc720 \uadf8\ub9ac\uace0 \ub9ac\ubdf0\ud558\uba70 \uc77d\uc5b4\ubcf4\uc9c0 \ubabb\ud55c \uc0c8\ub85c\uc6b4 \ucc45\uc744 \ubc1c\uacac\ud558\uc138\uc694!!",keywords:"\ucc45, \ucc45 \uacf5\uc720, \ucc45 \ub9ac\ubdf0, HappReads, happreads"}),a||O||j||h?c.a.createElement(Fe,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(v,null),c.a.createElement(he,{booklist:k,sliderBooks:S,recentBooks:_,popularBooks:N,handleClick:w,handleMore:y,done:g,type:i,page:b})))},He=a(92),Ve=a.n(He),Me=a(93),Ke=a.n(Me),We=p.a.bind(Ke.a),Ye=function(e){var t=e.type;return c.a.createElement("div",{className:We("social-login")},c.a.createElement("h2",null,"login"===t?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"),c.a.createElement("button",{className:We("github","button")},c.a.createElement("span",{className:We("icon")},c.a.createElement(D.d,null)),c.a.createElement("span",null,"Github\uc73c\ub85c \uc2dc\uc791\ud558\uae30")))},qe=p.a.bind(Ve.a),ze=function(e){var t=e.loginRequest,a=(e.login_success,e.login_pending,Object(r.useState)("")),n=Object(u.a)(a,2),l=n[0],o=n[1],s=Object(r.useState)(""),m=Object(u.a)(s,2),d=m[0],b=m[1],p=Object(r.useCallback)((function(e){e.preventDefault(),t(l,d)}),[l,d,t]),E=Object(r.useCallback)((function(e){o(e.target.value)}),[]),v=Object(r.useCallback)((function(e){b(e.target.value)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:qe("login-form","form-container")},c.a.createElement(Ye,{type:"login"}),c.a.createElement("form",{onSubmit:p},c.a.createElement("input",{type:"email",value:l,onChange:E,placeholder:"\uc774\uba54\uc77c",required:!0}),c.a.createElement("input",{type:"password",value:d,onChange:v,placeholder:"\ube44\ubc00\ubc88\ud638",required:!0}),c.a.createElement("input",{type:"submit",value:"\ub85c\uadf8\uc778"})),c.a.createElement(i.b,{to:"/signup"},c.a.createElement("button",null,"\uac00\uc785"))))},Je=a(94),Xe=a.n(Je),Qe=p.a.bind(Xe.a),Ze=function(e){var t=e.type,a=e.children;return c.a.createElement("div",{className:Qe(["notice-container",t])},a)};V.a.config();var $e,et=function(){var e=Object(G.d)((function(e){return e.login})),t=e.isLoggedIn,a=e.loginPending,n=e.loginSuccess,r=e.loginError,l=Object(G.c)(),o=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({type:"LOGIN",payload:K(t,a)});case 3:n=e.sent,r=n.value,c=r.data,200===r.status&&(o=c.token,localStorage.setItem("atk",o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}var o}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return!0===t?c.a.createElement(s.a,{to:"/"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"Login | HappReads"}),r&&c.a.createElement(Ze,{type:"error"},"\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4"),c.a.createElement(ze,{loginRequest:o,login_pending:a,login_success:n}))},tt=a(95),at=a.n(tt),nt=p.a.bind(at.a),rt=function(e){var t=e.handleSignUp,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)({p1:"",p2:""}),s=Object(u.a)(i,2),m=s[0],d=s[1],b=Object(r.useCallback)((function(e){var t=e.target;o(t.value)}),[]),p=Object(r.useCallback)((function(e){var t=e.target;d(Object(O.a)({},m,{p1:t.value}))}),[m]),E=Object(r.useCallback)((function(e){var t=e.target;d(Object(O.a)({},m,{p2:t.value}))}),[m]);return c.a.createElement("section",{className:nt("signup-form","form-container")},c.a.createElement(Ye,{type:"signup"}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=m.p1;a===m.p2&&t(l,a)}},c.a.createElement("input",{type:"email",value:l,onChange:b,placeholder:"\uc774\uba54\uc77c",required:!0}),c.a.createElement("input",{type:"password",value:m.p1,onChange:p,placeholder:"\ube44\ubc00\ubc88\ud638",required:!0}),c.a.createElement("input",{type:"password",value:m.p2,onChange:E,placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",required:!0}),c.a.createElement("input",{type:"submit",value:"\uac00\uc785"})))};V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var ct=function(e,t){return A.a.post("signup",{email:e,password:t})},lt=function(e,t){return{type:"SIGNUP",payload:ct(e,t)}},ot=Object(B.a)(($e={},Object(x.a)($e,"SIGNUP_PENDING",(function(e,t){return{signup_pending:!0,signup_success:!1,signup_error:!1}})),Object(x.a)($e,"SIGNUP_SUCCESS",(function(e,t){return{signup_pending:!1,signup_success:!0}})),Object(x.a)($e,"SIGNUP_FAILURE",(function(e,t){return{signup_pending:!1,signup_error:!0}})),$e),{signup_pending:!1,signup_success:!1,signup_error:!1});V.a.config();var it=function(e){var t=e.history,a=Object(G.c)(),n=Object(G.d)((function(e){return e.signup})),r=n.signup_pending,l=n.signup_success,o=n.signup_error,i=Object(G.d)((function(e){return e.login})).isLoggedIn,u=function(){var e=Object(ne.a)(ae.a.mark((function e(t,n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(lt(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return i?c.a.createElement(s.a,{to:"/HappReads-front"}):l?c.a.createElement(s.a,{to:"/login"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"SignUp | HappReads"}),c.a.createElement(rt,{history:t,handleSignUp:u,signup_pending:r,signup_success:l,signup_error:o}))},st=a(96),ut=a.n(st),mt=a(97),dt=a.n(mt),bt=function(){return localStorage.getItem("atk")},pt=function(e){if(e){var t=0;if(e.length>0){for(var a=0;a<e.length;a++)t+=parseInt(e[a].vote);return(t/e.length).toFixed(2)}return 0}return 0};V.a.config();var Et,vt=p.a.bind(dt.a),ft=function(e){var t,a,n=e.profile,l=e.isOpen,o=e.handleClose,i=Object(G.c)(),s=Object(r.useState)({seletedImg:null,avatarUrl:n?n.avatarUrl:void 0,nickname:n?n.name:"",website:n?n.website:"",intro:n?n.intro:"",interest:n?n.interest:""}),m=Object(u.a)(s,2),d=m[0],b=m[1],p=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,r,c,l,o,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.seletedImg,a=d.nickname,r=d.website,c=d.interest,l=d.intro,(o=new FormData).append("avatar",t),o.append("email",n.email),o.append("nickname",a),o.append("website",r),o.append("interest",c),o.append("intro",l),e.prev=8,e.next=11,i({type:"EDIT_PROFILE",payload:J(o)});case 11:s=e.sent,200===s.value.status&&(window.location.href="".concat("/HappReads-front/#/me")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}(),E=Object(r.useCallback)((function(e){var t=e.target.files;b(Object(O.a)({},d,{seletedImg:t[0]})),function(e){var t=URL.createObjectURL(e);document.querySelector(".preview-img").src=t}(t[0])}),[d,b]),v=Object(r.useCallback)((function(e){var t=e.target;b(Object(O.a)({},d,{nickname:t.value}))}),[d,b]),f=Object(r.useCallback)((function(e){var t=e.target;b(Object(O.a)({},d,{website:t.value}))}),[d,b]),g=Object(r.useCallback)((function(e){var t=e.target;b(Object(O.a)({},d,{interest:t.value}))}),[d,b]),j=Object(r.useCallback)((function(e){var t=e.target;b(Object(O.a)({},d,{intro:t.value}))}),[d,b]);return c.a.createElement("section",{className:vt("user-edit",l?"close":"open")},c.a.createElement("div",{className:vt("x-button")},c.a.createElement("p",{onClick:o},c.a.createElement("span",{role:"img","aria-label":"close"},"\u274c"))),c.a.createElement("section",{className:vt("form-container")},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),alert(e.target.dataset),p()}},c.a.createElement("div",{className:vt("upload-btn-wrapper")},c.a.createElement("img",{className:vt("preview-img"),alt:"\uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0",src:(a=null===d||void 0===d?void 0:d.avatarUrl,void 0===a?"https://wetuberbucket.s3.ap-northeast-2.amazonaws.com/avatars/58c11a401956bab841de5f227c337c43":a)}),c.a.createElement("div",{style:{position:"relative"}},c.a.createElement("button",{className:vt("btn")},void 0===(null===d||void 0===d?void 0:null===(t=d.seletedImg)||void 0===t?void 0:t.name)?"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc":d.seletedImg.name),c.a.createElement("input",{type:"file",name:"avatar",onChange:E}))),c.a.createElement("input",{type:"text",name:"nickname",value:null===d||void 0===d?void 0:d.nickname,placeholder:"\ub2c9\ub124\uc784",onChange:v}),c.a.createElement("input",{type:"email",name:"website",placeholder:"\uc6f9 \uc0ac\uc774\ud2b8 ex) http://www.example.com",value:null===d||void 0===d?void 0:d.website,onChange:f}),c.a.createElement("input",{type:"text",name:"interest",placeholder:"\ucde8\ubbf8",value:null===d||void 0===d?void 0:d.interest,onChange:g}),c.a.createElement("textarea",{name:"intro",placeholder:"\uc18c\uac1c",value:null===d||void 0===d?void 0:d.intro,onChange:j}),c.a.createElement("input",{type:"submit",value:"\uc218\uc815"}),c.a.createElement("button",{onClick:o,"data-value":"cancel"},"\ucde8\uc18c"))))},gt=a(98),Ot=a.n(gt),jt=a(24),ht=a.n(jt);V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var kt,St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return A.a.get("reviews?limit=".concat(e,"&page=").concat(t))},_t=function(e,t,a,n){return A.a.post("book/".concat(e,"/review"),{name:t,content:a,book:n})},Nt=function(e,t){return A.a.post("book/review/".concat(e),{content:t})},wt=function(e,t,a){return A.a.post("review/like",{type:e,id:t,uid:a})},yt=function(e){return{type:"GET_REVIEWS",payload:St(e.limit,e.page)}},Ct=function(e){return{type:"GET_REVIEW",payload:(t=e,A.a.get("book/".concat(t,"/review")))};var t},Rt=function(e,t,a,n){return{type:"POST_REVIEW",payload:_t(e,t,a,n)}},It=function(e,t){return{type:"EDIT_REVIEW",payload:Nt(e,t)}},Lt=function(e,t,a){return{type:"LIKE_REVIEW",payload:wt(e,t,a)}},Pt=Object(B.a)((Et={},Object(x.a)(Et,"GET_REVIEWS_PENDING",(function(e,t){return Object(O.a)({},e,{loadReviewsPending:!0,loadReviewsError:!1,loadReviewsSuccess:!1,loadReviewsDone:!1})})),Object(x.a)(Et,"GET_REVIEWS_SUCCESS",(function(e,t){var a=t.payload.data,n=a.reviews,r=a.page,c=a.hasMore;return Object(O.a)({},e,{reviews:1!==parseInt(r)?[].concat(Object(_e.a)(e.reviews),Object(_e.a)(n)):Object(_e.a)(n),loadReviewsPending:!1,loadReviewsSuccess:!0,hasMore:c})})),Object(x.a)(Et,"GET_REVIEWS_FAILURE",(function(e,t){return Object(O.a)({},e,{loadReviewsPending:!1,loadReviewsError:!0,loadReviewsDone:!1})})),Object(x.a)(Et,"POST_REVIEW_PENDING",(function(e,t){return Object(O.a)({},e,{postReviewPending:!0,postReviewSuccess:!1,postReviewError:!1})})),Object(x.a)(Et,"POST_REVIEW_SUCCESS",(function(e,t){return Object(O.a)({},e,{reviews:t.payload.data.reviews,postReviewPending:!1,postReviewSuccess:!0})})),Object(x.a)(Et,"POST_REVIEW_FAILURE",(function(e,t){return Object(O.a)({},e,{postReviewPending:!1,postReviewError:!0})})),Object(x.a)(Et,"GET_REVIEW_PENDING",(function(e,t){return Object(O.a)({},e,{error:!1,pending:!0,success:!1})})),Object(x.a)(Et,"GET_REVIEW_SUCCESS",(function(e,t){return{reviews:t.payload.data.reviews,error:!1,pending:!1,success:!0}})),Object(x.a)(Et,"GET_REVIEW_FAILURE",(function(e,t){return{error:!0,pending:!1,success:!1}})),Object(x.a)(Et,"EDIT_REVIEW_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1,success:!1})})),Object(x.a)(Et,"EDIT_REVIEW_SUCCESS",(function(e,t){return Object(O.a)({},e,{reviews:t.payload.data.reviews,pending:!1,error:!1,success:!0})})),Object(x.a)(Et,"EDIT_REVIEW_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0,success:!1})})),Object(x.a)(Et,"LIKE_REVIEW_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(Et,"LIKE_REVIEW_SUCCESS",(function(e,t){var a=t.payload.data.review,n=-1;e.reviews.forEach((function(e,t){e._id===a._id&&(n=t)})),e.reviews[n]=a;var r=e.reviews;return Object(O.a)({},e,{pending:!1,error:!1,success:!0,reviews:Object(_e.a)(r)})})),Object(x.a)(Et,"LIKE_REVIEW_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),Et),{reviews:[],pending:!1,success:!1,error:!1,loadReviewsPending:!1,loadReviewsError:!1,loadReviewsSuccess:!1,loadReviewsDone:!1,hasMore:!1,postReviewPending:!1,postReviewSuccess:!1,postReviewError:!1});V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var Tt,Ut=function(e){return A.a.get("profile/".concat(e))},Dt=function(e){return{type:"GET_USER",payload:Ut(e)}},Gt=Object(B.a)((kt={},Object(x.a)(kt,"GET_USER_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(kt,"GET_USER_SUCCESS",(function(e,t){return{pending:!1,error:!1,profile:t.payload.data.user}})),Object(x.a)(kt,"GET_USER_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),Object(x.a)(kt,"GET_TOP_READERS_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(kt,"GET_TOP_READERS_SUCCESS",(function(e,t){var a=t.payload.data.readers;return Object(O.a)({},e,{topReaders:a,pending:!1,error:!1})})),Object(x.a)(kt,"GET_TOP_READERS_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),Object(x.a)(kt,"GET_TOP_REVIEWERS_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1})})),Object(x.a)(kt,"GET_TOP_REVIEWERS_SUCCESS",(function(e,t){var a=t.payload.data.reviewers;return Object(O.a)({},e,{topReviewers:a,pending:!1,error:!1})})),Object(x.a)(kt,"GET_TOP_REVIEWERS_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),kt),{pending:!1,error:!1,profile:{},topReaders:[],topReviewers:[]}),xt=a(99),Bt=a.n(xt),Ft=p.a.bind(Bt.a),At=function(e){var t=e.review,a=e.handleClose,n=Object(r.useState)((null===t||void 0===t?void 0:t.content)||""),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(G.c)(),m=Object(G.d)((function(e){return e.login})).isLoggedIn,d=Object(r.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bt())try{s(X(t))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)}))),[s]),b=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(It(t,a));case 3:n=e.sent,200===n.value.status&&d(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[d,s]),p=Object(r.useCallback)((function(e){e.preventDefault(),m&&b(t._id,o)}),[o,m,t,b]);return Object(r.useEffect)((function(){return function(){}})),c.a.createElement("section",{className:Ft(["review-modal","modal-container"])},c.a.createElement("section",{className:"modal-overlay"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:Ft("form-container")},c.a.createElement("img",{src:void 0!==t.book?t.book.thumbnail:"",alt:void 0!==t.book?t.book.title:""}),c.a.createElement("form",{onSubmit:p},c.a.createElement("textarea",{value:o,onChange:function(e){var t=e.target;i(t.value)}},o),c.a.createElement("input",{type:"submit",value:"\uc218\uc815"}),c.a.createElement("button",{className:Ft("cancel"),onClick:a},"\ucde8\uc18c"))))))},Ht=p.a.bind(Ot.a),Vt=function(e){var t=e.profile,a=e.isMe,n=Object(r.useState)(null),l=Object(u.a)(n,2),o=l[0],s=l[1],m=Object(r.useState)(!1),d=Object(u.a)(m,2),b=d[0],p=d[1],E=Object(G.c)(),v=Object(G.d)((function(e){return e.login})),f=v.profile,g=v.pending,O=v.isLoggedIn;Object(r.useEffect)((function(){return function(){}}));var j=Object(r.useCallback)((function(){if(a){var e=bt();e&&E(X(e))}else E(Dt(t._id))}),[E,a,t]),h=function(e){var t=e.currentTarget,a=t.getAttribute("data-bid"),n=t.getAttribute("data-value"),r=f.user._id;k(a,n,r)},k=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E($(t,a,n));case 3:r=e.sent,200===r.value.status&&j(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),S=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(a,n){var r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(Lt(a,n,t._id,f.user._id));case 3:r=e.sent,200===(c=r.value.status)&&(console.log(c),j()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[E,f,t,j]),_=Object(r.useCallback)((function(e){return function(t){O?S("like",e):alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}}),[S,O]),N=Object(r.useCallback)((function(e){return function(t){p(!0),s(e)}}),[]),w=Object(r.useCallback)((function(){p(!1),s(null)}),[]);return c.a.createElement("div",{className:Ht("user-review")},!1===g&&t&&t.reviews&&t.reviews.map((function(e){return function(e,t,a,n,r,l){var o;return c.a.createElement("section",{className:Ht("review-container"),id:e._id,key:Object(C.a)()},c.a.createElement("div",null,c.a.createElement(i.b,{to:"/book/".concat(null===(o=e.book)||void 0===o?void 0:o._id)},c.a.createElement("img",{src:void 0!==e.book?e.book.thumbnail:"",alt:void 0!==e.book?e.book.title:""}))),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:Ht("review-book")},void 0!==e.book?e.book.title:""),c.a.createElement("p",{className:Ht("review-text")},void 0!==e.book?e.content:""),c.a.createElement("p",{className:Ht("review-date")},ht()(e.createdAt).format("YYYY\ub144 MM\uc6d4 DD\uc77c HH:MM:SS")),c.a.createElement("p",{className:Ht("like-container")},c.a.createElement("span",{className:Ht("review-like")},e.likes.length," likes"),c.a.createElement("span",{className:Ht("likebtn"),onClick:t(e._id)},c.a.createElement(D.e,null))))),l===r?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Ht("review-edit"),"data-value":e._id,onClick:n(e)},c.a.createElement(D.c,null)),c.a.createElement("span",{className:Ht("review-remove"),"data-value":e._id,"data-bid":e.book._id,onClick:a},c.a.createElement(D.k,null))):null)}(e,_,h,N,f.user._id,t._id)})),b&&c.a.createElement(At,{review:o,handleClose:w}))},Mt=p.a.bind(ut.a),Kt=function(e){var t,a,n,l,o,s,m,d,b=e.profile,p=e.from,E=Object(r.useState)(!1),v=Object(u.a)(E,2),f=v[0],g=v[1],O=Object(r.useState)(0),j=Object(u.a)(O,2),h=j[0],k=j[1],S=Object(r.useState)("/me"===p),_=Object(u.a)(S,2),N=_[0],w=_[1],y=Object(r.useCallback)((function(){g(!0)}),[]),R=Object(r.useCallback)((function(e){e.preventDefault(),g(!1)}),[]),I=Object(r.useCallback)((function(e){return function(t){k(e)}}),[]);Object(r.useEffect)((function(){return w("/me"===p),function(){}}),[p]);var L=function(e,t,a){var n,r,l,o,s,u;return"uploaded"!==a?"/me"===e?t&&(null===(n=t[a])||void 0===n?void 0:n.length)>0?c.a.createElement("div",null,c.a.createElement(be,{booklist:t[a],from:"profile",type:a})):c.a.createElement("p",{className:Mt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):t&&(null===(r=t[a])||void 0===r?void 0:r.length)>0?c.a.createElement("div",null,c.a.createElement(be,{booklist:t[a],from:"profile"})):c.a.createElement("p",{className:Mt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):"/me"===e?t&&(null===t||void 0===t?void 0:null===(l=t.uploaded)||void 0===l?void 0:l.length)>0?c.a.createElement("div",{className:Mt("uploaded-list")},null===t||void 0===t?void 0:null===(o=t.uploaded)||void 0===o?void 0:o.map((function(e){return c.a.createElement("div",{className:Mt("uploaded-img-wrapper"),key:Object(C.a)()},c.a.createElement("img",{className:Mt("uploaded-img"),src:e.thumbnail,alt:e.thumbnail}),c.a.createElement("div",{className:Mt("to-detail")},c.a.createElement(i.b,{to:"/book/".concat(e._id)},e.title)))}))):c.a.createElement("p",{className:Mt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):t&&(null===t||void 0===t?void 0:null===(s=t.uploaded)||void 0===s?void 0:s.length)>0?c.a.createElement("div",{className:Mt("uploaded-list")},null===t||void 0===t?void 0:null===(u=t.uploaded)||void 0===u?void 0:u.map((function(e){return c.a.createElement("div",{className:Mt("uploaded-img-wrapper"),key:Object(C.a)()},c.a.createElement("img",{className:Mt("uploaded-img"),src:e.thumbnail,alt:e.thumbnail}),c.a.createElement("div",{className:Mt("to-detail")},c.a.createElement(i.b,{to:"/book/".concat(e._id)},"\uc0c1\uc138 \ud398\uc774\uc9c0")))}))):c.a.createElement("p",{className:Mt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4.")};return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:Mt("user-profile")},c.a.createElement("section",{className:Mt("profile-wrapper")},c.a.createElement("div",{className:Mt("info")},c.a.createElement("img",{src:b&&void 0!==b?b.avatarUrl:"",alt:b&&void 0!==b?b.email:""}),c.a.createElement("h1",null,b&&void 0!==b?b.email:""),c.a.createElement("div",{className:Mt("profile-edit")},"/me"===p?c.a.createElement("p",{to:"/edit",onClick:y},"\ud504\ub85c\ud544 \uc218\uc815"):null),c.a.createElement("div",{className:Mt("rate-review")},c.a.createElement("p",null,b&&void 0!==b?null===b||void 0===b?void 0:null===(t=b.votes)||void 0===t?void 0:t.length:0,"\ud3c9\uac00"),c.a.createElement("p",null,b&&void 0!==b?null===b||void 0===b?void 0:null===(a=b.reviews)||void 0===a?void 0:a.length:0,"\ub9ac\ubdf0")),c.a.createElement("p",{className:Mt("intro")},b&&void 0!==b?null===b||void 0===b?void 0:b.intro:0))),c.a.createElement("section",null,c.a.createElement("ul",{className:Mt("catalog-list")},c.a.createElement("li",{className:0===h?Mt("active"):"",onClick:I(0)},"\ucc45"),c.a.createElement("li",{className:1===h?Mt("active"):"",onClick:I(1)},"\ub9ac\ubdf0")),c.a.createElement("section",{style:0===h?{display:"block"}:{display:"none"}},c.a.createElement("section",{className:Mt("uploaded")},c.a.createElement("div",{className:Mt("uploaded-head")},"/me"===p?c.a.createElement(i.b,{to:b&&void 0!==b?"shelve/".concat(null===b||void 0===b?void 0:b._id):"/"},c.a.createElement("h2",null,"\uc5c5\ub85c\ub4dc \ud55c \ucc45")):c.a.createElement("h2",null,"\uc5c5\ub85c\ub4dc \ud55c \ucc45")),c.a.createElement("div",{className:Mt("uploaded-body"),style:{marginLeft:"5px",marginTop:"5px"}},L(p,b,"uploaded"))),c.a.createElement("section",{className:Mt("want-read")},c.a.createElement("div",{className:Mt("want-read-head")},"/me"===p?c.a.createElement("h2",null,"\uc77d\uc744 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(n=b.want_read)||void 0===n?void 0:n.length:0,")"):c.a.createElement("h2",null,"\uc77d\uc744 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(l=b.want_read)||void 0===l?void 0:l.length:0,")")),c.a.createElement("div",{className:Mt("want-read-body")},L(p,b,"want_read")),c.a.createElement("div",null)),c.a.createElement("section",{className:Mt("currently-reading")},c.a.createElement("div",{className:Mt("currently-head")},"/me"===p?c.a.createElement("h2",null,"\ud604\uc7ac \uc77d\uace0 \uc788\ub294 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(o=b.reading)||void 0===o?void 0:o.length:0,")"):c.a.createElement("h2",null,"\ud604\uc7ac \uc77d\uace0 \uc788\ub294 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(s=b.reading)||void 0===s?void 0:s.length:0,")")),c.a.createElement("div",{className:Mt("currently-body")},L(p,b,"reading"))),c.a.createElement("section",{className:Mt("read")},c.a.createElement("div",{className:Mt("read-head")},"/me"===p?c.a.createElement("h2",null,"\uc77d\uc740 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(m=b.read)||void 0===m?void 0:m.length:0,")"):c.a.createElement("h2",null,"\uc77d\uc740 \ucc45 (",b&&void 0!==b?null===b||void 0===b?void 0:null===(d=b.read)||void 0===d?void 0:d.length:0,")")),c.a.createElement("div",{className:Mt("read-body")},L(p,b,"read")))),c.a.createElement("section",{style:1===h?{display:"block"}:{display:"none"}},c.a.createElement("section",{className:Mt("recent-update")},c.a.createElement("div",{className:Mt("recent-head")},c.a.createElement("h2",null,"\ub9ac\ubdf0")),c.a.createElement("div",{className:Mt("recent-body")},b&&void 0!==b?c.a.createElement(Vt,{key:Object(C.a)(),profile:b,isMe:N}):"\ub9ac\ubdf0 \uc5c6\uc74c"))))),function(e,t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Mt("modal-overay",e?"open-modal":"close-modal")}),c.a.createElement("div",{className:Mt(e?"open-modal":"close-modal")},c.a.createElement(ft,{handleClose:t,profile:a,isOpen:!e})))}(f,R,b))},Wt=function(e){var t=e.history.location,a=Object(r.useState)(!0),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(G.d)((function(e){return e.login})),s=i.isLoggedIn,m=i.profile,d=i.pending,b=Object(G.d)((function(e){return e.user})),p=b.profile,E=b.pending,v=Object(G.c)(),f=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v(Dt(t))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]);return Object(r.useEffect)((function(){if(o(!0),"/me"!==t.pathname){var e=t.pathname.substring(1).split("/")[1];f(e)}o(!1)}),[f,t.pathname]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"Profile | HappReads"}),l||d||E?c.a.createElement(Fe,null):c.a.createElement(Kt,{isLoggedIn:s,profile:"/me"===t.pathname?null===m||void 0===m?void 0:m.user:p,from:t.pathname}))},Yt=a(100),qt=a.n(Yt),zt=a(117),Jt=a(101),Xt=a.n(Jt),Qt=p.a.bind(Xt.a),Zt=["1","2","3","4","5"],$t={color:"#f1c40f",cursor:"pointer"},ea=function(e){var t=e.book,a=e.postVote,n=e.votes,l=Object(G.d)((function(e){return e.login})),o=l.isLoggedIn,i=l.profile,s=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(n){var r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,c=i.user.email,e.next=4,a(r,c,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,i,a]),u=Object(r.useCallback)((function(e){for(var t=e.target;"svg"!==t.nodeName;)t=t.parentNode;var a=t.dataset.rating;o?s(a):alert("\ub85c\uadf8\uc778 \ud544\uc694\ud55c \uc11c\ube44\uc2a4 \uc785\ub2c8\ub2e4")}),[o,s]);return c.a.createElement("div",{className:Qt("rater")},Zt.map((function(e,t){return c.a.createElement(D.j,{key:t,"data-rating":t+1,onClick:u,style:n>=t+1?$t:{}})})))},ta=a(102),aa=a.n(ta),na=a(28),ra=p.a.bind(aa.a),ca=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(!1),o=Object(u.a)(l,2),s=o[0],m=o[1],d=(Object(r.useRef)(null),Object(r.useRef)(null)),b=Object(G.c)(),p=Object(G.d)((function(e){return e.login})),E=p.isLoggedIn,v=p.profile,f=Object(G.d)((function(e){return e.review})).reviews,g=Object(G.d)((function(e){return e.books})).book,O=Object(r.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bt())try{b(X(t))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)}))),[b]),j=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.user.email;try{b(Rt(g._id,a,t,g)),O()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,O,b,v]),h=Object(r.useCallback)((function(e){var t=e.target;n(t.value)}),[]),k=Object(r.useCallback)((function(e){e.preventDefault(),E?a.length>0&&(j(a),n("")):alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}),[E,a,j]),S=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(Lt(t,a,null===v||void 0===v?void 0:null===(r=v.user)||void 0===r?void 0:r._id));case 3:c=e.sent,200===c.value.status&&(n.style.fill="pink",O()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),[b,v,O]),_=Object(r.useCallback)((function(e){var t=e.currentTarget,a=e.target,n=t.getAttribute("data-value");S("like",n,a)}),[S]),N=Object(r.useCallback)((function(){m((function(e){return!e}))}),[]);return c.a.createElement("section",{className:ra("review")},c.a.createElement("p",{className:ra("review-title")},"\ub9ac\ubdf0"),c.a.createElement("section",{className:ra("form-container")},c.a.createElement("form",{onSubmit:k},c.a.createElement("textarea",{onChange:h,value:a,onKeyDown:function(e){var t=e.target,a=e.key;t.style.height="auto",0===t.value.length&&(t.style.height="50px"),"Backspace"!==a&&(t.scrollHeight<=500?t.style.height="".concat(t.scrollHeight,"px"):t.style.height="500px")},maxLength:500}),c.a.createElement("input",{type:"submit",value:"\ub4f1\ub85d",ref:d}))),c.a.createElement("section",{className:ra("review-list-wrapper")},f?f.map((function(e){return function(e){return c.a.createElement("article",{key:Object(C.a)(),className:ra("review-item")},c.a.createElement("div",null,c.a.createElement(i.b,{to:e.reviewer?"/profile/".concat(e.reviewer._id):""},c.a.createElement("img",{className:ra("user-img"),src:e.reviewer?e.reviewer.avatarUrl:"",alt:e.reviewer?e.reviewer.avatarUrl:""}),c.a.createElement("span",{className:ra("user")},e.reviewer?e.reviewer.email:""))),c.a.createElement("span",{className:ra("date")},e.createdAt?ht()(e.createdAt).format("YYYY\ub144 MM\uc6d4 DD\uc77c HH:MM:SS"):""),c.a.createElement("article",{style:{marginTop:"10px"}},c.a.createElement("p",{className:ra("user-review")},!s&&e.content.length>30?"".concat(e.content.substr(0,30),"..."):e.content),e.content.length>20&&c.a.createElement("p",{className:ra("more"),onClick:N},s?"\uc904\uc774\uae30":"\ub354\ubcf4\uae30")),c.a.createElement("div",{className:ra("review-footer")},c.a.createElement("span",{className:ra("heart"),onClick:_,"data-value":e._id},c.a.createElement(D.e,null)),c.a.createElement("span",null,e.likes.length," \uc88b\uc544\uc694")))}(e)})):null))},la=a(103),oa=a.n(la),ia=p.a.bind(oa.a),sa=function(e){var t=e.votes,a=Object(r.useRef)(),n=Object(r.useState)(null),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(r.useCallback)((function(){for(var e=a.current,n=20,r=20,c=e.width.baseVal.value-n-20,l=e.height.baseVal.value-r-20,o=[],i=function(e){var a=t.filter((function(t){return parseInt(t.vote)===e}));o.push({rate:e,count:a.length})},s=0;s<=5;s++)i(s);var u=Object(na.d)().range([0,c]).domain([1,2,3,4,5]).paddingInner(.5),m=Object(na.e)().range([l,0]).domain([0,Object(na.c)(o,(function(e){return parseInt(e.count)<5?5:Object(na.c)(o,(function(e){return parseInt(e.count)}))}))]),d=Object(na.f)(a.current).append("g").attr("class","graph").attr("transform","translate(".concat(n,",").concat(r,")"));d.append("g").attr("class","xaxis").attr("transform","translate(0,130)").transition().duration(500).call(Object(na.a)(u)),d.append("g").attr("class","yaxis").attr("transform","translate(0,130)").transition().duration(500).call(Object(na.b)(m));var b=d.append("g").attr("class","rect-container").selectAll("rect").data(o);b.enter().append("rect").attr("height",(function(e){return 0})).attr("width",u.bandwidth()).attr("x",(function(e){return u(e.rate)})).attr("y",l).attr("fill","#f1c40f").transition().duration(500).attr("y",(function(e){return m(e.count)})).attr("height",(function(e){return l-m(e.count)})),b.exit().remove()}),[t]),m=function(){var e=window.innerWidth;i(e<=425?"mobile":e>425&&e<=767?"tablet":"desktop")};return Object(r.useEffect)((function(){if(a.current.innerHTML="",t){if(a.current.hasChildNodes()){var e=document.querySelector(".rect-container");e&&e.remove()}s()}return window.addEventListener("resize",m),m(),function(){window.removeEventListener("resize",m)}}),[t,s,o]),c.a.createElement("section",{className:ia("rate-bar")},c.a.createElement("svg",{className:ia("svg-container"),ref:a,width:"mobile"===o?"250":"tablet"===o?"300":"400",height:"170"}))},ua=void 0,ma=p.a.bind(qt.a),da=[{value:"want_read",label:"\uc77d\uae30"},{value:"reading",label:"\uc77d\ub294\uc911"},{value:"read",label:"\uc77d\uc74c"}],ba=function(e){var t=e.profile,a=e.votes,n=e.id,l=e.book,o=e.postVote,s=e.reviews,m=e.postShelveError,d=e.postShelveSuccess,b=e.isLoggedIn,p=Object(r.useState)({value:"want_read",label:"\uc77d\uae30"}),E=Object(u.a)(p,2),v=E[0],f=E[1],g=Object(r.useState)("\uc77d\uae30"),O=Object(u.a)(g,2),j=O[0],h=O[1],k=Object(G.c)(),S=Object(r.useCallback)((function(){var e=t.profile,a=n.isbn;if(e){if(ua.checkStatus(e.want_read,a))return f(da[0]),void h(da[0].label);if(ua.checkStatus(e.reading,a))return f(da[1]),void h(da[1].label);if(ua.checkStatus(e.read,a))return f(da[2]),void h(da[2].label)}}),[n,t]),_=Object(r.useCallback)((function(){var e=v.value;if(b){var a=t.user.email;k(Q(a,l._id,e))}else alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4 \uc785\ub2c8\ub2e4")}),[k,l,t,v,b]);return Object(r.useEffect)((function(){S()}),[S]),c.a.createElement(c.a.Fragment,null,l?c.a.createElement(c.a.Fragment,null,d&&c.a.createElement(Ze,{type:"success"},"".concat(v.label,"\ubaa9\ub85d\uc5d0 \ucd94\uac00\ub42c\uc2b5\ub2c8\ub2e4")),m&&c.a.createElement(Ze,{type:"error"},"\ubaa9\ub85d \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),c.a.createElement("section",{className:ma("book-detail")},c.a.createElement("section",{className:ma("book-rater-list")},c.a.createElement("ul",null,c.a.createElement("li",{className:"star"},c.a.createElement(D.j,null)),l&&l.votes&&l.votes.map((function(e){return c.a.createElement("li",{key:Object(C.a)(),className:"book-rater"},c.a.createElement(i.b,{to:"/profile/".concat(e.voter._id)},c.a.createElement("img",{src:e.voter.avatarUrl,alt:e.voter.emails})))})))),c.a.createElement("section",{className:ma("book-info-wrapper")},c.a.createElement("section",{className:ma("img-col")},c.a.createElement("img",{src:l.thumbnail,alt:"geisha"})),c.a.createElement("section",{className:ma("book-content")},c.a.createElement("h2",{className:ma("title")},l.title),c.a.createElement("p",{className:ma("author")},c.a.createElement("strong",null,"\uc800\uc790 "),function(e){var t="";if(e)for(var a=0;a<e.length;a++)t+="".concat(e[a]," ");return t}(l.authors)),c.a.createElement("section",{className:ma("bookmeta")},c.a.createElement("span",{className:ma("score")},c.a.createElement(D.j,null),pt(a),c.a.createElement(D.a,{className:ma("angle-down")})),c.a.createElement("span",{className:ma("rate-cnt")},a?a.length:0," \ud3c9\uac00"),c.a.createElement("span",{className:ma("review-cnt")},s?s.length:0," \ub9ac\ubdf0")),c.a.createElement(sa,{votes:l.votes}),c.a.createElement("section",{className:ma("discription")},c.a.createElement("h5",null,"\ucc45 \uc18c\uac1c"),c.a.createElement("p",null,void 0!==l.contents?l.contents:"\ub0b4\uc6a9 \uc5c6\uc74c")),c.a.createElement("div",null,c.a.createElement("div",{className:ma("rate-wrapper")},c.a.createElement("span",null,"\ucc45 \ud3c9\uac00\ud558\uae30"),c.a.createElement(ea,{postVote:o,book:l,id:n,votes:a&&a.length>0?function(){var e=t.profile,n="0";if(a)for(var r=0;r<a.length;r++){var c;if((null===(c=a[r])||void 0===c?void 0:c._id)===(null===e||void 0===e?void 0:e._id)){n=String(a[r].vote);break}}return n}():"0"})),c.a.createElement("div",{className:ma("add")},c.a.createElement(zt.a,{className:ma("select"),options:da,onChange:function(e){f(e)},value:v,isSearchable:!1,placeholder:j}),c.a.createElement("button",{className:ma("want-read"),onClick:_},c.a.createElement("span",null,c.a.createElement(D.f,null)),"\ub4f1\ub85d")))))),c.a.createElement(ca,null)):c.a.createElement(me.ChasingDots,{color:"white",size:60}))},pa=function(e){var t=e.match,a=Object(r.useState)(!0),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(G.c)(),s=Object(G.d)((function(e){return e.books})),m=s.book,d=s.bookPending,b=Object(G.d)((function(e){return e.review})).reviews,p=Object(G.d)((function(e){return e.login})),E=p.profile,v=p.isLoggedIn,f=p.postShelveSuccess,g=p.postShelveError,O=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i(Ue(t)),i(Ct(t))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]);return Object(r.useEffect)((function(){o(!0);var e=t.params.id;window.scrollTo(0,0),O(e),o(!1)}),[O,t]),c.a.createElement("main",{className:"main-container"},c.a.createElement(Se,{title:"".concat(null===m||void 0===m?void 0:m.title," | HappReads"),description:"".concat(null===m||void 0===m?void 0:m.contents)}),l||d?c.a.createElement(Fe,null):c.a.createElement(ba,{book:m,id:t.params.id,postVote:function(e,t,a){i(function(e,t,a){return{type:"POST_RATE",payload:Re(e,t,a)}}(e,t,a))},votes:(null===m||void 0===m?void 0:m.votes)||[],reviews:b,profile:E,postShelveSuccess:f,postShelveError:g,isLoggedIn:v}))},Ea=a(105),va=a.n(Ea),fa=p.a.bind(va.a),ga=function(){return c.a.createElement("footer",{className:fa("footer")},c.a.createElement("div",{className:fa("footer_icon")}),c.a.createElement("span",{className:fa("footer_text")},"\xa9 HappReads ",ht()().format("YYYY")))},Oa=a(106),ja=a.n(Oa),ha=p.a.bind(ja.a),ka=function(e){var t=e.location,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(1),s=Object(u.a)(i,2),m=s[0],d=s[1],b=Object(r.useState)(!0),p=Object(u.a)(b,2),E=p[0],v=p[1],f=Object(G.c)(),g=Object(G.d)((function(e){return e.books})),O=g.books,j=g.searchPending,h=(Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n,r=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>2&&void 0!==r[2]?r[2]:1;try{f(Te(t,a,n))}catch(c){console.log(c)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[f]),Object(r.useCallback)((function(){var e=window.innerHeight,a=document.body.scrollHeight,n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,r=t.search;decodeURI(r).split("=")[1].replace(/[%20]/gi," ").split("&")[0];a-e-n<100&&d(m+1)}),[t,d,m]));return Object(r.useEffect)((function(){v(!0);var e=t.search,a=decodeURI(e).split("=")[1].replace(/[%20]/gi," ").split("&")[0];o(a),f(Pe(a,0,m)),v(!1)}),[f,t,h,m]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"\uac80\uc0c9 | HappReads"}),E||j?c.a.createElement(Fe,null):c.a.createElement("section",{className:ha("search-result-container")},c.a.createElement("h1",{className:"search-keyword"},"\uac80\uc0c9 \ud0a4\uc6cc\ub4dc: ",l),c.a.createElement(be,{booklist:O,from:"search"})))},Sa=a(107),_a=a.n(Sa);V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var Na=function(e,t){return A.a.post("upload",e,{onUploadProgress:function(e){var a=e.loaded,n=e.total,r=Math.floor(100*a/n);t(ya(r))}})},wa=function(e){return function(t){return{type:"UPLOAD",payload:Na(t,e)}}},ya=function(e){return{type:"UPLOAD_PROGRESS",payload:{progress:e}}},Ca=Object(B.a)((Tt={},Object(x.a)(Tt,"UPLOAD_PENDING",(function(e,t){return Object(O.a)({},e,{pending:!0,error:!1,success:!1,progress:0})})),Object(x.a)(Tt,"UPLOAD_SUCCESS",(function(e,t){return Object(O.a)({},e,{success:!0,pending:!1,error:!1,isUploaded:100===e.progress,progress:0})})),Object(x.a)(Tt,"UPLOAD_FAILURE",(function(e,t){return Object(O.a)({},e,{pending:!1,error:!0})})),Object(x.a)(Tt,"UPLOAD_PROGRESS",(function(e,t){var a=t.payload;return Object(O.a)({},e,{progress:a.progress})})),Tt),{pending:!1,error:!1,success:!1,progress:0,isUploaded:!1});V.a.config();var Ra=p.a.bind(_a.a),Ia=function(){var e=Object(r.useState)({selected:null,title:"",authors:[],author:"",isbn:"",contents:"",genres:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useRef)(null),o=Object(r.useRef)(null),i=Object(r.useRef)(null),s=Object(r.useRef)(null),m=Object(r.useRef)(null),d=Object(r.useRef)(null),b=(Object(r.useRef)(null),Object(G.c)()),p=Object(G.d)((function(e){return e.login})).profile,E=Object(G.d)((function(e){return e.upload})),v=E.progress,f=E.isUploaded,g=Object(r.useCallback)((function(e){var t=e.target;n(Object(O.a)({},a,{author:t.value}))}),[a]),j=Object(r.useCallback)((function(e){var t=a.author,r=a.authors,c=e.keyCode;""!==t&&(s.current.classList.remove("empty"),13===c&&n(Object(O.a)({},a,{authors:[].concat(Object(_e.a)(r),[t]),author:""})))}),[a]),h=Object(r.useCallback)((function(e){var t=e.target;t.value.length>0&&i.current.classList.remove("input-empty"),n(Object(O.a)({},a,{title:t.value}))}),[a]),k=Object(r.useCallback)((function(e){var t=e.target;t.value.length>0&&d.current.classList.remove("input-empty"),n(Object(O.a)({},a,{contents:t.value}))}),[a]),S=Object(r.useCallback)((function(e){e.preventDefault();var t=e.target;t.value.length>0&&m.current.classList.remove("input-empty"),n(Object(O.a)({},a,{genres:t.value}))}),[a]),_=Object(r.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t){var n,r,c,l,o,u,E;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),13===t.keyCode){e.next=20;break}if(n=p.user._id,r=a.selected,c=a.contents,l=a.title,o=a.authors,u=a.genres,!(null!==r&&c.length>0&&l.length>0&&o.length>0&&u.length>0)){e.next=16;break}return(E=new FormData).append("thumbnail",r),E.append("title",l),E.append("authors",o),E.append("contents",c),E.append("uid",n),E.append("genres",u),e.next=14,b(wa(b)(E));case 14:e.next=20;break;case 16:0===c.length&&d.current.classList.add("input-empty"),0===l.length&&i.current.classList.add("input-empty"),0===o.length&&s.current.classList.add("input-empty"),0===u.length&&m.current.classList.add("input-empty");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,p,b]);Object(r.useLayoutEffect)((function(){f?(o.current.style.width="".concat(0,"%"),window.location.href="".concat("/HappReads-front")):o.current.style.width="".concat(v,"%")}),[v,f]);var N=a.title,w=a.authors,y=a.author,R=a.contents,I=a.genres;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:Ra("progress-container")},c.a.createElement("div",{className:Ra("progress"),ref:o})),c.a.createElement("section",{className:Ra("book-upload")},c.a.createElement("section",{className:Ra("form-container")},c.a.createElement("section",{className:Ra("form")},c.a.createElement("div",{className:Ra("upload-btn-wrapper")},c.a.createElement("img",{className:Ra("preview-img"),alt:"",ref:l}),c.a.createElement("div",{className:Ra("btn-container"),style:{position:"relative"}},c.a.createElement("button",{className:Ra("btn")},"\uc774\ubbf8\uc9c0 \uc120\ud0dd"),c.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,r=URL.createObjectURL(t[0]);l.current.src=r,n(Object(O.a)({},a,{selected:t[0]}))},required:!0}))),c.a.createElement("input",{type:"text",value:N,onChange:h,placeholder:"\ucc45 \uc774\ub984",required:!0,ref:i}),c.a.createElement("div",{className:Ra("authors"),ref:s},function(e,t){return null===e||void 0===e?void 0:e.map((function(e){var a=Object(C.a)();return c.a.createElement("div",{className:Ra("author-tag"),key:a},c.a.createElement("span",{className:Ra("author-name")},e),c.a.createElement("span",{className:Ra("author-x"),onClick:t},"x"))}))}(w,(function(e){var t=a.authors,r=e.target.previousSibling.innerHTML,c=t.filter((function(e){return e!==r}));n(Object(O.a)({},a,{authors:c}))})),c.a.createElement("input",{className:Ra("author-input"),type:"text",placeholder:"\uc800\uc790 +",value:y,onChange:g,onKeyDown:j})),c.a.createElement("input",{type:"text",value:I,placeholder:"\ucc45 \uc7a5\ub974 ( ,\uad6c\ubd84\uc9c4\ud589)",onChange:S,required:!0,ref:m}),c.a.createElement("textarea",{placeholder:"\uc694\uc57d",value:R,onChange:k,required:!0,ref:d}),c.a.createElement("button",{className:"submit",onClick:_},"\uc5c5\ub85c\ub4dc")))))},La=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"Upload | HappReads"}),c.a.createElement(Ia,null))},Pa=a(108),Ta=a.n(Pa),Ua=a(109),Da=a.n(Ua),Ga=p.a.bind(Da.a),xa=Object(s.g)((function(e){var t=e.history,a=e.getBooks,n=Object(r.useState)(""),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(r.useCallback)((function(e){i(e.target.value)}),[]),m=function(e){e.preventDefault(),a(o,0,1),t.push("/search?p=".concat(o))};return c.a.createElement("div",{className:Ga("search-bar")},c.a.createElement("form",{className:Ga("form-container"),onSubmit:m},c.a.createElement(D.g,{className:Ga("search-icon"),onClick:m}),c.a.createElement("input",{type:"input",placeholder:"\ucc45 \uac80\uc0c9...",value:o,name:"q",onChange:s})))})),Ba=p.a.bind(Ta.a),Fa=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(!1),o=Object(u.a)(l,2),s=o[0],m=o[1],d=Object(G.c)(),b=Object(G.d)((function(e){return e.login})),p=b.isLoggedIn,E=b.profile,v=Object(r.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bt())try{d(X(t))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)}))),[d]),f=Object(r.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({type:"LOGOUT",payload:A.a.post("logout")});case 2:t=e.sent,200===t.value.status&&(localStorage.removeItem("atk"),window.location.href="/");case 5:case"end":return e.stop()}}),e)}))),[d]),g=function(e){var t=window.innerWidth;m(t>=320&&t<=425)};Object(r.useEffect)((function(){return v(),g(),window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}}),[v]);var O=Object(r.useCallback)((function(){n((function(e){return!e}))}),[n]);return c.a.createElement("header",{className:Ba("header")},c.a.createElement("nav",{className:Ba(["nav",s&&"mobile"])},c.a.createElement("div",{className:Ba("title")},c.a.createElement(i.b,{to:"/"},c.a.createElement("span",{className:Ba("fr")},"Happ"),c.a.createElement("span",{className:Ba("en")},"Reads"))),c.a.createElement(xa,{getBooks:Pe}),s&&c.a.createElement("ul",{className:Ba("mobile-menu-bar"),onClick:O},c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null)),!1===s&&c.a.createElement("div",{className:Ba("menu-container")},c.a.createElement("div",{className:Ba("community")},c.a.createElement(i.b,{to:"/community/reviews"},c.a.createElement(D.b,null),c.a.createElement("p",null,"\ucc45 \ub9ac\ubdf0"))),c.a.createElement("ul",{className:Ba("ul")},p?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("span",null,c.a.createElement("img",{src:E.user?E.user.avatarUrl:"",alt:"me",onClick:O})),c.a.createElement("div",{className:Ba("menu","".concat(a?"show":""))},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(i.b,{to:"/me"},"\ud504\ub85c\ud544")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/upload"},"\ucc45 \uc5c5\ub85c\ub4dc")),c.a.createElement("li",{onClick:f},"\ub85c\uadf8\uc544\uc6c3")),c.a.createElement("div",{className:Ba("callout")})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:Ba("login")},c.a.createElement(i.b,{to:"/login"},"\ub85c\uadf8\uc778")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/signup"},"\uac00\uc785")))))),s&&a&&c.a.createElement("ul",{className:Ba("mobile-menu-container"),onClick:O},p?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/me"},c.a.createElement(D.m,null)," \ud504\ub85c\ud544")),c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/upload"},c.a.createElement(D.l,null)," \ucc45 \uc5c5\ub85c\ub4dc")),c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/community/reviews"},c.a.createElement(D.b,null)," \ucc45 \ub9ac\ubdf0")),c.a.createElement("li",{className:Ba("mobile-menu-item"),onClick:f},c.a.createElement(D.i,null)," \ub85c\uadf8\uc544\uc6c3")):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/login"},c.a.createElement(D.h,null)," \ub85c\uadf8\uc778")),c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/signup"},c.a.createElement(D.n,null)," \uac00\uc785")),c.a.createElement("li",{className:Ba("mobile-menu-item")},c.a.createElement(i.b,{to:"/community/reviews"},c.a.createElement(D.b,null)," \ucc45 \ub9ac\ubdf0")))))},Aa=a(110),Ha=a.n(Aa),Va=a(111),Ma=a.n(Va),Ka=p.a.bind(Ma.a),Wa=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"404 Error | HappReads"}),c.a.createElement("section",{className:Ka("nomatch-section")},c.a.createElement("h1",null,"404 Not Found"),c.a.createElement("img",{src:Ha.a,alt:"404"})))},Ya=a(112),qa=a.n(Ya),za=p.a.bind(qa.a),Ja=function(){var e=Object(r.useState)({type:1,openModal:!1,lastPos:90,item:{},status:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(G.c)(),o=Object(G.d)((function(e){return e.login})),s=o.profile,m=o.isLoggedIn,d=Object(G.d)((function(e){return e.user})).profile,b=Object(r.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t,a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=bt())&&l(X(t)),a=window.location.hash.split("/"),n=a[a.length-1],l(Dt(n));case 5:case"end":return e.stop()}}),e)}))),[l]);Object(r.useEffect)((function(){return b(),window.scrollTo(0,0),function(){}}),[b]);var p=Object(r.useCallback)((function(e,t,a){return function(){var n=Object(ne.a)(ae.a.mark((function n(r){var c;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l(Z(e,t,a));case 3:c=n.sent,200===c.value.status&&b(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}),[l,b]),E=Object(r.useCallback)((function(e){return function(t){n(Object(O.a)({},a,{openModal:!0,item:e}))}}),[a]),v=Object(r.useCallback)((function(e){n(Object(O.a)({},a,{openModal:!1}))}),[a]),f=Object(r.useCallback)((function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!m){t.next=13;break}return t.prev=2,t.next=5,l((r=Object(O.a)({},e),{type:"EDIT_BOOK",payload:Ie(r)}));case 5:n=t.sent,200===n.value.status&&b(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}var r}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}),[l,b,m]),g=a.openModal,j=a.item;return c.a.createElement("section",{className:za("book-shelve")},g?c.a.createElement(ie,{handleCancel:v,handleSubmit:f,item:j}):null,c.a.createElement("div",null,c.a.createElement("p",{className:za("shelve-header")},d?d.email:"","\uc758 \ucc45\uc7a5")),c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\ucee4\ubc84"),c.a.createElement("th",null,"\uc81c\ubaa9"),c.a.createElement("th",null,"\uc800\uc790"),c.a.createElement("th",null,"\ud3c9\uade0"),c.a.createElement("th",null,"\uc0dd\uc131 \ub0a0\uc9dc"),(null===s||void 0===s?void 0:s.user)&&d&&d._id===s.user._id?c.a.createElement("th",null,"\uc124\uc815"):null)),c.a.createElement("tbody",null,function(){var e,t=s.user;return t?null===t||void 0===t?void 0:null===(e=t.uploaded)||void 0===e?void 0:e.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,c.a.createElement(i.b,{to:"/book/".concat(e._id)},c.a.createElement("img",{src:e.thumbnail,alt:e.thumbnail}))),c.a.createElement("td",null,c.a.createElement(i.b,{to:"/book/".concat(e._id)},e.title)),c.a.createElement("td",null,e.authors.length>1?"".concat(e.authors[0]," *"):e.authors[0]),c.a.createElement("td",null,e.votes?pt(e.votes):0),c.a.createElement("td",null,ht()(e.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),c.a.createElement("td",{className:za("settings uploaded")},c.a.createElement("p",{onClick:E(e)},"\uc218\uc815"),c.a.createElement("p",{onClick:p(t._id,e._id)},"X")))})):null}()))))},Xa=a(113),Qa=a.n(Xa),Za=p.a.bind(Qa.a),$a=function(){return c.a.createElement("div",{className:Za("category")},c.a.createElement("ul",null,c.a.createElement("li",null,"\ucd5c\uadfc \ucc45 \ub9ac\ubdf0")))},en=a(114),tn=a.n(en),an=p.a.bind(tn.a),nn=function(e){var t=e.path,a=e.loadMore,n=e.toggleMore,r=e.selected,l=e.handleLike,o=e.hasMore,s=Object(G.d)((function(e){return e.review})).reviews;return c.a.createElement("section",{className:an("community-container")},"reviews"===t&&c.a.createElement("section",{className:an("reviews")},function(e){if("reviews"===e)return c.a.createElement(c.a.Fragment,null,0===s.length&&c.a.createElement("p",{className:an("empty")},"\ucd5c\uadfc \ub9ac\ubdf0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),c.a.createElement(c.a.Fragment,null,s.length>0&&s.map((function(e){return c.a.createElement("section",{key:Object(C.a)(),className:an(["card","row"])},c.a.createElement("section",{className:an("first-col")},c.a.createElement(i.b,{to:"/book/".concat(e&&e.book&&e.book._id)},c.a.createElement("img",{src:e&&e.book&&e.book.thumbnail,alt:e&&e.book&&e.book.title})),c.a.createElement("p",{className:an("like")},c.a.createElement(ve.a,{className:an("heart"),icon:fe.d,onClick:l(e)})," ",e&&e.likes&&e.likes.length," \uc88b\uc544\uc694")),c.a.createElement("section",{className:an("second-col")},c.a.createElement("p",{className:an("date")},e&&ht()(e.createdAt).format("YYYY/MM/DD HH:MM:DD")),c.a.createElement("p",{className:an("reviewer")},c.a.createElement(i.b,{to:"/profile/".concat(e&&e.reviewer._id)},e&&e.reviewer.email.split("@")[0])),c.a.createElement("h4",{className:an("title")},c.a.createElement(i.b,{to:"/book/".concat(e&&e.book&&e.book._id)},e&&e.book&&e.book.title)),c.a.createElement("section",{className:an("content")},c.a.createElement("img",{src:e&&e.reviewer&&e.reviewer.avatarUrl,alt:e&&e.reviewer.email}),c.a.createElement("article",null,c.a.createElement("p",{className:an("content-text")},e&&e.content&&e.content.length>=50&&e._id&&!0===r[e._id]?e.content:"".concat(e.content.substring(0,50),"...")),e&&e.content&&e.content.length>=50?c.a.createElement("p",{className:an("more"),onClick:n,"data-id":e._id},r[e._id]?"\uc904\uc774\uae30":"\ub354\ubcf4\uae30"):null))))})),o&&c.a.createElement("button",{className:an("load-more-btn"),onClick:a},"\ub354 \ubcf4\uae30")))}("reviews")))},rn=function(e){var t=e.history.location.pathname.substr(1).split("/")[1],a=Object(r.useState)(!0),n=Object(u.a)(a,2),l=(n[0],n[1]),o=Object(r.useState)({}),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(r.useState)(1),b=Object(u.a)(d,2),p=b[0],E=b[1],v=Object(G.d)((function(e){return e.review})).hasMore,f=Object(G.d)((function(e){return e.login})),g=f.profile,j=f.isLoggedIn,h=Object(G.c)(),k=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{h(yt({limit:5,page:e}))}catch(t){console.log(t)}}),[h]),S=Object(r.useCallback)((function(e){var t=e.target.dataset;if(void 0===s[t.id]||!1===s[t.id]){var a=Object(O.a)({},s,Object(x.a)({},t.id,!0));m(a)}else{var n=Object(O.a)({},s,Object(x.a)({},t.id,!1));m(n)}}),[s]),_=Object(r.useCallback)((function(e){k(p+1),E((function(e){return e+1}))}),[k,p]),N=Object(r.useCallback)((function(e){return function(){var t=g.user;j?h(Lt("like",e._id,t._id)):alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}}),[g,j,h]);return Object(r.useEffect)((function(){return l(!0),k(),l(!1),function(){}}),[k,h]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,{title:"Book Reviews | HappReads",keywords:"\ucc45 \ub9ac\ubdf0, \ub9ac\ubdf0, \ucd5c\uadfc \ub9ac\ubdf0"}),c.a.createElement($a,{path:t}),c.a.createElement(nn,{path:t,hasMore:v,loadMore:_,selected:s,toggleMore:S,handleLike:N}))},cn=a(115),ln=a.n(cn),on=p.a.bind(ln.a),sn=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useCallback)((function(){window.scrollTo(0,0)}),[]),o=Object(r.useCallback)((function(){var e=window.pageYOffset;n(e<=600)}),[]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",o),function(){window.removeEventListener("scroll",o)}}),[o]),c.a.createElement("button",{className:on(["floating-button",a?"hide":"show"]),onClick:l},"\uc704\ub85c")};a(228);var un,mn=function(){return c.a.createElement(i.a,null,c.a.createElement(Fa,null),c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,component:Ae}),c.a.createElement(s.b,{path:"/book/:id",component:pa}),c.a.createElement(s.b,{path:"/login",component:et}),c.a.createElement(s.b,{path:"/search",component:ka}),c.a.createElement(s.b,{path:"/signup",component:it}),c.a.createElement(s.b,{path:"/me",component:Wt}),c.a.createElement(s.b,{path:"/upload",component:La}),c.a.createElement(s.b,{path:"/community/reviews",component:rn}),c.a.createElement(s.b,{path:"/community/top-readers",component:rn}),c.a.createElement(s.b,{path:"/community/top-reviewers",component:rn}),c.a.createElement(s.b,{path:"/profile/:id",component:Wt}),c.a.createElement(s.b,{path:"/shelve/:id",component:Ja}),c.a.createElement(s.b,{component:Wa})),c.a.createElement(sn,null),c.a.createElement(ga,null))},dn=a(30);V.a.config(),A.a.defaults.baseURL="https://happread.herokuapp.com/";var bn=Object(B.a)((un={},Object(x.a)(un,"POST_SHELVE_PENDING",(function(e,t){return{pending:!0,error:!1}})),Object(x.a)(un,"POST_SHELVE_SUCCESS",(function(e,t){})),Object(x.a)(un,"POST_SHELVE_FAILURE",(function(e,t){return{pending:!1,error:!0}})),un),{pending:!1,error:!1}),pn=Object(dn.c)({books:De,signup:ot,login:ee,review:Pt,shelve:bn,user:Gt,upload:Ca}),En=a(116),vn=Object(En.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),fn=Object(dn.d)(pn,Object(dn.a)(vn));o.a.render(c.a.createElement(G.a,{store:fn},c.a.createElement(mn,null)),document.getElementById("root"))},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[129,1,2]]]);
//# sourceMappingURL=main.943f4fbb.chunk.js.map