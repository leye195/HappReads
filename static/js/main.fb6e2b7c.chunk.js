(this.webpackJsonpgoodreads=this.webpackJsonpgoodreads||[]).push([[0],{173:function(e,t,a){"use strict";a.r(t);var n,r,o,l,c,i,s=a(0),u=a.n(s),p=a(28),m=a.n(p),d=a(11),E=a(23),h=a(9),b=a.n(h),v=a(13),f=a(4),g=a(5),k=a(6),O=a(7),w=a(8),y=a(66),j=a.n(y),S=a(12),N=a.n(S),_=N.a.bind(j.a),C=function(){return u.a.createElement("div",{className:_("home-section")},u.a.createElement("div",{className:_("words")},u.a.createElement("h3",null,"With Happyness"),u.a.createElement("h4",null,"\ucc45\uc744 \uacf5\uc720 \ud558\uace0 \uc790\uc2e0\uc758 \uc778\uc0dd \ucc45\uc744 \ucc3e\uc544\ubcf4\uc138\uc694")))},I=a(67),R=a.n(I),x=a(68),L=a.n(x),T=a(34),U=a(69),D=a.n(U),A=a(17),P=a(14),G=a(1),F=a(10),M=a(174),V=a(15),H=a.n(V),W=function(e,t){return H.a.post("http://localhost:8080/login",{email:e,password:t})},B=function(e){return H.a.create({headers:{Authorization:"".concat(e)}}).post("http://localhost:8080/profile")},q=function(e,t,a,n,r,o){return H.a.post("http://localhost:8080/shelve",{email:e,isbn:t,title:a,authors:n,type:r,thumbnail:o})},K=function(e,t,a,n){return H.a.post("http://localhost:8080/review/like",{type:e,id:t,uid:a,m_id:n})},Y=function(e,t,a){return H.a.post("http://localhost:8080/shelve/".concat(t),{uid:e,type:a})},z=function(e){return{type:"USER_CHECK",payload:B(e)}},X=function(e,t,a,n,r,o){return{type:"POST_SHELVE",payload:q(e,t,a,n,r,o)}},J=function(e,t,a,n){return{type:"LIKE_REVIEW",payload:K(e,t,a,n)}},$=Object(M.a)((n={},Object(G.a)(n,"LOGIN_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(n,"LOGIN_SUCCESS",(function(e,t){return{profile:t.payload.data,pending:!1,error:!1,isLoggedIn:!0}})),Object(G.a)(n,"LOGIN_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0,isLoggedIn:!1})})),Object(G.a)(n,"USER_CHECK_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1,isLoggedIn:!1})})),Object(G.a)(n,"USER_CHECK_SUCCESS",(function(e,t){return{pending:!1,error:!1,isLoggedIn:!0,profile:t.payload.data}})),Object(G.a)(n,"USER_CHECK_FAILURE",(function(e,t){return{pending:!1,error:!0,isLoggedIn:!1}})),Object(G.a)(n,"LOGOUT_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1,isLoggedIn:!1})})),Object(G.a)(n,"LOGOUR_SUCCESS",(function(e,t){return{pending:!1,error:!1,isLoggedIn:!1,profile:{}}})),Object(G.a)(n,"LOGOUT_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(n,"POST_SHELVE_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(n,"POST_SHELVE_SUCCESS",(function(e,t){var a=t.payload.data;return Object(F.a)({},e,{pending:!1,error:!1,profile:a})})),Object(G.a)(n,"POST_SHELVE_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(n,"LIKE_REVIEW_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(n,"LIKE_REVIEW_SUCCESS",(function(e,t){var a=t.payload.data;return Object(F.a)({},e,{pending:!1,error:!1,success:!0,profile:a})})),Object(G.a)(n,"LIKE_REVIEW_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(n,"DELETE_SHELVE_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(n,"DELETE_SHELVE_SUCCESS",(function(e,t){var a=t.payload.data;return Object(F.a)({},e,{profile:a,pending:!1,error:!1})})),Object(G.a)(n,"DELETE_SHELVE_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),n),{pending:!1,error:!1,success:!1,profile:{},isLoggedIn:!1}),Q=N.a.bind(D.a),Z=Object(P.b)((function(e){return{profile:e.login.profile}}),(function(e){return{postShelve:function(t,a,n,r,o,l){return e(X(t,a,n,r,o,l))}}}))((function(e){var t=e.from,a=e.type,n=e.profile.profile,r=e.postShelve,o=Object(s.useState)(!1),l=Object(T.a)(o,2),c=l[0],i=l[1],p=function(e){var t="";return e.forEach((function(e){t+=e})),t};if("home"===t){var m=e.book;return u.a.createElement("div",{className:Q("book")},u.a.createElement("img",{src:m.thumbnail,alt:"book"}),u.a.createElement("p",null,m.title))}if("search"===t){var E=e.book,h=E&&void 0!==E.isbn?E.isbn.split(" "):void 0;return u.a.createElement("li",{className:Q("ser-bg")},u.a.createElement("div",{className:Q("ser-book")},u.a.createElement(d.b,{to:void 0!==h?""!==h[0]?"/book/".concat(E.isbn.split(" ")[0]):"/book/".concat(E.isbn.split(" ")[1]):""},u.a.createElement("img",{src:E.thumbnail,alt:"book"}))),u.a.createElement("div",{className:Q("ser-info")},u.a.createElement(d.b,{to:void 0!==h?""!==h[0]?"/book/".concat(E.isbn.split(" ")[0]):"/book/".concat(E.isbn.split(" ")[1]):""},u.a.createElement("h3",{className:Q("ser-title")},E.title)),u.a.createElement("p",null,u.a.createElement("span",{className:Q("ser-author")},p(E.authors)))))}if("profile"===t){var f=e.book.book,g="/me"===window.location.pathname,k=f&&void 0!==f.isbn?f.isbn.split(" "):void 0,O=function(){var e=Object(v.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.prev=1,e.next=4,r(n.email,f.isbn,f.title,f.authors,a,f.thumbnail);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:Q("shelve"),style:{margin:"10px"}},u.a.createElement(d.b,{to:void 0!==k?""!==k[0]?"/book/".concat(f.isbn.split(" ")[0]):"/book/".concat(f.isbn.split(" ")[1]):""},u.a.createElement("span",{className:Q("title")},f.title),u.a.createElement("span",{className:Q("authors")},"\uc9c0\uc740\uc774: ",f.authors?p(f.authors):"")),g?u.a.createElement("div",{className:Q("setting-btns")},u.a.createElement("div",{className:Q("edit-container")},u.a.createElement("span",{className:Q("edit"),onClick:function(){return function(e,t){t(!e)}(c,i)}},u.a.createElement(A.b,null)),c?function(e){return u.a.createElement("div",{className:Q("edit-form")},u.a.createElement("select",{defaultValue:e,onChange:O},u.a.createElement("option",{value:"want_read"},"\uc77d\uc744 \ucc45"),u.a.createElement("option",{value:"reading"},"\uc77d\b\uace0 \uc788\uc74c"),u.a.createElement("option",{value:"read"},"\uc77d\uc74c")))}(a):u.a.createElement(s.Fragment,null)),u.a.createElement("div",null,u.a.createElement("span",{className:Q("delete"),onClick:function(){console.log("Delete")}},u.a.createElement(A.h,null)))):u.a.createElement(s.Fragment,null))}})),ee=a(33),te=a(175),ae=N.a.bind(L.a),ne=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.from,a=e.booklist,n=e.type;return"home"===t?u.a.createElement("div",{className:ae("book-list")},a?a.map((function(e){var a=e.isbn&&e.isbn.split(" ")||"";return u.a.createElement(d.b,{to:""!==a[0]?"/book/".concat(e.isbn&&e.isbn.split(" ")[0]||""):"/book/".concat(e.isbn&&e.isbn.split(" ")[1]||""),key:Object(te.a)()},u.a.createElement(Z,{book:e,from:t}))})):u.a.createElement(ee.ChasingDots,{color:"white",size:60})):"search"===t?u.a.createElement("div",null,u.a.createElement("ul",{className:ae("ser-ul")},a.map((function(e){return u.a.createElement(Z,{book:e,from:t,key:Object(te.a)()})})))):"profile"===t?u.a.createElement("div",null,u.a.createElement("ul",null,a.map((function(e){return u.a.createElement(Z,{book:e,from:t,key:Object(te.a)(),type:n})})))):void 0}}]),t}(s.Component),re=Object(P.b)(null,null)(ne),oe=N.a.bind(R.a),le=function(e){var t=e.booklist;return u.a.createElement("div",{className:oe("home-content")},u.a.createElement("div",{className:oe("books-wrapper")},u.a.createElement(re,{booklist:t,from:"home"})))},ce=a(30),ie=function(e,t,a,n,r,o){return H.a.post("http://localhost:8080/book/".concat(n),{title:e,authors:t,vote:a,isbn:n,name:r,thumbnail:o})},se=function(e,t,a){var n=H.a.create({headers:{Authorization:"KakaoAK ".concat("dcf8990c616ed7f54a7a2fe1ab632c0b")}});return 0===parseInt(t)?n.get("https://dapi.kakao.com/v3/search/book?query=".concat(e,"&page=").concat(a)):1===t?n.get("https://dapi.kakao.com/v3/search/book?target=title&query=".concat(e,"&page=").concat(a)):2===parseInt(t)?n.get("https://dapi.kakao.com/v3/search/book?target=person&query=".concat(e,"&page=").concat(a)):3===parseInt(t)?n.get("https://dapi.kakao.com/v3/search/book?target=isbn&query=".concat(e)):void 0},ue=function(e){return H.a.get("http://localhost:8080/book/".concat(e))},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{type:"GET_SEARCH_BOOKS",payload:se(e,t,a)}},me=Object(M.a)((r={},Object(G.a)(r,"GET_BOOKS_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(r,"GET_BOOKS_SUCCESS",(function(e,t){return{pending:!1,error:!1,books:t.payload.data.books}})),Object(G.a)(r,"GET_BOOKS_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(r,"GET_SEARCH_BOOKS_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(r,"GET_SEARCH_BOOKS_SUCCESS",(function(e,t){var a=t.payload.data.documents;return Object(F.a)({},e,{pending:!1,error:!1,books:[].concat(Object(ce.a)(e.books),Object(ce.a)(a))})})),Object(G.a)(r,"GET_SEARCH_BOOKS_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(r,"POST_BOOK_PENDING",(function(e,t){return Object(F.a)({},e,{vote_pending:!0,vote_error:!1,vote_success:!1})})),Object(G.a)(r,"POST_BOOK_SUCCESS",(function(e,t){return Object(F.a)({},e,{vote_pending:!1,vote_error:!1,vote_success:!0})})),Object(G.a)(r,"POST_BOOK_FAILURE",(function(e,t){return Object(F.a)({},e,{vote_pending:!1,vote_error:!0,vote_success:!1})})),Object(G.a)(r,"GET_VOTE_REVIEW_PENDING",(function(e,t){return Object(F.a)({},e)})),Object(G.a)(r,"GET_VOTE_REVIEW_SUCCESS",(function(e,t){var a=t.payload.data.votes;return console.log(t.payload),Object(F.a)({},e,{votes:a})})),Object(G.a)(r,"GET_VOTE_REVIEW_FAILURE",(function(e,t){return Object(F.a)({},e,{votes:[]})})),Object(G.a)(r,"GET_DETAIL_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(r,"GET_DETAIL_SUCCESS",(function(e,t){return{pending:!0,error:!1,books:t.payload.data.documents}})),Object(G.a)(r,"GET_DETAIL_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),r),{pending:!1,error:!1,books:[],total:0,vote_pending:!1,vote_error:!1,vote_success:!1,votes:[]}),de=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).getBooks=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.getBooks();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getBooks()}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.pending;return u.a.createElement(s.Fragment,null,u.a.createElement(C,null),u.a.createElement("main",{className:"mainContainer"},a?u.a.createElement(ee.ChasingDots,{color:"white",size:60}):u.a.createElement(le,{booklist:t})))}}]),t}(s.Component),Ee=Object(P.b)((function(e){return{pending:e.books.pending,error:e.books.error,books:e.books.books}}),(function(e){return{getBooks:function(){return e({type:"GET_BOOKS",payload:H.a.get("http://localhost:8080/books")})}}}))(de),he=a(72),be=a.n(he),ve=a(73),fe=a.n(ve),ge=N.a.bind(fe.a),ke=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.type;return u.a.createElement("div",{className:ge("social-login")},u.a.createElement("h2",null,"login"===e?"Login to HappReads":"Sign up for HappReads"),u.a.createElement("button",{className:ge("facebook","button")},u.a.createElement("span",{className:ge("icon")},u.a.createElement(A.c,null)),"Continue with Facebook"),u.a.createElement("button",{className:ge("github","button")},u.a.createElement("span",{className:ge("icon")},u.a.createElement(A.d,null)),"Continue with Github"))}}]),t}(s.Component),Oe=ke,we=N.a.bind(be.a),ye=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;(0,a.props.loginRequest)(n,r)},a.handleEmail=function(e){a.setState({email:e})},a.handlePassword=function(e){a.setState({password:e})},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password;return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:we("login-form","form-container")},u.a.createElement(Oe,{type:"login"}),u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("input",{type:"email",value:a,onChange:function(t){return e.handleEmail(t.target.value)},placeholder:"Email",required:!0}),u.a.createElement("input",{type:"password",value:n,onChange:function(t){return e.handlePassword(t.target.value)},placeholder:"Password",required:!0}),u.a.createElement("input",{type:"submit",value:"Login"})),u.a.createElement(d.b,{to:"/signup"},u.a.createElement("button",null,"SignUp"))))}}]),t}(s.Component),je=ye,Se=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1},a.saveATK=function(e){localStorage.setItem("atk",e)},a.handleLogin=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.loginRequest,e.prev=1,e.next=4,r(t,n);case 4:o=e.sent,l=o.value,c=l.data,200===l.status&&(a.saveATK(c.token),a.setState({isLoggedIn:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return!0===this.state.isLoggedIn?u.a.createElement(E.a,{to:"/"}):u.a.createElement(s.Fragment,null,u.a.createElement(je,{loginRequest:this.handleLogin}))}}]),t}(s.Component),Ne=Object(P.b)((function(e){return{login_error:e.login.error,login_pending:e.login.pending,login_success:e.login.success,isLoggedIn:e.login.isLoggedIn,profile:e.login.profile}}),(function(e){return{loginRequest:function(t,a){return e({type:"LOGIN",payload:W(t,a)})}}}))(Se),_e=a(74),Ce=a.n(_e),Ie=N.a.bind(Ce.a),Re=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",p1:"",p2:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.p1,o=t.p2,l=a.props.handleSignUp;r===o&&l(n,r)},a.handleEmail=function(e){a.setState({email:e})},a.handlePassword1=function(e){a.setState({p1:e})},a.handlePassword2=function(e){a.setState({p2:e})},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.p1,r=t.p2;return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:Ie("signup-form","form-container")},u.a.createElement(Oe,{type:"signup"}),u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("input",{type:"email",value:a,onChange:function(t){return e.handleEmail(t.target.value)},placeholder:"Email",required:!0}),u.a.createElement("input",{type:"password",value:n,onChange:function(t){return e.handlePassword1(t.target.value)},placeholder:"Password",required:!0}),u.a.createElement("input",{type:"password",value:r,onChange:function(t){return e.handlePassword2(t.target.value)},placeholder:"Password Verify",required:!0}),u.a.createElement("input",{type:"submit",value:"SignUp"}))))}}]),t}(s.Component),xe=Re,Le=function(e,t){return H.a.post("http://localhost:8080/signup",{email:e,password:t})},Te=Object(M.a)((o={},Object(G.a)(o,"SIGNUP_PENDING",(function(e,t){return{pending:!0,error:!1,success:!1}})),Object(G.a)(o,"SIGNUP_SUCCESS",(function(e,t){return{pending:!1,error:!1,success:!0}})),Object(G.a)(o,"SIGNUP_FAILURE",(function(e,t){return{pending:!1,error:!0,success:!1}})),o),{error:!1,pending:!1,success:!1}),Ue=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSignUp=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.requestSignUp,e.next=3,r(t,n);case 3:200===e.sent.value.status&&a.props.history.push("/login");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history;return e.isLoggedIn?u.a.createElement(E.a,{to:"/"}):u.a.createElement(s.Fragment,null,u.a.createElement(xe,{history:t,handleSignUp:this.handleSignUp}))}}]),t}(s.Component),De=Object(P.b)((function(e){return{signup_error:e.signup.error,signup_pending:e.signup.pending,signup_success:e.signup.success,isLoggedIn:e.login.isLoggedIn}}),(function(e){return{requestSignUp:function(t,a){return e(function(e,t){return{type:"SIGNUP",payload:Le(e,t)}}(t,a))}}}))(Ue),Ae=a(75),Pe=a.n(Ae),Ge=a(45),Fe=a.n(Ge),Me=a(76),Ve=a.n(Me),He=N.a.bind(Ve.a),We=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).submitEdit=Object(v.a)(b.a.mark((function e(){var t,n,r,o,l,c,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.seletedImg,t.email,r=t.nickname,o=t.website,l=t.interest,c=t.intro,i=a.props.profile.profile,(s=new FormData).append("avatar",n),s.append("email",i.email),s.append("nickname",r),s.append("website",o),s.append("interest",l),s.append("intro",c),e.prev=9,e.next=12,H.a.post("http://localhost:8080/edit",s);case 12:window.location.href="/me",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])}))),a.handleSubmit=function(e){e.preventDefault(),a.submitEdit()},a.handleFile=function(e){var t=e.target.files;a.setState({seletedImg:t[0]}),function(e){var t=URL.createObjectURL(e);document.querySelector(".preview-img").src=t}(t[0])},a.handleNickName=function(e){a.setState({nickname:e})},a.handleWebSite=function(e){a.setState({website:e})},a.handleInterest=function(e){a.setState({interest:e})},a.handleIntro=function(e){a.setState({intro:e})};var n=a.props.profile.profile;return a.state={seletedImg:null,nickname:n?n.name:"",website:n?n.website:"",intro:n?n.intro:"",interest:n?n.interest:""},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nickname,n=t.website,r=t.intro,o=t.interest,l=t.seletedImg,c=this.props,i=c.handleClose,s=c.isOpen;return u.a.createElement("div",{className:He("user-edit",s?"close":"open")},u.a.createElement("div",{className:He("x-button")},u.a.createElement("p",{onClick:i},u.a.createElement("span",{role:"img","aria-label":"close"},"\u274c"))),u.a.createElement("div",{className:He("form-container")},u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("div",{className:He("upload-btn-wrapper")},u.a.createElement("img",{className:He("preview-img")}),u.a.createElement("div",{style:{position:"relative"}},u.a.createElement("button",{className:He("btn")},null===l?"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc":l.name),u.a.createElement("input",{type:"file",name:"avatar",onChange:function(t){return e.handleFile(t)}}))),u.a.createElement("input",{type:"text",name:"nickname",value:a,onChange:function(t){return e.handleNickName(t.target.value)}}),u.a.createElement("input",{type:"email",name:"website",placeholder:"\uc6f9 \uc0ac\uc774\ud2b8 ex) http://www.example.com",value:n,onChange:function(t){return e.handleWebSite(t.target.value)}}),u.a.createElement("input",{type:"text",name:"interest",placeholder:"\ucde8\ubbf8",value:o,onChange:function(t){return e.handleInterest(t.target.value)}}),u.a.createElement("textarea",{name:"intro",placeholder:"\uc18c\uac1c",value:r,onChange:function(t){return e.handleIntro(t.target.value)}}),u.a.createElement("input",{type:"submit",value:"\uc218\uc815"})),u.a.createElement("button",{onClick:i},"\ucde8\uc18c")))}}]),t}(s.Component),Be=a(77),qe=a.n(Be),Ke=a(19),Ye=a.n(Ke),ze=a(78),Xe=a.n(ze),Je=function(e){return H.a.get("http://localhost:8080/book/".concat(e,"/review"))},$e=function(e,t,a,n){return H.a.post("http://localhost:8080/book/".concat(e,"/review"),{name:t,isbn:e,content:a,book:n})},Qe=function(e,t){return H.a.post("http://localhost:8080/book/review/".concat(e),{content:t})},Ze=Object(M.a)((l={},Object(G.a)(l,"GET_REVIEWS_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1,success:!1})})),Object(G.a)(l,"GET_REVIEWS_SUCCESS",(function(e,t){return{reviews:t.payload.data.reviews,pending:!1,error:!1,success:!0}})),Object(G.a)(l,"GET_REVIEWS_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0,success:!1})})),Object(G.a)(l,"POST_REVIEW_PENDING",(function(e,t){return Object(F.a)({},e,{error:!1,pending:!0,success:!1})})),Object(G.a)(l,"POST_REVIEW_SUCCESS",(function(e,t){return{reviews:t.payload.data.reviews,error:!1,pending:!1,success:!0}})),Object(G.a)(l,"POST_REVIEW_FAILURE",(function(e,t){return Object(F.a)({},e,{error:!0,pending:!1,success:!1})})),Object(G.a)(l,"GET_REVIEW_PENDING",(function(e,t){return Object(F.a)({},e,{error:!1,pending:!0,success:!1})})),Object(G.a)(l,"GET_REVIEW_SUCCESS",(function(e,t){return{reviews:t.payload.data.reviews,error:!1,pending:!1,success:!0}})),Object(G.a)(l,"GET_REVIEW_FAILURE",(function(e,t){return{error:!0,pending:!1,success:!1}})),Object(G.a)(l,"DELETE_REVIEW_PENDING",(function(e,t){return{reviews:t.payload.data.reviews,pending:!0,error:!1,success:!1}})),Object(G.a)(l,"DELETE_REVIEW_SUCCESS",(function(e,t){return{pending:!0,error:!1,success:!1}})),Object(G.a)(l,"DELETE_REVIEW_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0,success:!1})})),Object(G.a)(l,"EDIT_REVIEW_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1,success:!1})})),Object(G.a)(l,"EDIT_REVIEW_SUCCESS",(function(e,t){return Object(F.a)({},e,{reviews:t.payload.data.reviews,pending:!1,error:!1,success:!0})})),Object(G.a)(l,"EDIT_REVIEW_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0,success:!1})})),l),{reviews:[],pending:!1,error:!1,success:!1}),et=N.a.bind(Xe.a),tt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).checkUser=Object(v.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("atk"),n=a.props.checkUser,!t){e.next=11;break}return e.prev=3,e.next=6,n(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.editReview=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.editReview,l=r.handleClose,e.prev=1,e.next=4,o(t,n);case 4:c=e.sent,200===c.value.status&&(a.checkUser(),l()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault();var t=a.state.content,n=a.props,r=n.review._id;n.profile!=={}&&a.editReview(r,t)},a.handleChange=function(e){a.setState({content:e.target.value})},a.state={content:e.review.content},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.review,a=e.handleClose,n=this.state.content;return u.a.createElement("div",{className:et(["review-modal","modal-container"])},u.a.createElement("div",{className:"modal-overlay"},u.a.createElement("div",{className:"modal"},u.a.createElement("div",{className:et("form-container")},u.a.createElement("img",{src:void 0!==t.book?t.book.thumbnail:"",alt:void 0!==t.book?t.book.title:""}),u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("textarea",{value:n,onChange:this.handleChange},n),u.a.createElement("input",{type:"submit",value:"\uc218\uc815"}),u.a.createElement("button",{className:et("cancel"),onClick:a},"\ucde8\uc18c"))))))}}]),t}(s.Component),at=Object(P.b)((function(e){return{profile:e.login.profile}}),(function(e){return{checkUser:function(t){return e(z(t))},editReview:function(t,a){return e(function(e,t){return{type:"EDIT_REVIEW",payload:Qe(e,t)}}(t,a))}}}))(tt),nt=N.a.bind(qe.a),rt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={review:null,isOpen:!1},a.handleLike=function(e){var t=e.currentTarget.getAttribute("data-value");a.postLike("like",t)},a.handleEdit=function(e,t){console.log(e.getAttribute("data-value")),a.setState({isOpen:!0,review:t})},a.handleClose=function(){a.setState({isOpen:!1,review:null})},a.handleDelete=function(e){var t=e.currentTarget.getAttribute("data-value");console.log(t)},a.postLike=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.me,l=r.postLike,c=r.profile,e.prev=1,e.next=4,l(t,n,c._id,o.profile._id);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}(),a.getReview=function(e,t,a,n,r,o){return console.log(r,o),u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:nt("review-container"),id:e._id,key:e._id},u.a.createElement("div",null,u.a.createElement("img",{src:void 0!==e.book?e.book.thumbnail:"",alt:void 0!==e.book?e.book.title:""})),u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:nt("review-book")},void 0!==e.book?e.book.title:""),u.a.createElement("p",{className:nt("review-text")},void 0!==e.book?e.content:""),u.a.createElement("p",{className:nt("review-date")},Ye()(e.createdAt).format("YYYY\ub144 MM\uc6d4 DD\uc77c HH:MM:SS")),u.a.createElement("p",{className:nt("like-container"),style:{display:"flex",alignItems:"center",marginTop:"5px"}},u.a.createElement("span",{className:nt("review-like")},e.likes," likes"),u.a.createElement("span",null," \xb7 "),u.a.createElement("span",{className:nt("likebtn"),onClick:t,"data-value":e._id},u.a.createElement(A.e,null))))),o===r?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:nt("review-edit"),"data-value":e._id,onClick:function(t){return n(t.currentTarget,e)}},u.a.createElement(A.b,null)),u.a.createElement("span",{className:nt("review-remove"),"data-value":e._id,onClick:a},u.a.createElement(A.h,null))):u.a.createElement(u.a.Fragment,null)))},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.profile,n=a._id,r=a.reviews,o=t.me,l=this.state,c=l.isOpen,i=l.review;return u.a.createElement("div",{className:nt("user-review")},r.map((function(t){return e.getReview(t,e.handleLike,e.handleDelete,e.handleEdit,o.profile._id,n)})),c&&u.a.createElement(at,{review:i,handleClose:this.handleClose}))}}]),t}(s.Component),ot=Object(P.b)((function(e){return{me:e.login.profile}}),(function(e){return{postLike:function(t,a,n){return e(J(t,a,n))}}}))(rt),lt=N.a.bind(Pe.a),ct=function(e,t,a){return"uploaded"!==a?"/me"===e?t&&t.profile&&t.profile[a].length>0?u.a.createElement("div",null,u.a.createElement(re,{booklist:t.profile[a],from:"profile",type:a})):u.a.createElement("p",{className:lt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):t&&t.user&&t.user[a].length>0?u.a.createElement("div",null,u.a.createElement(re,{booklist:t.user[a],from:"profile"})):u.a.createElement("p",{className:lt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):"/me"===e?t&&t.profile&&t.profile.uploaded.length>0?u.a.createElement("div",{className:lt("uploaded-list")},t.profile.uploaded.map((function(e){return u.a.createElement("div",{className:lt("uploaded-img-wrapper"),key:e._id},u.a.createElement("img",{className:lt("uploaded-img"),src:e.thumbnail,alt:e.thumbnail}),u.a.createElement("div",{className:lt("to-detail")},u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},e.title)))}))):u.a.createElement("p",{className:lt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."):t&&t.user&&t.user.uploaded.length>0?u.a.createElement("div",{className:lt("uploaded-list")},t.user.uploaded.map((function(e){return u.a.createElement("div",{className:lt("uploaded-img-wrapper"),key:e._id},u.a.createElement("img",{className:lt("uploaded-img"),src:e.thumbnail,alt:e.thumbnail}),u.a.createElement("div",{className:lt("to-detail")},u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},"\uc0c1\uc138 \ud398\uc774\uc9c0")))}))):u.a.createElement("p",{className:lt("recent-empty")},"\ucd5c\uadfc \uc544\ubb34 \ud65c\ub3d9\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4.")},it=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1,idx:0},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleCancel=function(){a.setState({isOpen:!1})},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.profile,n=t.from,r=this.state,o=r.isOpen,l=r.idx;return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:lt("user-profile")},u.a.createElement("div",{className:lt("profile-wrapper")},u.a.createElement("div",{className:lt("info")},u.a.createElement("img",{src:"/me"===n?a&&void 0!==a.profile?a.profile.avatarUrl:"":a&&void 0!==a.user?a.user.avatarUrl:"",alt:Fe.a}),u.a.createElement("h1",null,"/me"===n?a&&void 0!==a.profile?a.profile.email:"":a&&void 0!==a.user?a.user.email:""),u.a.createElement("div",{className:lt("profile-edit")},"/me"===n?u.a.createElement("p",{to:"/edit",onClick:this.handleOpen},"\ud504\ub85c\ud544 \uc218\uc815"):u.a.createElement("div",null)),u.a.createElement("div",{className:lt("rate-review")},u.a.createElement("p",null,"/me"===n?a&&void 0!==a.profile?a.profile.votes.length:0:a&&void 0!==a.user?a.user.votes.length:0," ","\ud3c9\uac00"),u.a.createElement("p",null,"/me"===n?a&&void 0!==a.profile?a.profile.reviews.length:0:a&&void 0!==a.user?a.user.reviews.length:0," ","\ub9ac\ubdf0")),u.a.createElement("p",{className:lt("intro")},"/me"===n?a&&void 0!==a.profile?a.profile.intro:0:a&&void 0!==a.user?a.user.intro:0))),u.a.createElement("div",null,u.a.createElement("ul",{className:lt("catalog-list")},u.a.createElement("li",{className:0===l?lt("active"):"",onClick:function(){return e.setState({idx:0})}},"\ucc45"),u.a.createElement("li",{className:1===l?lt("active"):"",onClick:function(){return e.setState({idx:1})}},"\ub9ac\ubdf0")),u.a.createElement("div",{style:0===l?{display:"block"}:{display:"none"}},u.a.createElement("div",{className:lt("uploaded")},u.a.createElement("div",{className:lt("uploaded-head")},u.a.createElement(d.b,{to:"/me"===n?a&&void 0!==a.profile?"shelve/".concat(a.profile._id):"/":a&&void 0!==a.user?"shelve/".concat(a.user._id):"/  "},u.a.createElement("h2",null,"\uc5c5\ub85c\ub4dc \ud55c \ucc45"))),u.a.createElement("div",{className:lt("uploaded-body"),style:{marginLeft:"5px",marginTop:"5px"}},ct(n,a,"uploaded"))),u.a.createElement("div",{className:lt("want-read")},u.a.createElement("div",{className:lt("want-read-head")},u.a.createElement("h2",null,"\uc77d\uc744 \ucc45 (","/me"===n?a&&void 0!==a.profile?a.profile.want_read.length:0:a&&void 0!==a.user?a.user.want_read.length:0,")")),u.a.createElement("div",{className:lt("want-read-body")},ct(n,a,"want_read")),u.a.createElement("div",null)),u.a.createElement("div",{className:lt("currently-reading")},u.a.createElement("div",{className:lt("currently-head")},u.a.createElement("h2",null,"\ud604\uc7ac \uc77d\uace0 \uc788\ub294 \ucc45 (","/me"===n?a&&void 0!==a.profile?a.profile.reading.length:0:a&&void 0!==a.user?a.user.reading.length:0,")")),u.a.createElement("div",{className:lt("currently-body")},ct(n,a,"reading"))),u.a.createElement("div",{className:lt("read")},u.a.createElement("div",{className:lt("read-head")},u.a.createElement("h2",null,"\uc77d\uc740 \ucc45 (","/me"===n?a&&void 0!==a.profile?a.profile.read.length:0:a&&void 0!==a.user?a.user.read.length:0,")")),u.a.createElement("div",{className:lt("read-body")},ct(n,a,"read")))),u.a.createElement("div",{style:1===l?{display:"block"}:{display:"none"}},u.a.createElement("div",{className:lt("recent-update")},u.a.createElement("div",{className:lt("recent-head")},u.a.createElement("h2",null,"\ub9ac\ubdf0")),u.a.createElement("div",{className:lt("recent-body")},"/me"===n?a&&void 0!==a.profile?u.a.createElement(ot,{profile:a.profile}):"\ub9ac\ubdf0 \uc5c6\uc74c":a&&void 0!==a.user?u.a.createElement(ot,{profile:a.user}):"\ub9ac\ubdf0 \uc5c6\uc74c"))))),function(e,t,a){return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:lt("modal-overay",e?"open-modal":"close-modal")}),u.a.createElement("div",{className:lt(e?"open-modal":"close-modal")},u.a.createElement(We,{handleClose:t,profile:a,isOpen:!e})))}(o,this.handleCancel,a))}}]),t}(s.Component),st="http://localhost:8080",ut=function(e){return H.a.get("".concat(st,"/profile/").concat(e))},pt=function(e){return H.a.get("".concat(st,"/rank/reader/").concat(e))},mt=function(e){return H.a.get("".concat(st,"/rank/reviewer/").concat(e))},dt=function(e){return{type:"GET_USER",payload:ut(e)}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:"GET_TOP_READERS",payload:pt(e)}},ht=function(e){return{type:"GET_TOP_REVIEWERS",payload:mt(e)}},bt=Object(M.a)((c={},Object(G.a)(c,"GET_USER_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(c,"GET_USER_SUCCESS",(function(e,t){return{pending:!1,error:!1,profile:t.payload.data}})),Object(G.a)(c,"GET_USER_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(c,"GET_TOP_READERS_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(c,"GET_TOP_READERS_SUCCESS",(function(e,t){var a=t.payload.data.readers;return Object(F.a)({},e,{topReaders:a,pending:!1,error:!1})})),Object(G.a)(c,"GET_TOP_READERS_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),Object(G.a)(c,"GET_TOP_REVIEWERS_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(c,"GET_TOP_REVIEWERS_SUCCESS",(function(e,t){var a=t.payload.data.reviewers;return Object(F.a)({},e,{topReviewers:a,pending:!1,error:!1})})),Object(G.a)(c,"GET_TOP_REVIEWERS_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),c),{pending:!1,error:!1,profile:{},topReaders:[],topReviewers:[]}),vt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).getProfile=function(){var e=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.getProfile,e.prev=1,e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location;if("/me"!==e.pathname){var t=e.pathname.substring(1).split("/")[1];this.getProfile(t)}}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.user,n=e.profile,r=e.history.location;return u.a.createElement(s.Fragment,null,u.a.createElement(it,{isLoggedIn:t,profile:"/me"===r.pathname?n:a,from:r.pathname}))}}]),t}(s.Component),ft=Object(P.b)((function(e){return{isLoggedIn:e.login.isLoggedIn,profile:e.login.profile,user:e.user.profile}}),(function(e){return{getProfile:function(t){return e(dt(t))}}}))(vt),gt=a(79),kt=a.n(gt),Ot=a(92),wt=a(80),yt=a.n(wt),jt=N.a.bind(yt.a),St=["1","2","3","4","5"],Nt={color:"#f1c40f",cursor:"pointer"},_t=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).handleOnClick=function(e){for(var t=a.props.isLoggedIn,n=e.target;"svg"!==n.nodeName;)n=n.parentNode;var r=n.dataset.rating;t?a.postVote(r):alert("Please Login")},a.postVote=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,r,o,l,c,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.book,o=r.isbn,l=r.title,c=r.authors,i=r.thumbnail,s=n.profile.profile.email,u=n.postVote,e.next=3,u(l,c,t,o.split(" ")[0],s,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={hoveredRating:"0",currentRating:"0"},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.votes;return u.a.createElement("div",{className:jt("rater")},St.map((function(a,n){return u.a.createElement(A.g,{key:n,"data-rating":n+1,onClick:e.handleOnClick,style:t>=n+1?Nt:{}})})))}}]),t}(s.Component),Ct=Object(P.b)((function(e){return{isLoggedIn:e.login.isLoggedIn,profile:e.login.profile}}))(_t),It=a(81),Rt=a.n(It),xt=N.a.bind(Rt.a),Lt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).getReview=Object(v.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.id,r=t.getReviews,e.prev=1,e.next=4,r(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),a.postReview=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.profile.profile.email,o=n.postReview,l=n.books,c=window.location.pathname.substring(1).split("/")[1],e.prev=2,e.next=5,o(c,r,t,l[0]);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState({input:e})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.isLoggedIn,n=a.state.input;t?(a.postReview(n),a.setState({input:""})):alert("Please Login")},a.handleLike=function(e){var t=e.currentTarget.getAttribute("data-value");a.postLike("like",t)},a.postLike=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.me,l=r.postLike,c=r.profile,e.prev=1,e.next=4,l(t,n,c._id,o.profile._id);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}(),a.state={input:""},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getReview()}},{key:"componentDidUpdate",value:function(e){this.props.reviews&&e.reviews&&this.props.reviews.length!==e.reviews.length&&this.getReview()}},{key:"render",value:function(){var e=this,t=this.state.input,a=this.props.reviews;return u.a.createElement("div",{className:xt("review")},u.a.createElement("p",null,"\ub9ac\ubdf0"),u.a.createElement("div",null,u.a.createElement("div",{className:xt("form-container")},u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("textarea",{onChange:function(t){return e.handleChange(t.target.value)},value:t}),u.a.createElement("input",{type:"submit",value:"\ub4f1\ub85d"}))),u.a.createElement("div",{className:xt("review-list-wrapper")},void 0!==a?a.map((function(t,a){return function(e,t,a){return console.log(e),u.a.createElement(s.Fragment,{key:t},u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement(d.b,{to:e.reviewer?"/profile/".concat(e.reviewer._id):""},u.a.createElement("img",{className:xt("user-img"),src:e.reviewer?e.reviewer.avatarUrl:"",alt:e.reviewer?e.reviewer.avatarUrl:""}),u.a.createElement("span",{className:xt("user")},e.reviewer?e.reviewer.email:""))),u.a.createElement("span",{className:xt("date")},e.createdAt?Ye()(e.createdAt).format("MMMM MM\uc6d4 DD\uc77c HH:MM:SS"):""),u.a.createElement("div",{style:{marginTop:"10px"}},u.a.createElement("span",{className:xt("user-review")},e.content)),u.a.createElement("div",{className:xt("review-footer")},u.a.createElement("span",null,e.likes," likes"),u.a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"\xb7"),u.a.createElement("span",{className:xt("heart"),onClick:a,"data-value":e._id},u.a.createElement(A.e,null)),u.a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"\xb7"),u.a.createElement("span",{className:xt("more")},"see more"))))}(t,a,e.handleLike)})):u.a.createElement("div",null))))}}]),t}(s.Component),Tt=Object(P.b)((function(e){return{pending:e.review.pending,error:e.review.error,success:e.review.success,isLoggedIn:e.login.isLoggedIn,profile:e.login.profile,reviews:e.review.reviews,books:e.books.books}}),(function(e){return{postReview:function(t,a,n,r){return e(function(e,t,a,n){return{type:"POST_REVIEW",payload:$e(e,t,a,n)}}(t,a,n,r))},getReviews:function(t){return e(function(e){return{type:"GET_REVIEW",payload:Je(e)}}(t))},postLike:function(t,a,n){return e(J(t,a,n))}}}))(Lt),Ut=N.a.bind(kt.a),Dt=[{value:"want_read",label:"\uc77d\uae30"},{value:"reading",label:"\uc77d\ub294\uc911"},{value:"read",label:"\uc77d\uc74c"}],At=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).checkStatus=function(e,t){return e.filter((function(e){return e.isbn===t})).length>0},a.checkUserVote=function(){var e=a.props,t=e.votes,n=e.profile.profile,r="0";if(t)for(var o=0;o<t.length;o++)if(t[o]._id===n._id){r=String(t[o].vote);break}return r},a.getStatus=function(){var e=a.props,t=e.profile.profile,n=e.id;if(t){if(a.checkStatus(t.want_read,n))return void a.setState({selected:Dt[0],status:Dt[0].label});if(a.checkStatus(t.reading,n))return void a.setState({selected:Dt[1],status:Dt[1].label});if(a.checkStatus(t.read,n))return void a.setState({selected:Dt[2],status:Dt[2].label})}},a.handleOnClick=Object(v.a)(b.a.mark((function e(){var t,n,r,o,l,c,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.selected.value,n=a.props,r=n.postShelve,o=n.book,l=o.title,c=o.authors,i=o.thumbnail,s=n.profile.profile.email,u=window.location.pathname.substring(1).split("/")[1],e.prev=3,e.next=6,r(s,u,l,c,t,i);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.handleRadio=function(e){a.setState({selected:e},(function(){return console.log("Selected: ".concat(a.state.selected))}))},a.state={selected:null,status:"\uc77d\uae30"},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getStatus();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.book,a=e.votes,n=e.postVote,r=e.id,o=e.reviews,l=this.state,c=l.selected,i=l.status;return u.a.createElement(s.Fragment,null,t?u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:Ut("book-detail")},u.a.createElement("div",{className:Ut("book-info-wrapper")},u.a.createElement("div",{className:Ut("img-col")},u.a.createElement("img",{src:t.thumbnail,alt:"geisha"})),u.a.createElement("div",{className:Ut("book-content")},u.a.createElement("h2",{className:Ut("title")},t.title),u.a.createElement("p",{className:Ut("author")},function(e){for(var t="",a=0;a<e.length;a++)t+="".concat(e[a]," ");return t}(t.authors)),u.a.createElement("div",{className:Ut("bookmeta")},u.a.createElement("span",{className:Ut("score")},u.a.createElement(A.g,null),function(e){if(e){var t=0;if(e.length>0){for(var a=0;a<e.length;a++)t+=parseInt(e[a].vote);return console.log(t),(t/e.length).toFixed(2)}return 0}return 0}(a),u.a.createElement(A.a,{className:Ut("angle-down")})),u.a.createElement("span",{className:Ut("rate-cnt")},a?a.length:0," \ud3c9\uac00"),u.a.createElement("span",{className:Ut("review-cnt")},o?o.length:0," \ub9ac\ubdf0")),u.a.createElement("span",{className:Ut("discription")},t.contents),u.a.createElement("div",null,u.a.createElement("div",{className:Ut("rate-wrapper")},u.a.createElement("span",null,"\ucc45 \ud3c9\uac00\ud558\uae30"),u.a.createElement(Ct,{postVote:n,book:t,id:r,votes:a&&a.length>0?this.checkUserVote():"0"})),u.a.createElement("div",{className:Ut("add")},u.a.createElement(Ot.a,{className:Ut("select"),options:Dt,onChange:this.handleRadio,value:c,isSearchable:!1,placeholder:i}),u.a.createElement("button",{className:Ut("want-read"),onClick:this.handleOnClick},u.a.createElement("span",null,u.a.createElement(A.f,null)),"\ub4f1\ub85d")))))),u.a.createElement(Tt,{id:r})):u.a.createElement(ee.ChasingDots,{color:"white",size:60}))}}]),t}(s.Component),Pt=Object(P.b)(null,(function(e){return{postShelve:function(t,a,n,r,o,l){return e(X(t,a,n,r,o,l))}}}))(At),Gt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={avg_vote:0},a.getBook=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.getBook,o=n.getAvg_Reviews,e.prev=1,e.t0=Promise,e.next=5,r(t);case 5:return e.t1=e.sent,e.next=8,o(t);case 8:e.t2=e.sent,e.t3=[e.t1,e.t2],e.t0.all.call(e.t0,e.t3),e.next=16;break;case 13:e.prev=13,e.t4=e.catch(1),console.log(e.t4);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;window.scrollTo(0,0),this.getBook(e)}},{key:"render",value:function(){var e=this.props,t=e.match.params.id,a=e.books,n=e.votes,r=e.reviews,o=e.postVote,l=e.profile;return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:"main-container"},u.a.createElement(Pt,{book:a[0],id:t,postVote:o,votes:n,reviews:r,profile:l})))}}]),t}(s.Component),Ft=Object(P.b)((function(e){return{pending:e.books.pending,error:e.books.error,books:e.books.books,vote_error:e.books.vote_error,vote_pending:e.books.vote_pending,vote_success:e.books.vote_success,votes:e.books.votes,reviews:e.review.reviews,profile:e.login.profile}}),(function(e){return{getBook:function(t){return e({type:"GET_DETAIL",payload:se(t,3,1)})},getAvg_Reviews:function(t){return e(function(e){return{type:"GET_VOTE_REVIEW",payload:ue(e)}}(t))},postVote:function(t,a,n,r,o,l){return e(function(e,t,a,n,r,o){return{type:"POST_BOOK",payload:ie(e,t,a,n,r,o)}}(t,a,n,r,o,l))}}}))(Gt),Mt=a(82),Vt=a.n(Mt),Ht=N.a.bind(Vt.a),Wt=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("footer",{className:Ht("footer")},u.a.createElement("div",{className:Ht("footer_icon")}),u.a.createElement("span",{className:Ht("footer_text")},"\xa9 HappReads ",Ye()().format("YYYY")))}}]),t}(s.Component),Bt={form:{height:"80px",width:"450px",margin:"0 auto"},text:{width:"100%",padding:"5px",fontSize:"12px"}},qt=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).getBooks=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:1,o=a.props.getBooks,e.prev=2,e.next=5,o(t,n,r);case 5:l=e.sent,console.log(l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),a.handleScroll=function(){var e=window.innerHeight,t=document.body.scrollHeight,n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,r=a.props.location.search,o=a.state.page,l=decodeURI(r).split("=")[1].replace(/[%20]/gi," ").split("&")[0],c=window.location.search.split("type=")[1];t-e-n<100&&(a.getBooks(l,c,o+1),a.setState({page:o+1}))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.keyword,r=t.type;window.location.href="/search?p=".concat(n,"&type=").concat(r," ")},a.handleChange=function(e){a.setState({keyword:e})},a.handleAll=function(){a.setState({type:"0"})},a.handleBook=function(){a.setState({type:"1"})},a.handleAuthor=function(){a.setState({type:"2"})};var n=window.location.search.split("type=")[1];return a.state={keyword:"",type:n||"0",page:1},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search,t=decodeURI(e).split("=")[1].replace(/[%20]/gi," ").split("&")[0],a=window.location.search.split("type=")[1];console.log(t,a),this.getBooks(t,a),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.history,t.location.search),n=t.books,r=t.keyword,o=this.state.type,l=decodeURI(a).split("=")[1].replace(/[%20]/gi," ");return u.a.createElement(s.Fragment,null,u.a.createElement("div",{style:{marginTop:"73px"}},u.a.createElement("h1",{style:{marginLeft:"10px",paddingTop:"10px"}},u.a.createElement("span",{style:{fontWeight:"800"}},"\uac80\uc0c9")," >"," ",l.substring(0,l.length-5)),u.a.createElement("div",{className:"form-container",style:Bt.form},u.a.createElement("form",{style:{width:"100%"},onSubmit:this.handleSubmit},u.a.createElement("input",{type:"text",style:Bt.text,placeholder:"\ucc45/\uc800\uc790 \uac80\uc0c9",value:r,onChange:function(t){return e.handleChange(t.target.value)}}),u.a.createElement("div",{style:{marginTop:"10px"}},u.a.createElement("input",{type:"radio",name:"check",value:"all",onChange:this.handleAll,checked:"0"===o}),u.a.createElement("label",null,"\ubaa8\ub4e0"),u.a.createElement("input",{type:"radio",name:"check",value:"book",onChange:this.handleBook,checked:"1"===o}),u.a.createElement("label",null,"\ucc45"),u.a.createElement("input",{type:"radio",name:"check",value:"author",onChange:this.handleAuthor,checked:"2"===o}),u.a.createElement("label",null," \uc791\uac00")))),function(e){return u.a.createElement(s.Fragment,null,u.a.createElement(re,{booklist:e,from:"search"}))}(n)))}}]),t}(s.Component),Kt=Object(P.b)((function(e){return{pending:e.books.pending,error:e.books.error,books:e.books.books}}),(function(e){return{getBooks:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(pe(t,a,n))}}}))(qt),Yt=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.profile;return u.a.createElement("div",null,u.a.createElement(We,{history:t,profile:a}))}}]),t}(s.Component),zt=Object(P.b)((function(e){return{isLoggedIn:e.login.isLoggedIn,profile:e.login.profile}}))(Yt),Xt=a(83),Jt=a.n(Xt),$t=function(e){return H.a.post("http://localhost:8080/upload",e)},Qt=Object(M.a)((i={},Object(G.a)(i,"UPLOAD_PENDING",(function(e,t){return Object(F.a)({},e,{pending:!0,error:!1})})),Object(G.a)(i,"UPLOAD_SUCCESS",(function(e,t){return{success:!0,pending:!1,error:!1}})),Object(G.a)(i,"UPLOAD_FAILURE",(function(e,t){return Object(F.a)({},e,{pending:!1,error:!0})})),i),{pending:!1,error:!1,success:!1}),Zt=N.a.bind(Jt.a),ea=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={selected:null,title:"",authors:[],author:"",isbn:"",contents:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.selected,r=t.title,o=t.authors,l=t.isbn,c=t.contents,i=a.props.profile.profile._id,s=new FormData;s.append("thumbnail",n),s.append("title",r),s.append("authors",o),s.append("isbn",l),s.append("contents",c),s.append("uid",i),a.submitData(s)},a.handleAuthorChange=function(e){a.setState({author:e})},a.handleKeyPress=function(e){var t=a.state,n=t.author,r=t.authors;""!==n&&13===e&&a.setState({authors:[].concat(Object(ce.a)(r),[n]),author:""})},a.handleDeleteTag=function(e){var t=a.state.authors,n=e.target.previousSibling.innerHTML,r=t.filter((function(e){return e!==n}));a.setState({authors:r})},a.handleFile=function(e){var t=e.target.files;a.setState({selected:t[0]});var n=URL.createObjectURL(t[0]);document.querySelector(".preview-img").src=n},a.handleTitle=function(e){a.setState({title:e})},a.handleContents=function(e){a.setState({contents:e})},a.handleIsbn=function(e){a.setState({isbn:e})},a.submitData=function(){var e=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.postUpload,e.prev=1,e.next=4,n(t);case 4:window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.isbn,r=t.contents,o=t.author,l=t.authors;t.selected;return u.a.createElement("div",{className:Zt("book-upload")},u.a.createElement("div",{className:Zt("form-container")},u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("div",{className:Zt("upload-btn-wrapper")},u.a.createElement("img",{className:Zt("preview-img"),alt:""}),u.a.createElement("div",{style:{position:"relative"}},u.a.createElement("button",{className:Zt("btn")},"\uc774\ubbf8\uc9c0 \uc120\ud0dd"),u.a.createElement("input",{type:"file",onChange:this.handleFile,required:!0}))),u.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.handleTitle(t.target.value)},placeholder:"\ucc45 \uc774\ub984",required:!0}),u.a.createElement("div",{className:Zt("authors")},function(e,t){return e.map((function(e){var a=Object(te.a)();return u.a.createElement("div",{className:Zt("author-tag"),key:a},u.a.createElement("span",{className:Zt("author-name")},e),u.a.createElement("span",{className:Zt("author-x"),onClick:t},"x"))}))}(l,this.handleDeleteTag),u.a.createElement("input",{className:Zt("author-input"),type:"text",placeholder:"\uc800\uc790 +",value:o,onChange:function(t){return e.handleAuthorChange(t.target.value)},onKeyDown:function(t){return e.handleKeyPress(t.keyCode)}})),u.a.createElement("input",{type:"text",value:n,onChange:function(t){return e.handleIsbn(t.target.value)},placeholder:"ISBN",required:!0}),u.a.createElement("textarea",{placeholder:"\uc694\uc57d",value:r,onChange:function(t){return e.handleContents(t.target.value)},required:!0}),u.a.createElement("input",{type:"submit",value:"\uc81c\ucd9c"}))))}}]),t}(s.Component),ta=Object(P.b)((function(e){return{pending:e.upload.pending,error:e.upload.error,success:e.upload.success,profile:e.login.profile}}),(function(e){return{postUpload:function(t){return e(function(e){return{type:"UPLOAD",payload:$t(e)}}(t))}}}))(ea),aa=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement(s.Fragment,null,u.a.createElement(ta,null))}}]),t}(s.Component),na=a(84),ra=a.n(na),oa=a(85),la=a.n(oa),ca=N.a.bind(la.a),ia=function(){var e=Object(s.useState)(""),t=Object(T.a)(e,2),a=t[0],n=t[1];return u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:ca("search-bar")},u.a.createElement("form",{className:ca("form-container"),onSubmit:function(e){window.location.href="/search?p=".concat(a),e.preventDefault()}},u.a.createElement("input",{type:"input",placeholder:"\ucc45 \uac80\uc0c9...",value:a,name:"q",onChange:function(e){return t=e.target.value,void n(t);var t}}))))},sa=N.a.bind(ra.a),ua=function(e,t,a){return u.a.createElement("div",{className:sa("menu","".concat(e?"show":""))},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement(d.b,{to:"/me"},u.a.createElement("p",null,"\ud504\ub85c\ud544"))),u.a.createElement("li",null,u.a.createElement(d.b,{to:"/upload"},u.a.createElement("p",null,"\ucc45 \uc5c5\ub85c\ub4dc"))),u.a.createElement("li",{onClick:function(){return t()}},u.a.createElement("p",null,"\ub85c\uadf8\uc544\uc6c3"))),u.a.createElement("div",{className:sa("callout")}))},pa=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={showMenu:!1,lastPos:window.pageYOffset,isLogOut:!1},a.checkUser=Object(v.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("atk"),n=a.props.checkUser,!t){e.next=11;break}return e.prev=3,e.next=6,n(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.requestLogOut=Object(v.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.userLogOut,e.prev=1,e.next=4,t();case 4:n=e.sent,200===n.value.status&&(localStorage.removeItem("atk"),a.setState({isLogOut:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.clickMenu=function(){var e=a.state.showMenu;a.setState({showMenu:!e})},a.handleScroll=function(e){var t=window.pageYOffset,n=a.state.lastPos;e&&(n>t?document.querySelector(".header").classList.remove("header-up"):document.querySelector(".header").classList.add("header-up"),a.setState({lastPos:t}))},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted,this.checkUser()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.showMenu,a=e.isLogOut,n=this.props,r=n.isLoggedIn,o=n.profile;return this.handleScroll(),u.a.createElement("div",{className:sa("header")},u.a.createElement("div",{className:sa("title")},u.a.createElement(d.b,{to:"/"},u.a.createElement("span",{className:sa("fr")},"Happ"),u.a.createElement("span",{className:sa("en")},"Reads"))),u.a.createElement(ia,null),u.a.createElement("div",{className:sa("community")},u.a.createElement(d.b,{to:"/community/reviews"},"\ucee4\ubba4\ub2c8\ud2f0")),u.a.createElement("div",null,u.a.createElement("ul",{className:sa("ul")},function(e,t,a,n,r){return e?u.a.createElement(s.Fragment,null,u.a.createElement("li",null,u.a.createElement("span",null,u.a.createElement("img",{src:r.profile?r.profile.avatarUrl:"",alt:"me",onClick:t,style:{width:"40px",height:"40px",borderRadius:"50%"}})),ua(a,n,e))):u.a.createElement(s.Fragment,null,u.a.createElement("li",{className:sa("login")},u.a.createElement(d.b,{to:"/login"},"\ub85c\uadf8\uc778")),u.a.createElement("li",null,u.a.createElement(d.b,{to:"/signup"},"\uac00\uc785")))}(r,this.clickMenu,t,this.requestLogOut,o))),a&&u.a.createElement(E.a,{to:"/"}))}}]),t}(s.Component),ma=Object(P.b)((function(e){return{isLoggedIn:e.login.isLoggedIn,profile:e.login.profile}}),(function(e){return{checkUser:function(t){return e(z(t))},userLogOut:function(){return e({type:"LOGOUT",payload:H.a.post("http://localhost:8080/logout")})}}}))(pa),da=a(86),Ea=a.n(da),ha={padding:"80px",textAlign:"center"},ba=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:ha},u.a.createElement("h1",{style:{fontSize:"2.0rem",fontWeight:"700",marginTop:"20px",marginBottom:"20px"}},"404 Not Found"),u.a.createElement("img",{src:Ea.a,style:{height:"250px",marginBottom:"10px"},alt:"404"}))}}]),t}(s.Component),va=a(87),fa=a.n(va),ga=a(88),ka=a.n(ga),Oa=N.a.bind(ka.a),wa={"\uc77d\uc74c":"read","\uc77d\uae30":"want_read","\uc77d\ub294\uc911":"reading"},ya=function(e){var t=e.handleCancel,a=e.handleChange,n=e.item,r=e.type,o=Object(s.useState)(wa[r]),l=Object(T.a)(o,2),c=l[0],i=l[1];return u.a.createElement("div",{className:"modal-container"},u.a.createElement("div",{className:"modal-overlay"}),u.a.createElement("div",{className:"modal"},u.a.createElement("p",{className:Oa("exit")},u.a.createElement("span",{role:"img","aria-label":"cancel",onClick:t},"\u274c")),u.a.createElement("img",{src:n.thumbnail,alt:n.id}),u.a.createElement("div",{className:Oa("status-wrapper")},u.a.createElement("div",{className:Oa("read-status")},u.a.createElement("span",null,"\ud604\uc7ac \uc0c1\ud0dc:"),u.a.createElement("p",{className:Oa("current-status")},r)),u.a.createElement("select",{className:Oa("select"),defaultValue:c,onChange:function(e){var t=e.target;i(t.value)}},u.a.createElement("option",{value:"want_read"},"\uc77d\uc744 \ucc45"),u.a.createElement("option",{value:"reading"},"\uc77d\b\ub294\uc911"),u.a.createElement("option",{value:"read"},"\uc77d\uc74c")),u.a.createElement("div",{className:Oa("button-container")},u.a.createElement("button",{className:Oa("ok-btn"),onClick:function(e){return a(n,c)}},"\uc218\uc815"),u.a.createElement("button",{className:Oa("cancel-btn"),onClick:t},"\ucde8\uc18c")))))},ja=N.a.bind(fa.a),Sa=null,Na=null,_a=function(e){e.classList.add("show"),Sa=e},Ca={"\uc77d\uc74c":"read","\uc77d\uae30":"want_read","\uc77d\ub294\uc911":"reading"},Ia=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).handleScroll=function(e){var t=document.querySelector(".menu-ul"),a=t.getBoundingClientRect().top;e&&(a<50?Na.classList.contains("fix")||(Na.classList.add("fix"),t.classList.add("fix")):(Na.classList.remove("fix"),t.classList.remove("fix")))},a.getUser=Object(v.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.hash.split("/"),n=t[t.length-1],r=a.props.getUser,e.prev=3,e.next=6,r(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.checkType=function(e){for(var t=a.props.user.user,n=t.read,r=t.want_read,o=t.reading,l=0;l<r.length;l++)if(r[l].book.isbn===e.isbn)return"\uc77d\uae30";for(var c=0;c<o.length;c++)if(o[c].book.isbn===e.isbn)return"\uc77d\ub294\uc911";for(var i=0;i<n.length;i++)if(n[i].book.isbn===e.isbn)return"\uc77d\uc74c"},a.getBooks=function(e){var t=a.props.user.user,n=parseInt(e,10);if(t){if(1===n){var r=t.read,o=t.want_read,l=t.reading;return o.concat(l).concat(r).sort((function(e,t){return e.title>t.title?1:-1})).map((function(e){return u.a.createElement("tr",{key:e.book._id},u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},u.a.createElement("img",{src:e.book.thumbnail,alt:e.book.thumbnail}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},e.book.title)),u.a.createElement("td",null,e.book.authors.length>1?e.book.authors[0]+"*":e.book.authors[0]),u.a.createElement("td",null,0),u.a.createElement("td",null,Ye()(e.book.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),u.a.createElement("td",null,a.checkType(e.book)," "),u.a.createElement("td",{className:ja("settings all"),onClick:function(t){return a.handleSettings(t.target,e.book,a.checkType(e.book))}},u.a.createElement("span",null,"\uc218\uc815"),u.a.createElement("span",null,"X")))}))}if(2===n){var c=t.uploaded;return console.log(c),c.map((function(e){return u.a.createElement("tr",{key:e._id},u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},u.a.createElement("img",{src:e.thumbnail,alt:e.thumbnail}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},e.title)),u.a.createElement("td",null,e.authors.length>1?e.authors[0]+"*":e.authors[0]),u.a.createElement("td",null,0),u.a.createElement("td",null,Ye()(e.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),u.a.createElement("td",null,"\uc5c5\ub85c\ub4dc"),u.a.createElement("td",{className:ja("settings uploaded"),onClick:function(t){return a.handleSettings(t.target,e,a.checkType(e))}},u.a.createElement("span",null,"\uc218\uc815"),u.a.createElement("span",null,"X")))}))}if(3===n)return t.want_read.map((function(e){return u.a.createElement("tr",{key:e.book._id},u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.isbn)},u.a.createElement("img",{src:e.book.thumbnail,alt:e.book.thumbnail}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},e.book.title)),u.a.createElement("td",null,e.book.authors.length>1?e.book.authors[0]+"*":e.book.authors[0]),u.a.createElement("td",null,0),u.a.createElement("td",null,Ye()(e.book.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),u.a.createElement("td",null,"\uc77d\uae30"),u.a.createElement("td",{className:ja("settings want"),onClick:function(t){return a.handleSettings(t.target,e.book,a.checkType(e.book))}},u.a.createElement("span",null,"\uc218\uc815"),u.a.createElement("span",null,"X")))}));if(4===n)return t.reading.map((function(e){return u.a.createElement("tr",{key:e._id},u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},u.a.createElement("img",{src:e.book.thumbnail,alt:e.book.thumbnail}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},e.book.title)),u.a.createElement("td",null,e.book.authors.length>1?e.book.authors[0]+"*":e.book.authors[0]),u.a.createElement("td",null,0),u.a.createElement("td",null,Ye()(e.book.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),u.a.createElement("td",null,"\uc77d\ub294\uc911"),u.a.createElement("td",{className:ja("settings reading"),onClick:function(t){return a.handleSettings(t.target,e.book,a.checkType(e.book))}},u.a.createElement("span",null,"\uc218\uc815"),u.a.createElement("span",null,"X")))}));if(5===n)return t.read.map((function(e){return u.a.createElement("tr",{key:e.book._id},u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},u.a.createElement("img",{src:e.book.thumbnail,alt:e.book.thumbnail}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/book/".concat(e.book.isbn)},e.book.title)),u.a.createElement("td",null,e.book.authors.length>1?e.book.authors[0]+"*":e.book.authors[0]),u.a.createElement("td",null,0),u.a.createElement("td",null,Ye()(e.book.createdAt).format("YY\ub144MM\uc6d4DD\uc77c HH:MM:SS")),u.a.createElement("td",null,"\uc77d\uc74c"),u.a.createElement("td",{className:ja("settings"),onClick:function(t){return a.handleSettings(t.target,e.book,a.checkType(e.book))}},u.a.createElement("span",null,"\uc218\uc815"),u.a.createElement("span",null,"X")))}))}return u.a.createElement(s.Fragment,null)},a.deleteShelve=function(){var e=Object(v.a)(b.a.mark((function e(t,n,r){var o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.props.deleteShelve,e.prev=1,e.next=4,o(t,n,r);case 4:l=e.sent,200===l.value.status&&a.getUser(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),a.handleClick=function(e){var t=e.target,n=t.getAttribute("data-value");a.setState({type:n}),Sa&&function(e){e.classList.remove("show")}(Sa),_a(t)},a.handleSettings=function(e,t,n){if("\uc218\uc815"===e.innerText&&a.setState({openModal:!0,item:t,status:n}),"X"===e.innerText){var r=a.props.profile.profile;a.deleteShelve(r._id,t._id,Ca[n])}},a.handleCancel=function(e){a.setState({openModal:!1})},a.handleChange=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var r,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.postShelve,l=r.profile.profile,e.prev=1,e.next=4,o(l.email,t.isbn,t.title,t.authors,n,t.thumbnail);case 4:c=e.sent,200===c.value.status&&(a.getUser(l.id),a.setState({openModal:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),a.state={type:1,openModal:!1,lastPos:90,item:{},status:""},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".menu-ul");Na=document.querySelector(".shelve-header"),window.addEventListener("scroll",this.handleScroll),e.addEventListener("click",this.handleClick),_a(document.querySelector(".menu-ul li:nth-child(1)")),this.getUser(),window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(".menu-ul");window.removeEventListener("scroll",this.handleScroll),e.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this.props,t=e.user.user,a=e.profile.profile,n=this.state,r=n.type,o=n.openModal,l=n.item,c=n.status,i=window.location.pathname.substring(1).split("/")[1];return u.a.createElement("div",{className:ja("book-shelve")},o?u.a.createElement(ya,{handleCancel:this.handleCancel,handleChange:this.handleChange,item:l,type:c}):u.a.createElement(s.Fragment,null),u.a.createElement("div",null,u.a.createElement("p",{className:ja("shelve-header")},u.a.createElement("span",null,t?t.email:"","'s ")," ",u.a.createElement("span",null,"\ucc45\uc7a5")),u.a.createElement("ul",{className:ja("menu-ul")},u.a.createElement("li",{"data-value":1},"\uc804\uccb4"),u.a.createElement("li",{"data-value":3},"\uc77d\uae30 (",t?t.want_read.length:0,")"),u.a.createElement("li",{"data-value":4},"\uc77d\ub294\uc911 (",t?t.reading.length:0,")"),u.a.createElement("li",{"data-value":5},"\uc77d\uc74c (",t?t.read.length:0,")"),u.a.createElement("li",{"data-value":2},"\uc5c5\ub85c\ub4dc"))),u.a.createElement("div",null,u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"\ucee4\ubc84"),u.a.createElement("th",null,"\uc81c\ubaa9"),u.a.createElement("th",null,"\uc800\uc790"),u.a.createElement("th",null,"\ud3c9\uade0"),u.a.createElement("th",null,"\uc0dd\uc131 \ub0a0\uc9dc"),u.a.createElement("th",null,"\uc0c1\ud0dc"),a&&i===a._id?u.a.createElement("th",null,"\uc124\uc815"):u.a.createElement(s.Fragment,null))),u.a.createElement("tbody",null,this.getBooks(r)))))}}]),t}(s.Component),Ra=Object(P.b)((function(e){return{profile:e.login.profile,user:e.user.profile}}),(function(e){return{getUser:function(t){return e(dt(t))},postShelve:function(t,a,n,r,o,l){return e(X(t,a,n,r,o,l))},deleteShelve:function(t,a,n){return e(function(e,t,a){return{type:"DELETE_SHELVE",payload:Y(e,t,a)}}(t,a,n))}}}))(Ia),xa=a(89),La=a.n(xa),Ta=N.a.bind(La.a),Ua=function(e){var t=e.path;return u.a.createElement("div",{className:Ta("category")},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement(d.b,{to:"/community/reviews"},"\ucd5c\uadfc \ub9ac\ubdf0")),u.a.createElement("li",null,u.a.createElement(d.b,{to:"/community/top-readers",style:"top-readers"===t?{fontWeight:800}:{}},"Top Readers")),u.a.createElement("li",null,u.a.createElement(d.b,{to:"/community/top-reviewers",style:"top-reviewers"===t?{fontWeight:800}:{}},"Top Reviewers"))))},Da=a(90),Aa=a.n(Da),Pa=N.a.bind(Aa.a),Ga=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return"top-readers"===e?u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:Pa("range-container")},u.a.createElement("span",{"data-value":0,"data-role":"reader",onClick:a},"\uc804\uccb4"),u.a.createElement("span",null," | "),u.a.createElement("span",{"data-value":1,"data-role":"reader",onClick:a},"\uc774\ubc88 \uc8fc"),u.a.createElement("span",null," | "),u.a.createElement("span",{"data-value":2,"data-role":"reader",onClick:a},"\uc774\ubc88 \ub2ec")),u.a.createElement("table",{className:Pa("table")},u.a.createElement("tbody",null,0===t.length&&u.a.createElement("tr",{style:{textAlign:"center",border:"none"}},u.a.createElement("p",null,"\uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")),t.length>=1&&t.map((function(e,t){return u.a.createElement("tr",{key:e&&e._id},u.a.createElement("td",null,t+1),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/profile/".concat(e._id)},u.a.createElement("img",{src:e&&e.avatarUrl,alt:e&&e.avatarUrl}))),u.a.createElement("td",null,u.a.createElement(d.b,{to:"/profile/".concat(e._id)},u.a.createElement("p",null,e&&e.email)),u.a.createElement("p",null,"\ucc45: ",e&&e.read.length," \uad8c")),u.a.createElement("td",null,u.a.createElement("p",null,0===parseInt(n)&&u.a.createElement("span",null,"\uc804\uccb4: "),1===parseInt(n)&&u.a.createElement("span",null,"\uc774\ubc88 \uc8fc: "),2===parseInt(n)&&u.a.createElement("span",null,"\uc774\ubc88 \ub2ec: "),u.a.createElement("span",null,e&&e.read.length," \uad8c"))))}))))):"top-reviewers"===e?u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:Pa("range-container")},u.a.createElement("span",{"data-value":0,"data-role":"reviewer",onClick:a},"\uc804\uccb4"),u.a.createElement("span",null," | "),u.a.createElement("span",{"data-value":1,"data-role":"reviewer",onClick:a},"\uc774\ubc88 \uc8fc"),u.a.createElement("span",null," | "),u.a.createElement("span",{"data-value":2,"data-role":"reviewer",onClick:a},"\uc774\ubc88 \ub2ec")),u.a.createElement("table",{className:Pa("table")},u.a.createElement("tbody",null,0===t.length&&u.a.createElement("tr",{style:{textAlign:"center",border:"none"}},u.a.createElement("p",null,"\uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")),t.length>0&&t.map((function(e,t){return u.a.createElement("tr",{key:e._id},u.a.createElement("td",null,t+1),u.a.createElement("td",null,u.a.createElement("img",{src:e.avatarUrl,alt:e.avatarUrl})),u.a.createElement("td",null,u.a.createElement("p",null,e.email),u.a.createElement("p",null,e.reviews.length," \ub9ac\ubdf0")),u.a.createElement("td",null,u.a.createElement("p",null,0===parseInt(n)&&u.a.createElement("span",null,"\uc804\uccb4: "),1===parseInt(n)&&u.a.createElement("span",null,"\uc774\ubc88 \uc8fc: "),2===parseInt(n)&&u.a.createElement("span",null,"\uc774\ubc88 \ub2ec: "),u.a.createElement("span",null,e.reviews.length," \ub9ac\ubdf0"))))}))))):"reviews"===e?u.a.createElement(s.Fragment,null,0===t.length&&u.a.createElement("p",{style:{textAlign:"center"}},"\uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),t.length>0&&t.map((function(e){return u.a.createElement("div",{key:e&&e._id,className:Pa(["card","row"])},u.a.createElement("div",{className:Pa("first-col")},u.a.createElement(d.b,{to:"/book/".concat(e&&e.book&&e.book.isbn)},u.a.createElement("img",{src:e&&e.book&&e.book.thumbnail,alt:e&&e.book&&e.book.title}))),u.a.createElement("div",{className:Pa("second-col")},u.a.createElement("p",{className:Pa("date")},e&&Ye()(e.createdAt).format("YYYY/MM/DD HH:MM:DD")),u.a.createElement("p",{className:Pa("reviewer")},u.a.createElement(d.b,{to:"/profile/".concat(e&&e.reviewer._id)},e&&e.reviewer.email)),u.a.createElement("h4",{className:Pa("title")},u.a.createElement(d.b,{to:"/book/".concat(e&&e.book&&e.book.isbn)},e&&e.book&&e.book.title)),u.a.createElement("div",{className:Pa("content")},u.a.createElement("img",{src:e&&e.reviewer&&e.reviewer.avatarUrl,alt:e&&e.reviewer.email}),u.a.createElement("p",null,e&&e.content))))}))):void 0},Fa=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={type:0},a.getReviews=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.getReviews,e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),a.getTopReaders=function(){var e=Object(v.a)(b.a.mark((function e(){var t,n,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,n=a.props.getTopReaders,e.prev=2,e.next=5,n(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),a.getTopReviewers=function(){var e=Object(v.a)(b.a.mark((function e(){var t,n,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,n=a.props.getTopReviewers,e.prev=2,e.next=5,n(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),a.handleType=function(e){var t=e.target,n=t.getAttribute("data-value"),r=t.getAttribute("data-role");"reader"===r&&a.getTopReaders(n),"reviewer"===r&&a.getTopReviewers(n),a.setState({type:n})},a}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getReviews(),this.getTopReaders(),this.getTopReviewers()}},{key:"render",value:function(){var e=this.props,t=e.path,a=e.reviews,n=e.topReaders,r=e.topReviewers,o=this.state.type;return u.a.createElement("div",{className:Pa("community-container")},"reviews"===t&&u.a.createElement("div",{className:Pa("reviews")},Ga("reviews",a)),"top-readers"===t&&u.a.createElement("div",null,Ga("top-readers",n,this.handleType,o)),"top-reviewers"===t&&u.a.createElement("div",null,Ga("top-reviewers",r,this.handleType,o)))}}]),t}(s.Component),Ma=Object(P.b)((function(e){return{reviews:e.review.reviews,topReaders:e.user.topReaders,topReviewers:e.user.topReviewers}}),(function(e){return{getReviews:function(){return e({type:"GET_REVIEWS",payload:H.a.get("http://localhost:8080/reviews")})},getTopReaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e(Et(t))},getTopReviewers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e(ht(t))}}}))(Fa),Va=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.history.location.pathname.substr(1).split("/")[1];return u.a.createElement(s.Fragment,null,u.a.createElement("div",{style:{paddingTop:"70px"}},u.a.createElement(Ua,{path:e}),u.a.createElement(Ma,{path:e})))}}]),t}(s.Component);var Ha=function(){return u.a.createElement(d.a,null,u.a.createElement(ma,null),u.a.createElement(E.d,null,u.a.createElement(E.b,{path:"/",exact:!0,component:Ee}),u.a.createElement(E.b,{path:"/book/:id",component:Ft}),u.a.createElement(E.b,{path:"/login",component:Ne}),u.a.createElement(E.b,{path:"/search",component:Kt}),u.a.createElement(E.b,{path:"/signup",component:De}),u.a.createElement(E.b,{path:"/edit",component:zt}),u.a.createElement(E.b,{path:"/me",component:ft}),u.a.createElement(E.b,{path:"/upload",component:aa}),u.a.createElement(E.b,{path:"/community/reviews",component:Va}),u.a.createElement(E.b,{path:"/community/top-readers",component:Va}),u.a.createElement(E.b,{path:"/community/top-reviewers",component:Va}),u.a.createElement(E.b,{path:"/profile/:id",component:ft}),u.a.createElement(E.b,{path:"/shelve/:id",component:Ra}),u.a.createElement(E.b,{component:ba})),u.a.createElement(Wt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Wa,Ba=a(31),qa=Object(M.a)((Wa={},Object(G.a)(Wa,"POST_SHELVE_PENDING",(function(e,t){return{pending:!0,error:!1}})),Object(G.a)(Wa,"POST_SHELVE_SUCCESS",(function(e,t){})),Object(G.a)(Wa,"POST_SHELVE_FAILURE",(function(e,t){return{pending:!1,error:!0}})),Wa),{pending:!1,error:!1}),Ka=Object(Ba.c)({books:me,signup:Te,login:$,review:Ze,shelve:qa,user:bt,upload:Qt}),Ya=(a(172),a(91)),za=Object(Ya.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),Xa=Object(Ba.d)(Ka,Object(Ba.a)(za));m.a.render(u.a.createElement(P.a,{store:Xa},u.a.createElement(Ha,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,a){e.exports=a.p+"static/media/1.f081dab0.jpg"},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){e.exports=a.p+"static/media/go_back.62137145.png"},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},94:function(e,t,a){e.exports=a(173)}},[[94,1,2]]]);
//# sourceMappingURL=main.fb6e2b7c.chunk.js.map