{"version":3,"sources":["components/HomeSection/HomeSection.js","reducer/login.js","components/Book/Book.js","components/BookList/BookList.js","components/HomeContent/HomeContent.js","reducer/books.js","route/Home.js","components/SocialLogin/SocialLogin.js","components/LoginForm/LoginForm.js","route/Login.js","components/SignUpForm/SignUpForm.js","reducer/signup.js","route/SignUp.js","components/UserEdit/UserEdit.js","reducer/review.js","components/ReviewModal/ReviewModal.js","components/ReviewModal/index.js","components/UserReview/UserReview.js","components/UserProfile/UserProfile.js","reducer/user.js","route/Profile.js","components/Rater/Rater.js","components/Review/Review.js","components/BookDetail/BookDetail.js","route/Detail.js","components/Footer/Footer.js","route/Search.js","route/Edit.js","reducer/upload.js","components/BookUpload/BookUpload.js","route/Upload.js","components/SearchBar/SearchBar.js","components/Header/Header.js","route/NoMatch.js","components/BookModal/Modal.js","components/BookShelve/BookShelve.js","components/Category/Category.js","components/CommunityContainer/CommunityContainer.js","route/Community.js","App.js","serviceWorker.js","reducer/shelve.js","reducer/index.js","store/configure.js","index.js","img/1.jpg","img/go_back.png"],"names":["cx","classname","bind","style","HomeSection","className","requestLogin","id","pw","axios","post","email","password","requestCheck","atk","create","headers","Authorization","requsetPostShelve","isbn","title","authors","type","thumbnail","requestLikeReview","uid","m_id","requestDeleteShelve","bid","check","payload","postShelve","postLike","handleActions","state","action","pending","error","profile","data","isLoggedIn","success","classnames","connect","login","dispatch","actions","props","from","useState","isOpen","setOpen","formatAuthors","format","forEach","ele","book","src","alt","url","undefined","split","to","isMe","window","location","pathname","handleChange","e","a","value","target","console","log","margin","onClick","handleEdit","defaultValue","onChange","editTags","BookList","this","booklist","map","key","v4","color","size","Component","HomeContent","requestpostBook","vote","name","requestgetBooks","query","page","api","parseInt","get","requestInfo","getBooks","books","documents","vote_pending","vote_error","vote_success","votes","total","Home","scrollTo","SocialLogin","LoginForm","handleSubmit","preventDefault","loginRequest","handleEmail","p","setState","handlePassword","onSubmit","placeholder","required","Login","saveATK","t","localStorage","setItem","handleLogin","response","status","token","href","login_error","login_pending","login_success","SignUpForm","p1","p2","handleSignUp","q","handlePassword1","handlePassword2","requestSignUp","SignUp","history","push","signup_error","signup","signup_pending","signup_success","UserEdit","submitEdit","seletedImg","nickname","website","interest","intro","formData","FormData","append","handleFile","files","handleNickName","val","handleWebSite","handleInterest","handleIntro","handleClose","role","aria-label","requestGetReview","requestPostReview","content","requestEditReview","rid","reviews","ReviewModal","checkUser","getItem","editReview","review","_id","userActions","reviewActions","UserReview","handleLike","currentTarget","getAttribute","handleDelete","me","getReview","mid","moment","createdAt","display","alignItems","marginTop","likes","data-value","getList","length","user","uploaded","UserProfile","idx","handleOpen","handleCancel","avatarUrl","im","marginLeft","want_read","reading","read","openEdit","URL","requestUser","requestTopReaders","requestTopReviewers","getUser","getTopReaders","getTopReviewers","readers","topReaders","reviewers","topReviewers","Profile","getProfile","substring","values","starStyle","cursor","Rater","handleOnClick","currentItem","nodeName","parentNode","rating","dataset","postVote","alert","hoveredRating","currentRating","data-rating","Review","getReviews","postReview","input","prevProps","item","reviewer","marginRight","reviewTag","loginActions","options","label","BookDetail","checkStatus","arr","filter","checkUserVote","cur","i","String","getStatus","selected","handleRadio","s","toFixed","getAvg","contents","isSearchable","Detail","avg_vote","getBook","getAvg_Reviews","Promise","all","match","params","Footer","form","height","width","text","padding","fontSize","Search","handleScroll","innerHeight","scrollHeight","document","body","scrollTop","documentElement","search","decodeURI","replace","keyword","handleAll","handleBook","handleAuthor","addEventListener","removeEventListener","paddingTop","fontWeight","checked","searchResult","Edit","requestUpload","BookUpload","author","submitData","handleAuthorChange","handleKeyPress","handleDeleteTag","previousSibling","innerHTML","newAuthors","handleTitle","handleContents","handleIsbn","postUpload","authorTag","onKeyDown","keyCode","upload","Upload","SearchBar","setKeyword","menu","showMenu","requestLogOut","Header","_isMounted","lastPos","pageYOffset","userLogOut","removeItem","clickMenu","currentScrollPos","querySelector","classList","remove","add","borderRadius","LinkContainer","textAlign","NoMatch","marginBottom","goBack","convertType","읽음","읽기","읽는중","Modal","setTo","shelveHeader","active","BookShelve","menu_ul","posY","getBoundingClientRect","top","contains","checkType","concat","sort","b","handleSettings","deleteShelve","handleClick","inactive","innerText","openModal","Category","path","info","handleType","data-role","border","reader","CommunityContainer","Community","substr","App","exact","component","Boolean","hostname","reducer","combineReducers","shelve","customizePromiseMiddleware","createPromise","promiseTypeSuffixes","store","createStore","applyMiddleware","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.e928f618.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./HomeSection.scss\";\nimport classname from \"classnames/bind\";\nconst cx = classname.bind(style);\nconst HomeSection = () => {\n  return (\n    <div className={cx(\"home-section\")}>\n      <div className={cx(\"words\")}>\n        <h3>With Happyness</h3>\n        <h4>책을 공유 하고 자신의 인생 책을 찾아보세요</h4>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeSection;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst USER_CHECK = \"USER_CHECK\";\nconst USER_CHECK_PENDING = \"USER_CHECK_PENDING\";\nconst USER_CHECK_SUCCESS = \"USER_CHECK_SUCCESS\";\nconst USER_CHECK_FAILURE = \"USER_CHECK_FAILURE\";\n\nconst LOGIN = \"LOGIN\";\nconst LOGIN_PENDING = \"LOGIN_PENDING\";\nconst LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nconst LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nconst LOGOUT = \"LOGOUT\";\nconst LOGOUT_PENDING = \"LOGOUT_PENDING\";\nconst LOGOUT_SUCCESS = \"LOGOUR_SUCCESS\";\nconst LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nconst POST_SHELVE = \"POST_SHELVE\";\nconst POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nconst POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nconst POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nconst LIKE_REVIEW = \"LIKE_REVIEW\";\nconst LIKE_REVIEW_PENDING = \"LIKE_REVIEW_PENDING\";\nconst LIKE_REVIEW_SUCCESS = \"LIKE_REVIEW_SUCCESS\";\nconst LIKE_REVIEW_FAILURE = \"LIKE_REVIEW_FAILURE\";\n\nconst DELETE_SHELVE = \"DELETE_SHELVE\";\nconst DELETE_SHELVE_PENDING = \"DELETE_SHELVE_PENDING\";\nconst DELETE_SHELVE_SUCCESS = \"DELETE_SHELVE_SUCCESS\";\nconst DELETE_SHELVE_FAILURE = \"DELETE_SHELVE_FAILURE\";\n\nconst requestLogin = (id, pw) => {\n  return axios.post(`http://localhost:8080/login`, {\n    email: id,\n    password: pw\n  });\n};\nconst requestLogout = () => {\n  return axios.post(`http://localhost:8080/logout`);\n};\nconst requestCheck = atk => {\n  const api = axios.create({\n    headers: {\n      Authorization: `${atk}`\n    }\n  });\n  return api.post(`http://localhost:8080/profile`);\n};\n\nconst requsetPostShelve = (email, isbn, title, authors, type, thumbnail) => {\n  return axios.post(`http://localhost:8080/shelve`, {\n    email,\n    isbn,\n    title,\n    authors,\n    type,\n    thumbnail\n  });\n};\nconst requestLikeReview = (type, id, uid, m_id) => {\n  return axios.post(`http://localhost:8080/review/like`, {\n    type,\n    id,\n    uid,\n    m_id\n  });\n};\nconst requestDeleteShelve = (uid, bid, type) => {\n  return axios.post(`http://localhost:8080/shelve/${bid}`, {\n    uid,\n    type\n  });\n};\nexport const check = atk => ({\n  type: USER_CHECK,\n  payload: requestCheck(atk)\n});\nexport const logout = () => ({\n  type: LOGOUT,\n  payload: requestLogout()\n});\nexport const login = (id, pw) => ({\n  type: LOGIN,\n  payload: requestLogin(id, pw)\n});\nexport const postShelve = (email, isbn, title, authors, type, thumbnail) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, isbn, title, authors, type, thumbnail)\n});\nexport const postLike = (type, id, uid, m_id) => ({\n  type: LIKE_REVIEW,\n  payload: requestLikeReview(type, id, uid, m_id)\n});\nexport const deleteShelve = (uid, bid, type) => ({\n  type: DELETE_SHELVE,\n  payload: requestDeleteShelve(uid, bid, type)\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  success: false,\n  profile: {},\n  isLoggedIn: false\n};\n\nexport default handleActions(\n  {\n    //LOGIN\n    [LOGIN_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [LOGIN_SUCCESS]: (state, action) => {\n      return {\n        profile: action.payload.data,\n        pending: false,\n        error: false,\n        isLoggedIn: true\n      };\n    },\n    [LOGIN_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        isLoggedIn: false\n      };\n    },\n    //USER_CHECK\n    [USER_CHECK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        isLoggedIn: false\n      };\n    },\n    [USER_CHECK_SUCCESS]: (state, action) => {\n      return {\n        pending: false,\n        error: false,\n        isLoggedIn: true,\n        profile: action.payload.data\n      };\n    },\n    [USER_CHECK_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n        isLoggedIn: false\n      };\n    },\n    //LOGOUT\n    [LOGOUT_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        isLoggedIn: false\n      };\n    },\n    [LOGOUT_SUCCESS]: (state, action) => {\n      return {\n        pending: false,\n        error: false,\n        isLoggedIn: false,\n        profile: {}\n      };\n    },\n    [LOGOUT_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    //POST_SHELVE\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        profile: data\n      };\n    },\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    ///LIKE_REVIEW\n    [LIKE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [LIKE_REVIEW_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        success: true,\n        profile: data\n      };\n    },\n    [LIKE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    [DELETE_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [DELETE_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        profile: data,\n        pending: false,\n        error: false\n      };\n    },\n    [DELETE_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    }\n  },\n  initialState\n);\n","import React, { useState, Fragment } from \"react\";\nimport style from \"./Book.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nconst cx = classnames.bind(style);\nconst Book = props => {\n  const {\n    from,\n    type,\n    profile: { profile },\n    postShelve\n  } = props;\n  const [isOpen, setOpen] = useState(false);\n  //useEffect(() => {}, [profile.reading, profile.want_read, profile.read]);\n  const formatAuthors = authors => {\n    let format = \"\";\n    authors.forEach(ele => {\n      format += ele;\n    });\n    return format;\n  };\n  if (from === \"home\") {\n    const { book } = props;\n    return (\n      <div className={cx(\"book\")}>\n        <img src={book.thumbnail} alt=\"book\" />\n        <p>{book.title}</p>\n      </div>\n    );\n  } else if (from === \"search\") {\n    const { book } = props;\n    const url =\n      book && book.isbn !== undefined ? book.isbn.split(\" \") : undefined;\n    return (\n      <li className={cx(\"ser-bg\")}>\n        <div className={cx(\"ser-book\")}>\n          <Link\n            to={\n              url !== undefined\n                ? url[0] !== \"\"\n                  ? `/book/${book.isbn.split(\" \")[0]}`\n                  : `/book/${book.isbn.split(\" \")[1]}`\n                : \"\"\n            }\n          >\n            <img src={book.thumbnail} alt=\"book\" />\n          </Link>\n        </div>\n        <div className={cx(\"ser-info\")}>\n          <Link\n            to={\n              url !== undefined\n                ? url[0] !== \"\"\n                  ? `/book/${book.isbn.split(\" \")[0]}`\n                  : `/book/${book.isbn.split(\" \")[1]}`\n                : \"\"\n            }\n          >\n            <h3 className={cx(\"ser-title\")}>{book.title}</h3>\n          </Link>\n          <p>\n            <span className={cx(\"ser-author\")}>\n              {formatAuthors(book.authors)}\n            </span>\n          </p>\n        </div>\n      </li>\n    );\n  } else if (from === \"profile\") {\n    const {\n      book: { book }\n    } = props;\n\n    const isMe = window.location.pathname === \"/me\";\n    const url =\n      book && book.isbn !== undefined ? book.isbn.split(\" \") : undefined;\n    const handleChange = async e => {\n      const {\n        target: { value }\n      } = e;\n      //서버에 수정 요청 전송 코드입력\n      try {\n        await postShelve(\n          profile.email,\n          book.isbn,\n          book.title,\n          book.authors,\n          value,\n          book.thumbnail\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const editTags = type => {\n      return (\n        <div className={cx(\"edit-form\")}>\n          <select defaultValue={type} onChange={handleChange}>\n            <option value={\"want_read\"}>읽을 책</option>\n            <option value={\"reading\"}>읽\b고 있음</option>\n            <option value={\"read\"}>읽음</option>\n          </select>\n        </div>\n      );\n    };\n    const handleDelete = () => {\n      console.log(\"Delete\");\n    };\n    const handleEdit = (isOpen, setOpen) => {\n      setOpen(!isOpen);\n    };\n    return (\n      <div className={cx(\"shelve\")} style={{ margin: \"10px\" }}>\n        <Link\n          to={\n            url !== undefined\n              ? url[0] !== \"\"\n                ? `/book/${book.isbn.split(\" \")[0]}`\n                : `/book/${book.isbn.split(\" \")[1]}`\n              : \"\"\n          }\n        >\n          <span className={cx(\"title\")}>{book.title}</span>\n          <span className={cx(\"authors\")}>\n            지은이: {book.authors ? formatAuthors(book.authors) : \"\"}\n          </span>\n        </Link>\n        {isMe ? (\n          <div className={cx(\"setting-btns\")}>\n            <div className={cx(\"edit-container\")}>\n              <span\n                className={cx(\"edit\")}\n                onClick={() => handleEdit(isOpen, setOpen)}\n              >\n                <FaEdit />\n              </span>\n              {isOpen ? editTags(type) : <Fragment />}\n            </div>\n            <div>\n              <span className={cx(\"delete\")} onClick={() => handleDelete()}>\n                <FaTrash />\n              </span>\n            </div>\n          </div>\n        ) : (\n          <Fragment />\n        )}\n      </div>\n    );\n  }\n};\nconst mapStateToProps = state => {\n  return {\n    profile: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    postShelve: (email, isbn, title, authors, type, thumbnail) =>\n      dispatch(actions.postShelve(email, isbn, title, authors, type, thumbnail))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React, { Component } from \"react\";\nimport style from \"./BookList.scss\";\nimport classnames from \"classnames/bind\";\nimport Book from \"../Book/Book\";\nimport { Link } from \"react-router-dom\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport { v4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nconst cx = classnames.bind(style);\nclass BookList extends Component {\n  render() {\n    const { from, booklist, type } = this.props;\n    if (from === \"home\") {\n      return (\n        <div className={cx(\"book-list\")}>\n          {booklist ? (\n            booklist.map(book => {\n              const url = book.isbn.split(\" \");\n              return (\n                <Link\n                  to={\n                    url[0] !== \"\"\n                      ? `/book/${book.isbn.split(\" \")[0]}`\n                      : `/book/${book.isbn.split(\" \")[1]}`\n                  }\n                  key={v4()}\n                >\n                  <Book book={book} from={from} />\n                </Link>\n              );\n            })\n          ) : (\n            <ChasingDots color=\"white\" size={60} />\n          )}\n        </div>\n      );\n    } else if (from === \"search\") {\n      return (\n        <div>\n          <ul className={cx(\"ser-ul\")}>\n            {booklist.map(book => {\n              return <Book book={book} from={from} key={v4()} />;\n            })}\n          </ul>\n        </div>\n      );\n    } else if (from === \"profile\") {\n      //const [bookState,setBookState] = useState(booklist);\n      return (\n        <div>\n          <ul>\n            {booklist.map(book => {\n              return <Book book={book} from={from} key={v4()} type={type} />;\n            })}\n          </ul>\n        </div>\n      );\n    }\n  }\n}\n\nexport default connect(null, null)(BookList);\n","import React from \"react\";\nimport style from \"./HomeContent.scss\";\nimport classnames from \"classnames/bind\";\nimport BookList from \"../BookList\";\nconst cx = classnames.bind(style);\nconst HomeContent = ({ booklist }) => {\n  return (\n    <div className={cx(\"home-content\")}>\n      <div className={cx(\"books-wrapper\")}>\n        <BookList booklist={booklist} from={\"home\"} />\n      </div>\n    </div>\n  );\n};\n\nexport default HomeContent;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst GET_BOOKS = \"GET_BOOKS\";\nconst GET_BOOKS_PENGIND = \"GET_BOOKS_PENDING\";\nconst GET_BOOKS_SUCCESS = \"GET_BOOKS_SUCCESS\";\nconst GET_BOOKS_FAILURE = \"GET_BOOKS_FAILURE\";\n\nconst GET_SEARCH_BOOKS = \"GET_SEARCH_BOOKS\"; //검색 요청\nconst GET_SEARCH_BOOKS_PENGIND = \"GET_SEARCH_BOOKS_PENDING\";\nconst GET_SEARCH_BOOKS_SUCCESS = \"GET_SEARCH_BOOKS_SUCCESS\";\nconst GET_SEARCH_BOOKS_FAILURE = \"GET_SEARCH_BOOKS_FAILURE\";\n\nconst POST_BOOK = \"POST_BOOK\";\nconst POST_BOOK_PENDING = \"POST_BOOK_PENDING\";\nconst POST_BOOK_SUCCESS = \"POST_BOOK_SUCCESS\";\nconst POST_BOOK_FAILURE = \"POST_BOOK_FAILURE\";\n\nconst GET_VOTE_REVIEW = \"GET_VOTE_REVIEW\";\nconst GET_VOTE_REVIEW_PENDING = \"GET_VOTE_REVIEW_PENDING\";\nconst GET_VOTE_REVIEW_SUCCESS = \"GET_VOTE_REVIEW_SUCCESS\";\nconst GET_VOTE_REVIEW_FAILURE = \"GET_VOTE_REVIEW_FAILURE\";\n\nconst GET_DETAIL = \"GET_DETAIL\";\nconst GET_DETAIL_PENDING = \"GET_DETAIL_PENDING\";\nconst GET_DETAIL_SUCCESS = \"GET_DETAIL_SUCCESS\";\nconst GET_DETAIL_FAILURE = \"GET_DETAIL_FAILURE\";\n\nconst requestAllBooks = () => {\n  return axios.get(`http://localhost:8080/books`);\n};\n\nconst requestpostBook = (title, authors, vote, isbn, name, thumbnail) => {\n  return axios.post(`http://localhost:8080/book/${isbn}`, {\n    title,\n    authors,\n    vote,\n    isbn,\n    name,\n    thumbnail\n  });\n};\n\nconst requestgetBooks = (query, type, page) => {\n  const api = axios.create({\n    headers: {\n      Authorization: `KakaoAK ${\"dcf8990c616ed7f54a7a2fe1ab632c0b\"}`\n    }\n  });\n  if (parseInt(type) === 0)\n    return api.get(\n      `https://dapi.kakao.com/v3/search/book?query=${query}&page=${page}`\n    );\n  else if (type === 1)\n    return api.get(\n      `https://dapi.kakao.com/v3/search/book?target=title&query=${query}&page=${page}`\n    );\n  else if (parseInt(type) === 2)\n    return api.get(\n      `https://dapi.kakao.com/v3/search/book?target=person&query=${query}&page=${page}`\n    );\n  else if (parseInt(type) === 3) {\n    return api.get(\n      `https://dapi.kakao.com/v3/search/book?target=isbn&query=${query}`\n    );\n  }\n};\n\nconst requestInfo = isbn => {\n  return axios.get(`http://localhost:8080/book/${isbn}`);\n};\n\nexport const getAllBooks = () => ({\n  type: GET_BOOKS,\n  payload: requestAllBooks()\n});\n\nexport const postBook = (title, authors, vote, isbn, name, thumbnail) => ({\n  type: POST_BOOK,\n  payload: requestpostBook(title, authors, vote, isbn, name, thumbnail)\n});\n\nexport const getBooks = (query = \" \", type = 0, page = 1) => ({\n  type: GET_SEARCH_BOOKS,\n  payload: requestgetBooks(query, type, page)\n});\nexport const getDetail = query => ({\n  type: GET_DETAIL,\n  payload: requestgetBooks(query, 3, 1)\n});\nexport const getInfo = isbn => ({\n  //getVote\n  type: GET_VOTE_REVIEW,\n  payload: requestInfo(isbn)\n});\n\nconst initialState = {\n  pending: false,\n  error: false,\n  books: [],\n  total: 0,\n  vote_pending: false,\n  vote_error: false,\n  vote_success: false,\n  votes: []\n};\n\nexport default handleActions(\n  {\n    [GET_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_BOOKS_SUCCESS]: (state, action) => {\n      //console.log(action.payload);\n      const { data } = action.payload;\n      return {\n        pending: false,\n        error: false,\n        books: data.books\n      };\n    },\n    [GET_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    [GET_SEARCH_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_SEARCH_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { documents }\n      } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        books: [...state.books, ...documents]\n      };\n    },\n    [GET_SEARCH_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    [POST_BOOK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: true,\n        vote_error: false,\n        vote_success: false\n      };\n    },\n    [POST_BOOK_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: false,\n        vote_success: true\n      };\n    },\n    [POST_BOOK_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: true,\n        vote_success: false\n      };\n    },\n    [GET_VOTE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state\n      };\n    },\n    [GET_VOTE_REVIEW_SUCCESS]: (state, action) => {\n      const {\n        data: { votes }\n      } = action.payload;\n      console.log(action.payload);\n      return {\n        ...state,\n        votes\n      };\n    },\n    [GET_VOTE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        votes: []\n      };\n    },\n    [GET_DETAIL_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_DETAIL_SUCCESS]: (state, action) => {\n      const {\n        data: { documents }\n      } = action.payload;\n      return {\n        pending: true,\n        error: false,\n        books: documents\n      };\n    },\n    [GET_DETAIL_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    }\n  },\n  initialState\n);\n","import React, { Component, Fragment } from \"react\";\nimport HomeSection from \"../components/HomeSection\";\nimport HomeContent from \"../components/HomeContent\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport { connect } from \"react-redux\";\n\nimport * as actions from \"../reducer/books\";\nclass Home extends Component {\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.getBooks();\n  }\n  getBooks = async () => {\n    try {\n      await this.props.getBooks();\n      //console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const { books, pending } = this.props;\n    return (\n      <Fragment>\n        <HomeSection />\n        <main className=\"mainContainer\">\n          {pending ? (\n            <ChasingDots color=\"white\" size={60} />\n          ) : (\n            <HomeContent booklist={books} />\n          )}\n        </main>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    pending: state.books.pending,\n    error: state.books.error,\n    books: state.books.books\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getBooks: () => dispatch(actions.getAllBooks())\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { Component } from \"react\";\nimport { FaFacebookSquare, FaGithubSquare } from \"react-icons/fa\";\n\nimport style from \"./SocialLogin.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nclass SocialLogin extends Component {\n  render() {\n    const { type } = this.props;\n    return (\n      <div className={cx(\"social-login\")}>\n        <h2>\n          {type === \"login\" ? \"Login to HappReads\" : \"Sign up for HappReads\"}\n        </h2>\n        <button className={cx(\"facebook\", \"button\")}>\n          <span className={cx(\"icon\")}>\n            <FaFacebookSquare />\n          </span>\n          Continue with Facebook\n        </button>\n        <button className={cx(\"github\", \"button\")}>\n          <span className={cx(\"icon\")}>\n            <FaGithubSquare />\n          </span>\n          Continue with Github\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default SocialLogin;\n","import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport style from \"./LoginForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nclass LoginForm extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    const { loginRequest } = this.props;\n    loginRequest(email, password);\n  };\n  handleEmail = p => {\n    this.setState({\n      email: p\n    });\n  };\n  handlePassword = p => {\n    this.setState({\n      password: p\n    });\n  };\n  render() {\n    const { email, password } = this.state;\n    return (\n      <Fragment>\n        <div className={cx(\"login-form\", \"form-container\")}>\n          <SocialLogin type=\"login\" />\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={e => this.handleEmail(e.target.value)}\n              placeholder=\"Email\"\n              required\n            />\n            <input\n              type=\"password\"\n              value={password}\n              onChange={e => this.handlePassword(e.target.value)}\n              placeholder=\"Password\"\n              required\n            />\n            <input type=\"submit\" value=\"Login\" />\n          </form>\n          <Link to=\"/signup\">\n            <button>SignUp</button>\n          </Link>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component, Fragment } from \"react\";\nimport LoginForm from \"../components/LoginForm\";\n//import Header from \"../components/Header\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../reducer/login\";\nimport { Redirect } from \"react-router\";\nclass Login extends Component {\n  saveATK = t => {\n    localStorage.setItem(\"atk\", t);\n  };\n  handleLogin = async (email, password) => {\n    const { loginRequest } = this.props;\n    try {\n      const response = await loginRequest(email, password);\n      const {\n        value: { data, status }\n      } = response;\n      if (status === 200) {\n        this.saveATK(data.token);\n        window.location.href = \"/\";\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const { isLoggedIn } = this.props;\n    if (isLoggedIn === true) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Fragment>\n        <LoginForm loginRequest={this.handleLogin} />\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    login_error: state.login.error,\n    login_pending: state.login.pending,\n    login_success: state.login.success,\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginRequest: (email, password) => dispatch(actions.login(email, password))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { Component, Fragment } from \"react\";\nimport style from \"./SignUpForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nclass SignUpForm extends Component {\n  state = {\n    email: \"\",\n    p1: \"\",\n    p2: \"\"\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { email, p1, p2 } = this.state;\n    const { handleSignUp } = this.props;\n    if (p1 === p2) {\n      handleSignUp(email, p1);\n    }\n  };\n\n  handleEmail = q => {\n    this.setState({\n      email: q\n    });\n  };\n  handlePassword1 = q => {\n    this.setState({\n      p1: q\n    });\n  };\n  handlePassword2 = q => {\n    this.setState({\n      p2: q\n    });\n  };\n  render() {\n    const { email, p1, p2 } = this.state;\n    return (\n      <Fragment>\n        <div className={cx(\"signup-form\", \"form-container\")}>\n          <SocialLogin type=\"signup\" />\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={e => this.handleEmail(e.target.value)}\n              placeholder=\"Email\"\n              required\n            />\n            <input\n              type=\"password\"\n              value={p1}\n              onChange={e => this.handlePassword1(e.target.value)}\n              placeholder=\"Password\"\n              required\n            />\n            <input\n              type=\"password\"\n              value={p2}\n              onChange={e => this.handlePassword2(e.target.value)}\n              placeholder=\"Password Verify\"\n              required\n            />\n            <input type=\"submit\" value=\"SignUp\" />\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SignUpForm;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nconst SIGNUP = \"SIGNUP\";\nconst SIGNUP_PENDING = \"SIGNUP_PENDING\";\nconst SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nconst SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\n\nconst requestSignUp = (email, password) => {\n  return axios.post(\"http://localhost:8080/signup\", {\n    email: email,\n    password: password\n  });\n};\nexport const userSignup = (email, password) => ({\n  type: SIGNUP,\n  payload: requestSignUp(email, password)\n});\nconst initialState = {\n  error: false,\n  pending: false,\n  success: false\n};\nexport default handleActions(\n  {\n    [SIGNUP_PENDING]: (state, action) => {\n      return {\n        pending: true,\n        error: false,\n        success: false\n      };\n    },\n    [SIGNUP_SUCCESS]: (state, action) => {\n      return {\n        pending: false,\n        error: false,\n        success: true\n      };\n    },\n    [SIGNUP_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n        success: false\n      };\n    }\n  },\n  initialState\n);\n","import React, { Component, Fragment } from \"react\";\n//import Header from \"../components/Header\";\nimport SignUpForm from \"../components/SignUpForm\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../reducer/signup\";\nimport { Redirect } from \"react-router\";\nclass SignUp extends Component {\n  handleSignUp = async (email, p) => {\n    const { requestSignUp } = this.props;\n    const res = await requestSignUp(email, p);\n    if (res.value.status === 200) {\n      this.props.history.push(\"/login\");\n    }\n  };\n  render() {\n    const { history, isLoggedIn } = this.props;\n    if (isLoggedIn) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Fragment>\n        <SignUpForm history={history} handleSignUp={this.handleSignUp} />\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    signup_error: state.signup.error,\n    signup_pending: state.signup.pending,\n    signup_success: state.signup.success,\n    isLoggedIn: state.login.isLoggedIn\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    requestSignUp: (email, password) =>\n      dispatch(actions.userSignup(email, password))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n","import React, { Component } from \"react\";\nimport style from \"./UserEdit.scss\";\nimport classnames from \"classnames/bind\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst cx = classnames.bind(style);\nclass UserEdit extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      profile: { profile }\n    } = this.props;\n    this.state = {\n      seletedImg: null,\n      nickname: profile ? profile.name : \"\",\n      website: profile ? profile.website : \"\",\n      intro: profile ? profile.intro : \"\",\n      interest: profile ? profile.interest : \"\"\n    };\n  }\n\n  submitEdit = async () => {\n    const {\n      seletedImg,\n      email,\n      nickname,\n      website,\n      interest,\n      intro\n    } = this.state;\n    const {\n      profile: { profile }\n    } = this.props;\n    const formData = new FormData();\n    formData.append(\"avatar\", seletedImg);\n    formData.append(\"email\", profile.email);\n    formData.append(\"nickname\", nickname);\n    formData.append(\"website\", website);\n    formData.append(\"interest\", interest);\n    formData.append(\"intro\", intro);\n    try {\n      await axios.post(`http://localhost:8080/edit`, formData);\n      window.location.href = \"/me\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.submitEdit();\n    //form data post 요청 진행\n  };\n  handleFile = e => {\n    this.setState({\n      seletedImg: e.target.files[0]\n    });\n  };\n  handleNickName = val => {\n    this.setState({\n      nickname: val\n    });\n  };\n  handleWebSite = val => {\n    this.setState({\n      website: val\n    });\n  };\n  handleInterest = val => {\n    this.setState({\n      interest: val\n    });\n  };\n  handleIntro = val => {\n    this.setState({\n      intro: val\n    });\n  };\n  render() {\n    const { nickname, website, intro, interest } = this.state;\n    const { handleClose, isOpen } = this.props;\n    return (\n      <div className={cx(\"user-edit\", isOpen ? \"close\" : \"open\")}>\n        <div className={cx(\"x-button\")}>\n          <p onClick={handleClose}>\n            <span role=\"img\" aria-label=\"close\">\n              ❌\n            </span>\n          </p>\n        </div>\n        <div className={cx(\"form-container\")}>\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"file\"\n              name=\"avatar\"\n              onChange={e => this.handleFile(e)}\n            />\n            <input\n              type=\"text\"\n              name=\"nickname\"\n              value={nickname}\n              onChange={e => this.handleNickName(e.target.value)}\n            />\n            <input\n              type=\"email\"\n              name=\"website\"\n              placeholder=\"웹 사이트 ex) http://www.example.com\"\n              value={website}\n              onChange={e => this.handleWebSite(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              name=\"interest\"\n              placeholder=\"취미\"\n              value={interest}\n              onChange={e => this.handleInterest(e.target.value)}\n            />\n            <textarea\n              name=\"intro\"\n              placeholder=\"소개\"\n              value={intro}\n              onChange={e => this.handleIntro(e.target.value)}\n            />\n            <input type=\"submit\" value=\"수정\" />\n          </form>\n          <button onClick={handleClose}>취소</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserEdit;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst GET_REVIEWS = \"GET_REVIEWS\";\nconst GET_REVIEWS_PENDING = \"GET_REVIEWS_PENDING\";\nconst GET_REVIEWS_SUCCESS = \"GET_REVIEWS_SUCCESS\";\nconst GET_REVIEWS_FAILURE = \"GET_REVIEWS_FAILURE\";\n\nconst GET_REVIEW = \"GET_REVIEW\";\nconst GET_REVIEW_PENDING = \"GET_REVIEW_PENDING\";\nconst GET_REVIEW_SUCCESS = \"GET_REVIEW_SUCCESS\";\nconst GET_REVIEW_FAILURE = \"GET_REVIEW_FAILURE\";\n\nconst POST_REVIEW = \"POST_REVIEW\";\nconst POST_REVIEW_PENDING = \"POST_REVIEW_PENDING\";\nconst POST_REVIEW_SUCCESS = \"POST_REVIEW_SUCCESS\";\nconst POST_REVIEW_FAILURE = \"POST_REVIEW_FAILURE\";\n\nconst DELETE_REVIEW = \"DELETE_REVIEW\";\nconst DELETE_REVIEW_PENDING = \"DELETE_REVIEW_PENDING\";\nconst DELETE_REVIEW_SUCCESS = \"DELETE_REVIEW_SUCCESS\";\nconst DELETE_REVIEW_FAILURE = \"DELETE_REVIEW_FAILURE\";\n\nconst EDIT_REVIEW = \"EDIT_REVIEW\";\nconst EDIT_REVIEW_PENDING = \"EDIT_REVIEW_PENDING\";\nconst EDIT_REVIEW_SUCCESS = \"EDIT_REVIEW_SUCCESS\";\nconst EDIT_REVIEW_FAILURE = \"EDIT_REVIEW_FAILURE\";\nconst requestGetReviews = () => {\n  return axios.get(`http://localhost:8080/reviews`);\n};\nconst requestGetReview = isbn => {\n  return axios.get(`http://localhost:8080/book/${isbn}/review`);\n};\nconst requestPostReview = (isbn, name, content, book) => {\n  //console.log(isbn, name, content);\n  return axios.post(`http://localhost:8080/book/${isbn}/review`, {\n    name,\n    isbn,\n    content,\n    book\n  });\n};\nconst requestDeleteReview = (uid, isbn, rid, from) => {\n  return axios.post(`http://localhost:8080/book/${isbn}/review/${rid}`, {\n    uid,\n    from\n  });\n};\nconst requestEditReview = (rid, content) => {\n  return axios.post(`http://localhost:8080/book/review/${rid}`, {\n    content\n  });\n};\n\nexport const getReviews = () => ({\n  type: GET_REVIEWS,\n  payload: requestGetReviews()\n});\nexport const getReview = isbn => ({\n  type: GET_REVIEW,\n  payload: requestGetReview(isbn)\n});\nexport const postReview = (isbn, name, content, book) => ({\n  type: POST_REVIEW,\n  payload: requestPostReview(isbn, name, content, book)\n});\nexport const deleteReview = (uid, isbn, rid, from) => ({\n  type: DELETE_REVIEW,\n  payload: requestDeleteReview(uid, isbn, rid, from)\n});\nexport const editReview = (rid, content) => ({\n  type: EDIT_REVIEW,\n  payload: requestEditReview(rid, content)\n});\nconst initialState = {\n  reviews: [],\n  pending: false,\n  error: false,\n  success: false\n};\nexport default handleActions(\n  {\n    [GET_REVIEWS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false\n      };\n    },\n    [GET_REVIEWS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviews }\n      } = action.payload;\n      return {\n        reviews: reviews,\n        pending: false,\n        error: false,\n        success: true\n      };\n    },\n    [GET_REVIEWS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false\n      };\n    },\n    [POST_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        error: false,\n        pending: true,\n        success: false\n      };\n    },\n    [POST_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        error: false,\n        pending: false,\n        success: true\n      };\n    },\n    [POST_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        error: true,\n        pending: false,\n        success: false\n      };\n    },\n    [GET_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        error: false,\n        pending: true,\n        success: false\n      };\n    },\n    [GET_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        error: false,\n        pending: false,\n        success: true\n      };\n    },\n    [GET_REVIEW_FAILURE]: (state, action) => {\n      return {\n        error: true,\n        pending: false,\n        success: false\n      };\n    },\n    [DELETE_REVIEW_PENDING]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        pending: true,\n        error: false,\n        success: false\n      };\n    },\n    [DELETE_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        pending: true,\n        error: false,\n        success: false\n      };\n    },\n    [DELETE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false\n      };\n    },\n    [EDIT_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false\n      };\n    },\n    [EDIT_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        pending: false,\n        error: false,\n        success: true\n      };\n    },\n    [EDIT_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false\n      };\n    }\n  },\n  initialState\n);\n","import React, { Component } from \"react\";\nimport classname from \"classnames/bind\";\nimport style from \"./ReviewModal.scss\";\nimport { connect } from \"react-redux\";\nimport * as userActions from \"../../reducer/login\";\nimport * as reviewActions from \"../../reducer/review\";\n\nconst cx = classname.bind(style);\nclass ReviewModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: props.review.content\n    };\n  }\n  checkUser = async () => {\n    const atk = localStorage.getItem(\"atk\");\n    const { checkUser } = this.props;\n    if (atk) {\n      try {\n        await checkUser(atk);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  editReview = async (rid, content) => {\n    const { editReview, handleClose } = this.props;\n    try {\n      const {\n        value: { status }\n      } = await editReview(rid, content);\n      if (status === 200) {\n        this.checkUser();\n        handleClose();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { content } = this.state;\n    const {\n      review: { _id: rid },\n      profile\n    } = this.props;\n    if (profile !== {}) {\n      this.editReview(rid, content);\n    }\n  };\n  handleChange = e => {\n    this.setState({\n      content: e.target.value\n    });\n  };\n  render() {\n    const { review, handleClose } = this.props;\n    const { content } = this.state;\n    return (\n      <div className={cx([\"review-modal\", \"modal-container\"])}>\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className={cx(\"form-container\")}>\n              <img\n                src={review.book !== undefined ? review.book.thumbnail : \"\"}\n                alt={review.book !== undefined ? review.book.title : \"\"}\n              />\n              <form onSubmit={this.handleSubmit}>\n                <textarea value={content} onChange={this.handleChange}>\n                  {content}\n                </textarea>\n                <input type=\"submit\" value=\"수정\" />\n                <button className={cx(\"cancel\")} onClick={handleClose}>\n                  취소\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    profile: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkUser: atk => dispatch(userActions.check(atk)), //유저 로그인 상태 체크\n    editReview: (rid, content) =>\n      dispatch(reviewActions.editReview(rid, content))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviewModal);\n","import ReviewModal from \"./ReviewModal\";\n\nexport default ReviewModal;\n","import React, { Component, Fragment } from \"react\";\nimport style from \"./UserReview.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nimport { FaHeart, FaTrash, FaEdit } from \"react-icons/fa\";\nimport ReviewModal from \"../ReviewModal\";\nconst cx = classnames.bind(style);\nclass UserReview extends Component {\n  state = {\n    review: null,\n    isOpen: false\n  };\n  handleLike = e => {\n    const { currentTarget } = e;\n    const id = currentTarget.getAttribute(\"data-value\");\n    this.postLike(\"like\", id);\n  };\n  handleEdit = (currentTarget, review) => {\n    console.log(currentTarget.getAttribute(\"data-value\"));\n    this.setState({\n      isOpen: true,\n      review\n    });\n  };\n  handleClose = () => {\n    this.setState({\n      isOpen: false,\n      review: null\n    });\n  };\n  handleDelete = e => {\n    const { currentTarget } = e;\n    const bid = currentTarget.getAttribute(\"data-value\");\n    console.log(bid);\n  };\n  postLike = async (type, id) => {\n    const { me, postLike, profile } = this.props;\n    try {\n      await postLike(type, id, profile._id, me.profile._id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getReview = (review, handleLike, handleDelete, handleEdit, mid, uid) => {\n    console.log(mid, uid);\n    return (\n      <Fragment>\n        <div\n          className={cx(\"review-container\")}\n          id={review._id}\n          key={review._id}\n        >\n          <div>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n          </div>\n          <div>\n            <div>\n              <p className={cx(\"review-book\")}>\n                {review.book !== undefined ? review.book.title : \"\"}\n              </p>\n              <p className={cx(\"review-text\")}>\n                {review.book !== undefined ? review.content : \"\"}\n              </p>\n              <p className={cx(\"review-date\")}>\n                {moment(review.createdAt).format(\"YYYY년 MM월 DD일 HH:MM:SS\")}\n              </p>\n              <p\n                className={cx(\"like-container\")}\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  marginTop: \"5px\"\n                }}\n              >\n                <span className={cx(\"review-like\")}>{review.likes} likes</span>\n                <span> · </span>\n                <span\n                  className={cx(\"likebtn\")}\n                  onClick={handleLike}\n                  data-value={review._id}\n                >\n                  <FaHeart />\n                </span>\n              </p>\n            </div>\n          </div>\n          {uid === mid ? (\n            <>\n              <span\n                className={cx(\"review-edit\")}\n                data-value={review._id}\n                onClick={e => handleEdit(e.currentTarget, review)}\n              >\n                <FaEdit />\n              </span>\n              <span\n                className={cx(\"review-remove\")}\n                data-value={review._id}\n                onClick={handleDelete}\n              >\n                <FaTrash />\n              </span>\n            </>\n          ) : (\n            <></>\n          )}\n        </div>\n      </Fragment>\n    );\n  };\n  render() {\n    const {\n      profile: { _id, reviews },\n      me\n    } = this.props;\n    const { isOpen, review } = this.state;\n    return (\n      <div className={cx(\"user-review\")}>\n        {reviews.map(review => {\n          return this.getReview(\n            review,\n            this.handleLike,\n            this.handleDelete,\n            this.handleEdit,\n            me.profile._id,\n            _id\n          );\n        })}\n        {isOpen && (\n          <ReviewModal review={review} handleClose={this.handleClose} />\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    me: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    postLike: (type, id, uid) => dispatch(actions.postLike(type, id, uid))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserReview);\n","import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n//import { FaPlusCircle } from \"react-icons/fa\";\nimport BookList from \"../BookList\";\nimport style from \"./UserProfile.scss\";\nimport classnames from \"classnames/bind\";\nimport im from \"../../img/1.jpg\";\nimport UserEdit from \"../UserEdit\";\nimport UserReview from \"../UserReview/UserReview\";\n\nconst cx = classnames.bind(style);\nconst openEdit = (isOpen, handleClose, profile) => {\n  return (\n    <Fragment>\n      <div\n        className={cx(\"modal-overay\", isOpen ? \"open-modal\" : \"close-modal\")}\n      />\n      <div className={cx(isOpen ? \"open-modal\" : \"close-modal\")}>\n        <UserEdit\n          handleClose={handleClose}\n          profile={profile}\n          isOpen={!isOpen}\n        />\n      </div>\n    </Fragment>\n  );\n};\nconst getList = (from, profile, type) => {\n  if (type !== \"uploaded\") {\n    return from === \"/me\" ? (\n      profile && profile.profile && profile.profile[type].length > 0 ? (\n        <div>\n          <BookList\n            booklist={profile.profile[type]}\n            from=\"profile\"\n            type={type}\n          />\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      )\n    ) : profile && profile.user && profile.user[type].length > 0 ? (\n      <div>\n        <BookList booklist={profile.user[type]} from=\"profile\" />\n      </div>\n    ) : (\n      <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n    );\n  } else {\n    return from === \"/me\" ? (\n      profile && profile.profile && profile.profile.uploaded.length > 0 ? (\n        <div className={cx(\"uploaded-list\")}>\n          {profile.profile.uploaded.map(book => {\n            return (\n              <div className={cx(\"uploaded-img-wrapper\")} key={book._id}>\n                <img\n                  className={cx(\"uploaded-img\")}\n                  src={book.thumbnail}\n                  alt={book.thumbnail}\n                />\n                <div className={cx(\"to-detail\")}>\n                  <Link to={`/book/${book.isbn}`}>{book.title}</Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      )\n    ) : profile && profile.user && profile.user.uploaded.length > 0 ? (\n      <div className={cx(\"uploaded-list\")}>\n        {profile.user.uploaded.map(book => {\n          return (\n            <div className={cx(\"uploaded-img-wrapper\")} key={book._id}>\n              <img\n                className={cx(\"uploaded-img\")}\n                src={book.thumbnail}\n                alt={book.thumbnail}\n              />\n              <div className={cx(\"to-detail\")}>\n                <Link to={`/book/${book.isbn}`}>상세 페이지</Link>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    ) : (\n      <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n    );\n  }\n};\nclass UserProfile extends Component {\n  state = {\n    isOpen: false,\n    idx: 0\n  };\n  handleOpen = () => {\n    this.setState({\n      isOpen: true\n    });\n  };\n  handleCancel = () => {\n    this.setState({\n      isOpen: false\n    });\n  };\n  render() {\n    const { profile, from } = this.props;\n    const { isOpen, idx } = this.state;\n    return (\n      <Fragment>\n        <div className={cx(\"user-profile\")}>\n          <div className={cx(\"profile-wrapper\")}>\n            <div className={cx(\"info\")}>\n              <img\n                src={\n                  from === \"/me\"\n                    ? profile && profile.profile !== undefined\n                      ? profile.profile.avatarUrl\n                      : \"\"\n                    : profile && profile.user !== undefined\n                    ? profile.user.avatarUrl\n                    : \"\"\n                }\n                alt={im}\n              />\n              <h1>\n                {from === \"/me\"\n                  ? profile && profile.profile !== undefined\n                    ? profile.profile.email\n                    : \"\"\n                  : profile && profile.user !== undefined\n                  ? profile.user.email\n                  : \"\"}\n              </h1>\n              <div className={cx(\"profile-edit\")}>\n                {from === \"/me\" ? (\n                  <p to={\"/edit\"} onClick={this.handleOpen}>\n                    프로필 수정\n                  </p>\n                ) : (\n                  <div></div>\n                )}\n              </div>\n              <div className={cx(\"rate-review\")}>\n                <p>\n                  {from === \"/me\"\n                    ? profile && profile.profile !== undefined\n                      ? profile.profile.votes.length\n                      : 0\n                    : profile && profile.user !== undefined\n                    ? profile.user.votes.length\n                    : 0}{\" \"}\n                  평가\n                </p>\n                <p>\n                  {from === \"/me\"\n                    ? profile && profile.profile !== undefined\n                      ? profile.profile.reviews.length\n                      : 0\n                    : profile && profile.user !== undefined\n                    ? profile.user.reviews.length\n                    : 0}{\" \"}\n                  리뷰\n                </p>\n              </div>\n              <p className={cx(\"intro\")}>\n                {from === \"/me\"\n                  ? profile && profile.profile !== undefined\n                    ? profile.profile.intro\n                    : 0\n                  : profile && profile.user !== undefined\n                  ? profile.user.intro\n                  : 0}\n              </p>\n            </div>\n          </div>\n          <div>\n            <ul className={cx(\"catalog-list\")}>\n              <li\n                className={idx === 0 ? cx(\"active\") : \"\"}\n                onClick={() => this.setState({ idx: 0 })}\n              >\n                책\n              </li>\n              <li\n                className={idx === 1 ? cx(\"active\") : \"\"}\n                onClick={() => this.setState({ idx: 1 })}\n              >\n                리뷰\n              </li>\n            </ul>\n            <div style={idx === 0 ? { display: \"block\" } : { display: \"none\" }}>\n              <div className={cx(\"uploaded\")}>\n                <div className={cx(\"uploaded-head\")}>\n                  <Link\n                    to={\n                      from === \"/me\"\n                        ? profile && profile.profile !== undefined\n                          ? `shelve/${profile.profile._id}`\n                          : `/`\n                        : profile && profile.user !== undefined\n                        ? `shelve/${profile.user._id}`\n                        : `/  `\n                    }\n                  >\n                    <h2>업로드 한 책</h2>\n                  </Link>\n                </div>\n                <div\n                  className={cx(\"uploaded-body\")}\n                  style={{ marginLeft: \"5px\", marginTop: \"5px\" }}\n                >\n                  {getList(from, profile, \"uploaded\")}\n                </div>\n              </div>\n              <div className={cx(\"want-read\")}>\n                <div className={cx(\"want-read-head\")}>\n                  <h2>\n                    읽을 책 (\n                    {from === \"/me\"\n                      ? profile && profile.profile !== undefined\n                        ? profile.profile.want_read.length\n                        : 0\n                      : profile && profile.user !== undefined\n                      ? profile.user.want_read.length\n                      : 0}\n                    )\n                  </h2>\n                </div>\n                <div className={cx(\"want-read-body\")}>\n                  {getList(from, profile, \"want_read\")}\n                </div>\n                <div></div>\n              </div>\n              <div className={cx(\"currently-reading\")}>\n                <div className={cx(\"currently-head\")}>\n                  <h2>\n                    현재 읽고 있는 책 (\n                    {from === \"/me\"\n                      ? profile && profile.profile !== undefined\n                        ? profile.profile.reading.length\n                        : 0\n                      : profile && profile.user !== undefined\n                      ? profile.user.reading.length\n                      : 0}\n                    )\n                  </h2>\n                </div>\n                <div className={cx(\"currently-body\")}>\n                  {getList(from, profile, \"reading\")}\n                </div>\n              </div>\n              <div className={cx(\"read\")}>\n                <div className={cx(\"read-head\")}>\n                  <h2>\n                    읽은 책 (\n                    {from === \"/me\"\n                      ? profile && profile.profile !== undefined\n                        ? profile.profile.read.length\n                        : 0\n                      : profile && profile.user !== undefined\n                      ? profile.user.read.length\n                      : 0}\n                    )\n                  </h2>\n                </div>\n                <div className={cx(\"read-body\")}>\n                  {getList(from, profile, \"read\")}\n                </div>\n              </div>\n            </div>\n            <div style={idx === 1 ? { display: \"block\" } : { display: \"none\" }}>\n              <div className={cx(\"recent-update\")}>\n                <div className={cx(\"recent-head\")}>\n                  <h2>리뷰</h2>\n                </div>\n                <div className={cx(\"recent-body\")}>\n                  {from === \"/me\" ? (\n                    profile && profile.profile !== undefined ? (\n                      <UserReview profile={profile.profile} />\n                    ) : (\n                      \"리뷰 없음\"\n                    )\n                  ) : profile && profile.user !== undefined ? (\n                    <UserReview profile={profile.user} />\n                  ) : (\n                    \"리뷰 없음\"\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {openEdit(isOpen, this.handleCancel, profile)}\n      </Fragment>\n    );\n  }\n}\n\nexport default UserProfile;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst URL = `http://localhost:8080`;\n\nconst GET_USER = \"GET_USER\";\nconst GET_USER_PENDING = \"GET_USER_PENDING\";\nconst GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nconst GET_USER_FAILURE = \"GET_USER_FAILURE\";\n\nconst GET_TOP_READERS = \"GET_TOP_READERS\";\nconst GET_TOP_READERS_PENDING = \"GET_TOP_READERS_PENDING\";\nconst GET_TOP_READERS_SUCCESS = \"GET_TOP_READERS_SUCCESS\";\nconst GET_TOP_READERS_FAILURE = \"GET_TOP_READERS_FAILURE\";\n\nconst GET_TOP_REVIEWERS = \"GET_TOP_REVIEWERS\";\nconst GET_TOP_REVIEWERS_PENDING = \"GET_TOP_REVIEWERS_PENDING\";\nconst GET_TOP_REVIEWERS_SUCCESS = \"GET_TOP_REVIEWERS_SUCCESS\";\nconst GET_TOP_REVIEWERS_FAILURE = \"GET_TOP_REVIEWERS_FAILURE\";\n\nconst requestUser = id => {\n  return axios.get(`${URL}/profile/${id}`);\n};\nconst requestTopReaders = type => {\n  return axios.get(`${URL}/rank/reader/${type}`);\n};\nconst requestTopReviewers = type => {\n  return axios.get(`${URL}/rank/reviewer/${type}`);\n};\n\nexport const getUser = id => ({\n  type: GET_USER,\n  payload: requestUser(id)\n});\nexport const getTopReaders = (type = 0) => ({\n  type: GET_TOP_READERS,\n  payload: requestTopReaders(type)\n});\nexport const getTopReviewers = type => ({\n  type: GET_TOP_REVIEWERS,\n  payload: requestTopReviewers(type)\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  profile: {},\n  topReaders: [],\n  topReviewers: []\n};\nexport default handleActions(\n  {\n    [GET_USER_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_USER_SUCCESS]: (state, action) => {\n      return {\n        pending: false,\n        error: false,\n        profile: action.payload.data\n      };\n    },\n    [GET_USER_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    [GET_TOP_READERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_TOP_READERS_SUCCESS]: (state, action) => {\n      const {\n        data: { readers }\n      } = action.payload;\n      return {\n        ...state,\n        topReaders: readers,\n        pending: false,\n        error: false\n      };\n    },\n    [GET_TOP_READERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    },\n    [GET_TOP_REVIEWERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [GET_TOP_REVIEWERS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviewers }\n      } = action.payload;\n      return {\n        ...state,\n        topReviewers: reviewers,\n        pending: false,\n        error: false\n      };\n    },\n    [GET_TOP_REVIEWERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    }\n  },\n  initialState\n);\n","import React, { Component, Fragment } from \"react\";\nimport UserProfile from \"../components/UserProfile\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../reducer/user\";\n\n//import { Redirect } from \"react-router\";\nclass Profile extends Component {\n  componentDidMount() {\n    const {\n      history: { location }\n    } = this.props;\n    if (location.pathname !== \"/me\") {\n      const uid = location.pathname.substring(1).split(\"/\")[1];\n      this.getProfile(uid);\n    }\n  }\n\n  getProfile = async id => {\n    const { getProfile } = this.props;\n    try {\n      await getProfile(id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const {\n      isLoggedIn,\n      user,\n      profile,\n      history: { location }\n    } = this.props;\n    //console.log(this.props.history);\n    return (\n      <Fragment>\n        <UserProfile\n          isLoggedIn={isLoggedIn}\n          profile={location.pathname === \"/me\" ? profile : user}\n          from={location.pathname}\n        />\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile,\n    user: state.user.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProfile: id => dispatch(actions.getUser(id))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n","import React, { Component } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport style from \"./Rater.scss\";\nimport classnames from \"classnames/bind\";\nimport { connect } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst values = [\"1\", \"2\", \"3\", \"4\", \"5\"];\nconst starStyle = {\n  color: \"#f1c40f\",\n  cursor: \"pointer\"\n};\nclass Rater extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hoveredRating: \"0\",\n      currentRating: \"0\"\n    };\n  }\n\n  handleOnClick = e => {\n    const { isLoggedIn } = this.props;\n    let currentItem = e.target;\n    while (currentItem.nodeName !== \"svg\") {\n      currentItem = currentItem.parentNode;\n    }\n    const rating = currentItem.dataset.rating;\n    if (isLoggedIn) this.postVote(rating);\n    else alert(\"Please Login\");\n  };\n  postVote = async vote => {\n    const {\n      book: { title, authors, thumbnail },\n      profile: {\n        profile: { email }\n      },\n      postVote\n    } = this.props;\n    const isbn = window.location.pathname.substring(1).split(\"/\")[1];\n    await postVote(title, authors, vote, isbn, email, thumbnail);\n  };\n  render() {\n    //const { currentRating } = this.state;\n    const { votes } = this.props;\n    return (\n      <div className={cx(\"rater\")}>\n        {values.map((value, idx) => {\n          return (\n            <FaStar\n              key={idx}\n              data-rating={idx + 1}\n              onClick={this.handleOnClick}\n              style={votes >= idx + 1 ? starStyle : {}}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile\n  };\n};\nexport default connect(mapStateToProps)(Rater);\n","import React, { Component, Fragment } from \"react\";\nimport style from \"./Review.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { FaHeart } from \"react-icons/fa\";\nimport * as actions from \"../../reducer/review\";\nimport * as loginActions from \"../../reducer/login\";\n\nconst cx = classnames.bind(style);\nconst reviewTag = (item, idx, handleLike) => {\n  console.log(item);\n  return (\n    <Fragment key={idx}>\n      <div>\n        <div>\n          <Link to={item.reviewer ? `/profile/${item.reviewer._id}` : \"\"}>\n            <img\n              className={cx(\"user-img\")}\n              src={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n              alt={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n            />\n            <span className={cx(\"user\")}>\n              {item.reviewer ? item.reviewer.email : \"\"}\n            </span>\n          </Link>\n        </div>\n        <span className={cx(\"date\")}>\n          {item.createdAt\n            ? moment(item.createdAt).format(`MMMM MM월 DD일 HH:MM:SS`)\n            : \"\"}\n        </span>\n        <div style={{ marginTop: \"10px\" }}>\n          <span className={cx(\"user-review\")}>{item.content}</span>\n        </div>\n        <div className={cx(\"review-footer\")}>\n          <span>{item.likes} likes</span>\n          <span style={{ marginLeft: \"5px\", marginRight: \"5px\" }}>·</span>\n          <span\n            className={cx(\"heart\")}\n            onClick={handleLike}\n            data-value={item._id}\n          >\n            <FaHeart />\n          </span>\n          <span style={{ marginLeft: \"5px\", marginRight: \"5px\" }}>·</span>\n          <span className={cx(\"more\")}>see more</span>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\nclass Review extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: \"\"\n    };\n  }\n  componentDidMount() {\n    this.getReview();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.reviews &&\n      prevProps.reviews &&\n      this.props.reviews.length !== prevProps.reviews.length\n    )\n      this.getReview();\n  }\n  getReview = async () => {\n    const { id, getReviews } = this.props;\n    try {\n      await getReviews(id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  postReview = async content => {\n    const {\n      profile: {\n        profile: { email }\n      },\n      postReview,\n      books: book\n    } = this.props;\n    const id = window.location.pathname.substring(1).split(\"/\")[1];\n    try {\n      await postReview(id, email, content, book[0]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleChange = input => {\n    this.setState({\n      input: input\n    });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { isLoggedIn } = this.props;\n    const { input } = this.state;\n    if (isLoggedIn) {\n      this.postReview(input);\n      this.setState({\n        input: \"\"\n      });\n    } else {\n      alert(\"Please Login\");\n    }\n  };\n  handleLike = e => {\n    const { currentTarget } = e;\n    const id = currentTarget.getAttribute(\"data-value\");\n    this.postLike(\"like\", id);\n  };\n  postLike = async (type, id) => {\n    const { me, postLike, profile } = this.props;\n    try {\n      await postLike(type, id, profile._id, me.profile._id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const { input } = this.state;\n    const { reviews } = this.props;\n    return (\n      <div className={cx(\"review\")}>\n        <p>리뷰</p>\n        <div>\n          <div className={cx(\"form-container\")}>\n            <form onSubmit={this.handleSubmit}>\n              <textarea\n                onChange={e => this.handleChange(e.target.value)}\n                value={input}\n              />\n              <input type=\"submit\" value=\"등록\" />\n            </form>\n          </div>\n          <div className={cx(\"review-list-wrapper\")}>\n            {reviews !== undefined ? (\n              reviews.map((item, idx) => {\n                return reviewTag(item, idx, this.handleLike);\n              })\n            ) : (\n              <div></div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    pending: state.review.pending,\n    error: state.review.error,\n    success: state.review.success,\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile,\n    reviews: state.review.reviews,\n    books: state.books.books\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    postReview: (isbn, name, content, book) =>\n      dispatch(actions.postReview(isbn, name, content, book)),\n    getReviews: isbn => dispatch(actions.getReview(isbn)),\n    postLike: (type, id, uid) => dispatch(loginActions.postLike(type, id, uid))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Review);\n","import React, { Component, Fragment } from \"react\";\nimport { FaPlusCircle, FaStar, FaAngleDown } from \"react-icons/fa\";\nimport style from \"./BookDetail.scss\";\nimport classnames from \"classnames/bind\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport Select from \"react-select\";\nimport Rater from \"../Rater\";\nimport Review from \"../Review\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nconst cx = classnames.bind(style);\nconst formatAuthors = authors => {\n  let s = \"\";\n  for (let i = 0; i < authors.length; i++) {\n    s += `${authors[i]} `;\n  }\n  return s;\n};\nconst getAvg = votes => {\n  if (votes) {\n    let total = 0;\n    if (votes.length > 0) {\n      for (let i = 0; i < votes.length; i++) {\n        total += parseInt(votes[i].vote);\n      }\n      console.log(total);\n      return (total / votes.length).toFixed(2);\n    } else {\n      return 0;\n    }\n  } else {\n    return 0;\n  }\n};\n\nconst options = [\n  {\n    value: \"want_read\",\n    label: \"읽기\"\n  },\n  {\n    value: \"reading\",\n    label: \"읽는중\"\n  },\n  {\n    value: \"read\",\n    label: \"읽음\"\n  }\n];\nclass BookDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: null,\n      status: \"읽기\"\n    };\n  }\n  async componentDidMount() {\n    this.getStatus();\n  }\n  checkStatus = (arr, isbn) => {\n    if (arr.filter(item => item.isbn === isbn).length > 0) return true;\n    return false;\n  };\n  checkUserVote = () => {\n    const {\n      votes,\n      profile: { profile }\n    } = this.props;\n    let cur = \"0\";\n    if (votes) {\n      for (let i = 0; i < votes.length; i++) {\n        if (votes[i]._id === profile._id) {\n          cur = String(votes[i].vote);\n          break;\n        }\n      }\n    }\n    return cur;\n  };\n  getStatus = () => {\n    const {\n      profile: { profile },\n      id: isbn\n    } = this.props;\n    if (profile) {\n      if (this.checkStatus(profile.want_read, isbn)) {\n        this.setState({\n          selected: options[0],\n          status: options[0].label\n        });\n        return;\n      }\n      if (this.checkStatus(profile.reading, isbn)) {\n        this.setState({\n          selected: options[1],\n          status: options[1].label\n        });\n        return;\n      }\n      if (this.checkStatus(profile.read, isbn)) {\n        this.setState({\n          selected: options[2],\n          status: options[2].label\n        });\n        return;\n      }\n    }\n  };\n  handleOnClick = async () => {\n    const {\n      selected: { value }\n    } = this.state;\n    const {\n      postShelve,\n      book: { title, authors, thumbnail },\n      profile: {\n        profile: { email }\n      }\n    } = this.props;\n    const id = window.location.pathname.substring(1).split(\"/\")[1];\n    try {\n      await postShelve(email, id, title, authors, value, thumbnail);\n    } catch (error) {}\n  };\n  handleRadio = selected => {\n    this.setState({ selected }, () =>\n      console.log(`Selected: ${this.state.selected}`)\n    );\n  };\n  render() {\n    const { book, votes, postVote, id, reviews } = this.props;\n    const { selected, status } = this.state;\n    return (\n      <Fragment>\n        {book ? (\n          <Fragment>\n            <div className={cx(\"book-detail\")}>\n              <div className={cx(\"book-info-wrapper\")}>\n                <div className={cx(\"img-col\")}>\n                  <img src={book.thumbnail} alt=\"geisha\" />\n                </div>\n                <div className={cx(\"book-content\")}>\n                  <h2 className={cx(\"title\")}>{book.title}</h2>\n                  <p className={cx(\"author\")}>{formatAuthors(book.authors)}</p>\n                  <div className={cx(\"bookmeta\")}>\n                    <span className={cx(\"score\")}>\n                      <FaStar />\n                      {getAvg(votes)}\n                      <FaAngleDown className={cx(\"angle-down\")} />\n                    </span>\n                    <span className={cx(\"rate-cnt\")}>\n                      {votes ? votes.length : 0} 평가\n                    </span>\n                    <span className={cx(\"review-cnt\")}>\n                      {reviews ? reviews.length : 0} 리뷰\n                    </span>\n                  </div>\n                  <span className={cx(\"discription\")}>{book.contents}</span>\n                  <div>\n                    <div className={cx(\"rate-wrapper\")}>\n                      <span>책 평가하기</span>\n                      <Rater\n                        postVote={postVote}\n                        book={book}\n                        id={id}\n                        votes={\n                          votes && votes.length > 0 ? this.checkUserVote() : \"0\"\n                        }\n                      />\n                    </div>\n                    <div className={cx(\"add\")}>\n                      <Select\n                        className={cx(\"select\")}\n                        options={options}\n                        onChange={this.handleRadio}\n                        value={selected}\n                        isSearchable={false}\n                        placeholder={status}\n                      />\n                      <button\n                        className={cx(\"want-read\")}\n                        onClick={this.handleOnClick}\n                      >\n                        <span>\n                          <FaPlusCircle />\n                        </span>\n                        등록\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <Review id={id} />\n          </Fragment>\n        ) : (\n          <ChasingDots color=\"white\" size={60} />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    postShelve: (email, isbn, title, authors, type, thumbnail) =>\n      dispatch(actions.postShelve(email, isbn, title, authors, type, thumbnail))\n  };\n};\nexport default connect(null, mapDispatchToProps)(BookDetail);\n","import React, { Component, Fragment } from \"react\";\nimport BookDetail from \"../components/BookDetail\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../reducer/books\";\n//import * as reviewActions from \"../reducer/review\";\n\nclass Detail extends Component {\n  state = {\n    avg_vote: 0.0\n  };\n  componentDidMount() {\n    const {\n      match: {\n        params: { id }\n      }\n    } = this.props;\n    window.scrollTo(0, 0);\n    // console.log(id);\n    this.getBook(id);\n  }\n  getBook = async id => {\n    const { getBook, getAvg_Reviews } = this.props;\n    try {\n      Promise.all([await getBook(id), await getAvg_Reviews(id)]); //.then(info => {console.log(\"Done\");});\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const {\n      match: {\n        params: { id }\n      },\n      books,\n      votes,\n      reviews,\n      postVote,\n      profile\n    } = this.props;\n    return (\n      <Fragment>\n        <div className=\"main-container\">\n          <BookDetail\n            book={books[0]}\n            id={id}\n            postVote={postVote}\n            votes={votes}\n            reviews={reviews}\n            profile={profile}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    pending: state.books.pending,\n    error: state.books.error,\n    books: state.books.books,\n    vote_error: state.books.vote_error,\n    vote_pending: state.books.vote_pending,\n    vote_success: state.books.vote_success,\n    votes: state.books.votes,\n    reviews: state.review.reviews,\n    profile: state.login.profile\n  };\n};\nconst mapDispathToProps = dispatch => {\n  return {\n    getBook: q => dispatch(actions.getDetail(q)),\n    getAvg_Reviews: isbn => dispatch(actions.getInfo(isbn)),\n    postVote: (title, authors, vote, isbn, name, thumbnail) =>\n      dispatch(actions.postBook(title, authors, vote, isbn, name, thumbnail))\n  };\n};\nexport default connect(mapStateToProps, mapDispathToProps)(Detail);\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport style from \"./Footer.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nclass Footer extends Component {\n  render() {\n    return (\n      <footer className={cx(\"footer\")}>\n        <div className={cx(\"footer_icon\")}></div>\n        <span className={cx(\"footer_text\")}>\n          &copy; HappReads {moment().format(\"YYYY\")}\n        </span>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component, Fragment } from \"react\";\nimport BookList from \"../components/BookList\";\nimport * as actions from \"../reducer/books\";\nimport { connect } from \"react-redux\";\nconst searchResult = books => {\n  return (\n    <Fragment>\n      <BookList booklist={books} from=\"search\" />\n    </Fragment>\n  );\n};\nconst style = {\n  form: {\n    height: \"80px\",\n    width: \"450px\",\n    margin: \"0 auto\"\n  },\n  text: {\n    width: \"100%\",\n    padding: \"5px\",\n    fontSize: \"12px\"\n  }\n};\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    const type = window.location.search.split(\"type=\")[1];\n    this.state = {\n      keyword: \"\",\n      type: type ? type : \"0\",\n      page: 1\n    };\n  }\n  componentDidMount() {\n    const {\n      location: { search }\n    } = this.props;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    const type = window.location.search.split(\"type=\")[1];\n    console.log(q, type);\n    this.getBooks(q, type);\n    window.addEventListener(\"scroll\", this.handleScroll); //스크롤 이벤트 추가\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll); //스크롤 이벤트 제거\n  }\n  getBooks = async (q, type, page = 1) => {\n    const { getBooks } = this.props;\n    try {\n      const response = await getBooks(q, type, page);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleScroll = () => {\n    const { innerHeight } = window;\n    const { scrollHeight } = document.body;\n    const scrollTop =\n      (document.documentElement && document.documentElement.scrollTop) ||\n      document.body.scrollTop;\n    const {\n      location: { search }\n    } = this.props;\n    const { page } = this.state;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    const type = window.location.search.split(\"type=\")[1];\n    if (scrollHeight - innerHeight - scrollTop < 100) {\n      //스크롤링 했을때, 브라우저의 가장 밑에서 100정도 높이가 남았을때에 실행하기위함.\n      this.getBooks(q, type, page + 1);\n      this.setState({\n        page: page + 1\n      });\n      //console.log(\"Search Next\");\n    }\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { keyword, type } = this.state;\n    window.location.href = `/search?p=${keyword}&type=${type} `;\n  };\n  handleChange = query => {\n    this.setState({\n      keyword: query\n    });\n  };\n  handleAll = () => {\n    this.setState({\n      type: \"0\"\n    });\n  };\n  handleBook = () => {\n    this.setState({\n      type: \"1\"\n    });\n  };\n  handleAuthor = () => {\n    this.setState({\n      type: \"2\"\n    });\n  };\n  render() {\n    const {\n      history,\n      location: { search },\n      books,\n      keyword\n    } = this.props;\n    const { type } = this.state;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \");\n    return (\n      <Fragment>\n        <div style={{ marginTop: \"73px\" }}>\n          <h1 style={{ marginLeft: \"10px\", paddingTop: \"10px\" }}>\n            <span style={{ fontWeight: \"800\" }}>검색</span> >{\" \"}\n            {q.substring(0, q.length - 5)}\n          </h1>\n          <div className=\"form-container\" style={style.form}>\n            <form style={{ width: \"100%\" }} onSubmit={this.handleSubmit}>\n              <input\n                type=\"text\"\n                style={style.text}\n                placeholder=\"책/저자 검색\"\n                value={keyword}\n                onChange={e => this.handleChange(e.target.value)}\n              />\n              <div style={{ marginTop: \"10px\" }}>\n                <input\n                  type=\"radio\"\n                  name=\"check\"\n                  value=\"all\"\n                  onChange={this.handleAll}\n                  checked={type === \"0\"}\n                />\n                <label>모든</label>\n                <input\n                  type=\"radio\"\n                  name=\"check\"\n                  value=\"book\"\n                  onChange={this.handleBook}\n                  checked={type === \"1\"}\n                />\n                <label>책</label>\n                <input\n                  type=\"radio\"\n                  name=\"check\"\n                  value=\"author\"\n                  onChange={this.handleAuthor}\n                  checked={type === \"2\"}\n                />\n                <label> 작가</label>\n              </div>\n            </form>\n          </div>\n          {searchResult(books)}\n        </div>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    pending: state.books.pending,\n    error: state.books.error,\n    books: state.books.books\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getBooks: (q, type = 0, page = 1) =>\n      dispatch(actions.getBooks(q, type, page))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n","import React, { Component } from \"react\";\n//import Header from \"../components/Header\";\nimport UserEdit from \"../components/UserEdit\";\nimport { connect } from \"react-redux\";\nclass Edit extends Component {\n  render() {\n    const { history, profile } = this.props;\n    return (\n      <div>\n        <UserEdit history={history} profile={profile} />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile\n  };\n};\nexport default connect(mapStateToProps)(Edit);\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst UPLOAD = \"UPLOAD\";\nconst UPLOAD_PENDING = \"UPLOAD_PENDING\";\nconst UPLOAD_SUCCESS = \"UPLOAD_SUCCESS\";\nconst UPLOAD_FAILURE = \"UPLOAD_FAILURE\";\nconst requestUpload = data => {\n  return axios.post(`http://localhost:8080/upload`, data);\n};\nexport const postUpload = data => ({\n  type: UPLOAD,\n  payload: requestUpload(data)\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  success: false\n};\nexport default handleActions(\n  {\n    [UPLOAD_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false\n      };\n    },\n    [UPLOAD_SUCCESS]: (state, action) => {\n      return {\n        success: true,\n        pending: false,\n        error: false\n      };\n    },\n    [UPLOAD_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true\n      };\n    }\n  },\n  initialState\n);\n","import React, { Component } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./BookUpload.scss\";\nimport { connect } from \"react-redux\";\nimport { v4 } from \"uuid\";\nimport * as actions from \"../../reducer/upload\";\nconst cx = classnames.bind(style);\nconst authorTag = (authors, handleDeleteTag) => {\n  return authors.map(author => {\n    const uid = v4();\n    return (\n      <div className={cx(\"author-tag\")} key={uid}>\n        <span className={cx(\"author-name\")}>{author}</span>\n        <span className={cx(\"author-x\")} onClick={handleDeleteTag}>\n          x\n        </span>\n      </div>\n    );\n  });\n};\nclass BookUpload extends Component {\n  state = {\n    selected: null,\n    title: \"\",\n    authors: [],\n    author: \"\",\n    isbn: \"\",\n    contents: \"\"\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { selected, title, authors, isbn, contents } = this.state;\n    const {\n      profile: {\n        profile: { _id }\n      }\n    } = this.props;\n    const formData = new FormData();\n    formData.append(\"thumbnail\", selected);\n    formData.append(\"title\", title);\n    formData.append(\"authors\", authors);\n    formData.append(\"isbn\", isbn);\n    formData.append(\"contents\", contents);\n    formData.append(\"uid\", _id);\n    //console.log(title, authors, isbn, contents);\n    this.submitData(formData);\n  };\n  handleAuthorChange = input => {\n    this.setState({\n      author: input\n    });\n  };\n  handleKeyPress = key => {\n    const { author, authors } = this.state;\n    if (author !== \"\") {\n      if (key === 13) {\n        this.setState({\n          authors: [...authors, author],\n          author: \"\"\n        });\n      }\n    }\n  };\n  handleDeleteTag = e => {\n    const { authors } = this.state;\n    const target = e.target.previousSibling.innerHTML;\n    let newAuthors = authors.filter(author => {\n      return author !== target;\n    });\n    //console.log(newAuthors);\n    this.setState({\n      authors: newAuthors\n    });\n  };\n  handleFile = e => {\n    this.setState({\n      selected: e.target.files[0]\n    });\n  };\n  handleTitle = title => {\n    this.setState({\n      title: title\n    });\n  };\n  handleContents = contents => {\n    this.setState({\n      contents: contents\n    });\n  };\n  handleIsbn = isbn => {\n    this.setState({\n      isbn: isbn\n    });\n  };\n  submitData = async data => {\n    const { postUpload } = this.props;\n    try {\n      await postUpload(data);\n      window.location.href = \"/\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const { title, isbn, contents, author, authors } = this.state;\n    return (\n      <div className={cx(\"book-upload\")}>\n        <div className={cx(\"form-container\")}>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"file\" onChange={this.handleFile} required />\n            <input\n              type=\"text\"\n              value={title}\n              onChange={e => this.handleTitle(e.target.value)}\n              placeholder=\"책 이름\"\n              required\n            />\n            <div className={cx(\"authors\")}>\n              {authorTag(authors, this.handleDeleteTag)}\n              <input\n                className={cx(\"author-input\")}\n                type=\"text\"\n                placeholder=\"저자 +\"\n                value={author}\n                onChange={e => this.handleAuthorChange(e.target.value)}\n                onKeyDown={e => this.handleKeyPress(e.keyCode)}\n              />\n            </div>\n            <input\n              type=\"text\"\n              value={isbn}\n              onChange={e => this.handleIsbn(e.target.value)}\n              placeholder=\"ISBN\"\n              required\n            />\n            <textarea\n              placeholder=\"요약\"\n              value={contents}\n              onChange={e => this.handleContents(e.target.value)}\n              required\n            />\n            <input type=\"submit\" value=\"제출\" />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    pending: state.upload.pending,\n    error: state.upload.error,\n    success: state.upload.success,\n    profile: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    postUpload: data => dispatch(actions.postUpload(data))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BookUpload);\n","import React, { Component, Fragment } from \"react\";\nimport BookUpload from \"../components/BookUpload/BookUpload\";\nclass Upload extends Component {\n  render() {\n    return (\n      <Fragment>\n        <BookUpload />\n      </Fragment>\n    );\n  }\n}\n\nexport default Upload;\n","import React, { useState, Fragment } from \"react\";\nimport style from \"./SearchBar.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst SearchBar = () => {\n  const [keyword, setKeyword] = useState(\"\");\n  const handleChangeKeyword = query => {\n    setKeyword(query);\n  };\n  const handleSubmit = e => {\n    window.location.href = `/search?p=${keyword}`;\n    e.preventDefault();\n  };\n  return (\n    <Fragment>\n      <div className={cx(\"search-bar\")}>\n        <form className={cx(\"form-container\")} onSubmit={handleSubmit}>\n          <input\n            type=\"input\"\n            placeholder=\"책 검색...\"\n            value={keyword}\n            name=\"q\"\n            onChange={e => handleChangeKeyword(e.target.value)}\n          />\n        </form>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default SearchBar;\n","import React, { Component, Fragment } from \"react\";\nimport style from \"./Header.scss\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames/bind\";\nimport SearchBar from \"../SearchBar\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nconst cx = classnames.bind(style);\nconst LinkContainer = (\n  isLoggedIn,\n  clickMenu,\n  showMenu,\n  requestLogOut,\n  profile\n) => {\n  if (isLoggedIn) {\n    return (\n      <Fragment>\n        <li>\n          <span>\n            <img\n              src={profile.profile ? profile.profile.avatarUrl : \"\"}\n              alt={\"me\"}\n              onClick={clickMenu}\n              style={{ width: \"40px\", height: \"40px\", borderRadius: \"50%\" }}\n            />\n          </span>\n          {menu(showMenu, requestLogOut, isLoggedIn)}\n        </li>\n      </Fragment>\n    );\n  } else {\n    return (\n      <Fragment>\n        <li className={cx(\"login\")}>\n          <Link to={\"/login\"}>로그인</Link>\n        </li>\n        <li>\n          <Link to={\"/signup\"}>가입</Link>\n        </li>\n      </Fragment>\n    );\n  }\n};\nconst menu = (showMenu, requestLogOut, isLoggedIn) => {\n  //console.log(showMenu);\n  return (\n    <div className={cx(\"menu\", `${showMenu ? \"show\" : \"\"}`)}>\n      <ul>\n        <li>\n          <Link to=\"/me\">\n            <p>프로필</p>\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/upload\">\n            <p>책 업로드</p>\n          </Link>\n        </li>\n        <li onClick={() => requestLogOut()}>\n          <p>로그아웃</p>\n        </li>\n      </ul>\n      <div className={cx(\"callout\")}></div>\n    </div>\n  );\n};\nclass Header extends Component {\n  _isMounted = false;\n  state = {\n    showMenu: false,\n    lastPos: window.pageYOffset\n  };\n  componentDidMount() {\n    this._isMounted = true;\n    if (this._isMounted) {\n      //window.addEventListener(\"scroll\", this.handleScroll);\n    }\n    this.checkUser();\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n    //window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  checkUser = async () => {\n    const atk = localStorage.getItem(\"atk\");\n    const { checkUser } = this.props;\n    if (atk) {\n      try {\n        await checkUser(atk);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  requestLogOut = async () => {\n    const { userLogOut } = this.props;\n    try {\n      const response = await userLogOut();\n      const {\n        value: { status }\n      } = response;\n      if (status === 200) {\n        localStorage.removeItem(\"atk\");\n        window.location.href = \"/\";\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  clickMenu = () => {\n    const { showMenu } = this.state;\n    this.setState({\n      showMenu: !showMenu\n    });\n  };\n  handleScroll = e => {\n    let currentScrollPos = window.pageYOffset;\n    const { lastPos } = this.state;\n    if (e) {\n      if (lastPos > currentScrollPos) {\n        document.querySelector(\".header\").classList.remove(\"header-up\");\n      } else {\n        document.querySelector(\".header\").classList.add(\"header-up\");\n      }\n      this.setState({\n        lastPos: currentScrollPos\n      });\n    }\n  };\n  render() {\n    const { showMenu } = this.state;\n    const { isLoggedIn, profile } = this.props;\n    this.handleScroll();\n    return (\n      <div className={cx(\"header\")}>\n        <div className={cx(\"title\")}>\n          <Link to={\"/\"}>\n            <span className={cx(\"fr\")}>Happ</span>\n            <span className={cx(\"en\")}>Reads</span>\n          </Link>\n        </div>\n        {<SearchBar />}\n        <div className={cx(\"community\")}>\n          <Link to={\"/community/reviews\"}>커뮤니티</Link>\n        </div>\n        <div>\n          <ul className={cx(\"ul\")}>\n            {LinkContainer(\n              isLoggedIn,\n              this.clickMenu,\n              showMenu,\n              this.requestLogOut,\n              profile\n            )}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.login.isLoggedIn,\n    profile: state.login.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkUser: atk => dispatch(actions.check(atk)), //유저 로그인 상태 체크\n    userLogOut: () => dispatch(actions.logout())\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React, { Component } from \"react\";\nimport goBack from \"../img/go_back.png\";\nconst style = {\n  padding: \"80px\",\n  textAlign: \"center\"\n};\n\nclass NoMatch extends Component {\n  render() {\n    return (\n      <div style={style}>\n        <h1\n          style={{\n            fontSize: \"2.0rem\",\n            fontWeight: \"700\",\n            marginTop: \"20px\",\n            marginBottom: \"20px\"\n          }}\n        >\n          404 Not Found\n        </h1>\n        <img\n          src={goBack}\n          style={{ height: \"250px\", marginBottom: \"10px\" }}\n          alt={\"404\"}\n        />\n      </div>\n    );\n  }\n}\n\nexport default NoMatch;\n","import React, { useState } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./Modal.scss\";\nconst cx = classnames.bind(style);\nconst convertType = { 읽음: \"read\", 읽기: \"want_read\", 읽는중: \"reading\" };\nconst Modal = ({ handleCancel, handleChange, item, type }) => {\n  const [to, setTo] = useState(convertType[type]);\n  const handleSelect = e => {\n    const { target } = e;\n    setTo(target.value);\n  };\n  return (\n    <div className=\"modal-container\">\n      <div className=\"modal-overlay\"></div>\n      <div className=\"modal\">\n        <p className={cx(\"exit\")}>\n          <span role=\"img\" aria-label=\"cancel\" onClick={handleCancel}>\n            ❌\n          </span>\n        </p>\n        <img src={item.thumbnail} alt={item.id} />\n        <div className={cx(\"status-wrapper\")}>\n          <div className={cx(\"read-status\")}>\n            <span>현재 상태:</span>\n            <p className={cx(\"current-status\")}>{type}</p>\n          </div>\n          <select\n            className={cx(\"select\")}\n            defaultValue={to}\n            onChange={handleSelect}\n          >\n            <option value={\"want_read\"}>읽을 책</option>\n            <option value={\"reading\"}>읽\b는중</option>\n            <option value={\"read\"}>읽음</option>\n          </select>\n          <div className={cx(\"button-container\")}>\n            <button\n              className={cx(\"ok-btn\")}\n              onClick={e => handleChange(item, to)}\n            >\n              수정\n            </button>\n            <button className={cx(\"cancel-btn\")} onClick={handleCancel}>\n              취소\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import React, { Component, Fragment } from \"react\";\nimport style from \"./BookShelve.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport * as userActions from \"../../reducer/user\";\nimport * as loginActions from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport BookModal from \"../BookModal\";\nconst cx = classnames.bind(style);\nlet currentItem = null;\nlet shelveHeader = null;\nconst active = target => {\n  target.classList.add(\"show\");\n  currentItem = target;\n};\nconst inactive = currentItem => {\n  currentItem.classList.remove(\"show\");\n};\nconst convertType = { 읽음: \"read\", 읽기: \"want_read\", 읽는중: \"reading\" };\nclass BookShelve extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: 1,\n      openModal: false,\n      lastPos: 90,\n      item: {},\n      status: \"\"\n    };\n  }\n  componentDidMount() {\n    const menu_ul = document.querySelector(\".menu-ul\");\n    shelveHeader = document.querySelector(\".shelve-header\");\n    window.addEventListener(\"scroll\", this.handleScroll);\n    menu_ul.addEventListener(\"click\", this.handleClick);\n    active(document.querySelector(\".menu-ul li:nth-child(1)\"));\n    this.getUser();\n    window.scrollTo(0, 0);\n  }\n  componentWillUnmount() {\n    const menu_ul = document.querySelector(\".menu-ul\");\n    window.removeEventListener(\"scroll\", this.handleScroll);\n    menu_ul.removeEventListener(\"click\", this.handleClick);\n  }\n  handleScroll = e => {\n    const menu_ul = document.querySelector(\".menu-ul\");\n    const posY = menu_ul.getBoundingClientRect().top;\n    if (e) {\n      if (posY < 50) {\n        if (!shelveHeader.classList.contains(\"fix\")) {\n          shelveHeader.classList.add(\"fix\");\n          menu_ul.classList.add(\"fix\");\n        }\n      } else {\n        shelveHeader.classList.remove(\"fix\");\n        menu_ul.classList.remove(\"fix\");\n      }\n    }\n  };\n  getUser = async () => {\n    const uid = window.location.pathname.substring(1).split(\"/\")[1];\n    const { getUser } = this.props;\n    try {\n      await getUser(uid);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  checkType = item => {\n    const {\n      user: { user }\n    } = this.props;\n    const read = user.read;\n    const want_read = user.want_read;\n    const reading = user.reading;\n    for (let i = 0; i < want_read.length; i++) {\n      if (want_read[i].book.isbn === item.isbn) return \"읽기\";\n    }\n    for (let i = 0; i < reading.length; i++) {\n      if (reading[i].book.isbn === item.isbn) return \"읽는중\";\n    }\n    for (let i = 0; i < read.length; i++) {\n      if (read[i].book.isbn === item.isbn) return \"읽음\";\n    }\n  };\n  getBooks = val => {\n    const {\n      user: { user }\n    } = this.props;\n    const type = parseInt(val, 10);\n    if (user) {\n      if (type === 1) {\n        const read = user.read;\n        const want_read = user.want_read;\n        const reading = user.reading;\n        const all = want_read\n          .concat(reading)\n          .concat(read)\n          .sort((a, b) => {\n            return a.title > b.title ? 1 : -1;\n          });\n        const tags = all.map(item => {\n          return (\n            <tr key={item.book._id}>\n              <td>\n                <Link to={`/book/${item.isbn}`}>\n                  <img\n                    src={item.book.thumbnail}\n                    alt={item.book.thumbnail}\n                  ></img>\n                </Link>\n              </td>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>{item.book.title}</Link>\n              </td>\n              <td>\n                {item.book.authors.length > 1\n                  ? item.book.authors[0] + \"*\"\n                  : item.book.authors[0]}\n              </td>\n              <td>{0.0}</td>\n              <td>\n                {moment(item.book.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}\n              </td>\n              <td>{this.checkType(item.book)} </td>\n              <td\n                className={cx(\"settings all\")}\n                onClick={e =>\n                  this.handleSettings(\n                    e.target,\n                    item.book,\n                    this.checkType(item.book)\n                  )\n                }\n              >\n                <span>수정</span>\n                <span>X</span>\n              </td>\n            </tr>\n          );\n        });\n        return tags;\n      } else if (type === 2) {\n        const uploaded = user.uploaded;\n        console.log(uploaded);\n        const tags = uploaded.map(item => {\n          return (\n            <tr key={item._id}>\n              <td>\n                <Link to={`/book/${item.isbn}`}>\n                  <img src={item.thumbnail} alt={item.thumbnail}></img>\n                </Link>\n              </td>\n              <td>\n                <Link to={`/book/${item.isbn}`}>{item.title}</Link>\n              </td>\n              <td>\n                {item.authors.length > 1\n                  ? item.authors[0] + \"*\"\n                  : item.authors[0]}\n              </td>\n              <td>{0.0}</td>\n              <td>{moment(item.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}</td>\n              <td>업로드</td>\n              <td\n                className={cx(\"settings uploaded\")}\n                onClick={e =>\n                  this.handleSettings(e.target, item, this.checkType(item))\n                }\n              >\n                <span>수정</span>\n                <span>X</span>\n              </td>\n            </tr>\n          );\n        });\n        return tags;\n      } else if (type === 3) {\n        const want_read = user.want_read;\n        const tags = want_read.map(item => {\n          return (\n            <tr key={item.book._id}>\n              <td>\n                <Link to={`/book/${item.isbn}`}>\n                  <img\n                    src={item.book.thumbnail}\n                    alt={item.book.thumbnail}\n                  ></img>\n                </Link>\n              </td>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>{item.book.title}</Link>\n              </td>\n              <td>\n                {item.book.authors.length > 1\n                  ? item.book.authors[0] + \"*\"\n                  : item.book.authors[0]}\n              </td>\n              <td>{0.0}</td>\n              <td>\n                {moment(item.book.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}\n              </td>\n              <td>읽기</td>\n              <td\n                className={cx(\"settings want\")}\n                onClick={e =>\n                  this.handleSettings(\n                    e.target,\n                    item.book,\n                    this.checkType(item.book)\n                  )\n                }\n              >\n                <span>수정</span>\n                <span>X</span>\n              </td>\n            </tr>\n          );\n        });\n        return tags;\n      } else if (type === 4) {\n        const reading = user.reading;\n        const tags = reading.map(item => {\n          return (\n            <tr key={item._id}>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>\n                  <img\n                    src={item.book.thumbnail}\n                    alt={item.book.thumbnail}\n                  ></img>\n                </Link>\n              </td>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>{item.book.title}</Link>\n              </td>\n              <td>\n                {item.book.authors.length > 1\n                  ? item.book.authors[0] + \"*\"\n                  : item.book.authors[0]}\n              </td>\n              <td>{0.0}</td>\n              <td>\n                {moment(item.book.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}\n              </td>\n              <td>읽는중</td>\n              <td\n                className={cx(\"settings reading\")}\n                onClick={e =>\n                  this.handleSettings(\n                    e.target,\n                    item.book,\n                    this.checkType(item.book)\n                  )\n                }\n              >\n                <span>수정</span>\n                <span>X</span>\n              </td>\n            </tr>\n          );\n        });\n        return tags;\n      } else if (type === 5) {\n        const read = user.read;\n        const tags = read.map(item => {\n          return (\n            <tr key={item.book._id}>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>\n                  <img\n                    src={item.book.thumbnail}\n                    alt={item.book.thumbnail}\n                  ></img>\n                </Link>\n              </td>\n              <td>\n                <Link to={`/book/${item.book.isbn}`}>{item.book.title}</Link>\n              </td>\n              <td>\n                {item.book.authors.length > 1\n                  ? item.book.authors[0] + \"*\"\n                  : item.book.authors[0]}\n              </td>\n              <td>{0.0}</td>\n              <td>\n                {moment(item.book.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}\n              </td>\n              <td>읽음</td>\n              <td\n                className={cx(\"settings\")}\n                onClick={e =>\n                  this.handleSettings(\n                    e.target,\n                    item.book,\n                    this.checkType(item.book)\n                  )\n                }\n              >\n                <span>수정</span>\n                <span>X</span>\n              </td>\n            </tr>\n          );\n        });\n        return tags;\n      }\n    }\n    return <Fragment></Fragment>;\n  };\n  deleteShelve = async (uid, bid, type) => {\n    const { deleteShelve } = this.props;\n    try {\n      const response = await deleteShelve(uid, bid, type);\n      const {\n        value: { status }\n      } = response;\n      if (status === 200) {\n        this.getUser(uid);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleClick = e => {\n    const { target } = e;\n    const val = target.getAttribute(\"data-value\");\n    this.setState({\n      type: val\n    });\n    if (currentItem) {\n      inactive(currentItem);\n    }\n    active(target);\n  };\n  handleSettings = (target, item, type) => {\n    if (target.innerText === \"수정\") {\n      this.setState({\n        openModal: true,\n        item,\n        status: type\n      });\n    }\n    if (target.innerText === \"X\") {\n      const {\n        profile: { profile }\n      } = this.props;\n      this.deleteShelve(profile._id, item._id, convertType[type]);\n    }\n  };\n  handleCancel = e => {\n    this.setState({\n      openModal: false\n    });\n  };\n  handleChange = async (book, value) => {\n    const {\n      postShelve,\n      profile: { profile }\n    } = this.props;\n    //서버에 수정 요청 전송 코드입력\n    try {\n      const response = await postShelve(\n        profile.email,\n        book.isbn,\n        book.title,\n        book.authors,\n        value,\n        book.thumbnail\n      );\n      const {\n        value: { status }\n      } = response;\n      if (status === 200) {\n        this.getUser(profile.id);\n        this.setState({\n          openModal: false\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  render() {\n    const {\n      user: { user },\n      profile: { profile }\n    } = this.props;\n    const { type, openModal, item, status } = this.state;\n    const uid = window.location.pathname.substring(1).split(\"/\")[1];\n    return (\n      <div className={cx(\"book-shelve\")}>\n        {openModal ? (\n          <BookModal\n            handleCancel={this.handleCancel}\n            handleChange={this.handleChange}\n            item={item}\n            type={status}\n          />\n        ) : (\n          <Fragment />\n        )}\n        <div>\n          <p className={cx(\"shelve-header\")}>\n            <span>{user ? user.email : \"\"}'s </span> <span>책장</span>\n          </p>\n          <ul className={cx(\"menu-ul\")}>\n            <li data-value={1}>전체</li>\n            <li data-value={3}>읽기 ({user ? user.want_read.length : 0})</li>\n            <li data-value={4}>읽는중 ({user ? user.reading.length : 0})</li>\n            <li data-value={5}>읽음 ({user ? user.read.length : 0})</li>\n            <li data-value={2}>업로드</li>\n          </ul>\n        </div>\n        <div>\n          <table>\n            <thead>\n              <tr>\n                <th>커버</th>\n                <th>제목</th>\n                <th>저자</th>\n                <th>평균 평점</th>\n                <th>생성 날짜</th>\n                <th>상태</th>\n                {profile && uid === profile._id ? (\n                  <th>설정</th>\n                ) : (\n                  <Fragment></Fragment>\n                )}\n              </tr>\n            </thead>\n            <tbody>{this.getBooks(type)}</tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    profile: state.login.profile,\n    user: state.user.profile\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getUser: uid => dispatch(userActions.getUser(uid)),\n    postShelve: (email, isbn, title, authors, type, thumbnail) =>\n      dispatch(\n        loginActions.postShelve(email, isbn, title, authors, type, thumbnail)\n      ),\n    deleteShelve: (uid, bid, type) =>\n      dispatch(loginActions.deleteShelve(uid, bid, type))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BookShelve);\n","import React from \"react\";\nimport style from \"./Category.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nconst cx = classnames.bind(style);\nconst Category = ({ path }) => {\n  return (\n    <div className={cx(\"category\")}>\n      <ul>\n        <li>\n          <Link to={`/community/reviews`}>최근 리뷰</Link>\n        </li>\n        <li>\n          <Link\n            to={`/community/top-readers`}\n            style={path === \"top-readers\" ? { fontWeight: 800 } : {}}\n          >\n            Top Readers\n          </Link>\n        </li>\n        <li>\n          <Link\n            to={`/community/top-reviewers`}\n            style={path === \"top-reviewers\" ? { fontWeight: 800 } : {}}\n          >\n            Top Reviewers\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Category;\n","import React, { Component, Fragment } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./CommunityContainer.scss\";\nimport img1 from \"../../img/1.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as reviewActions from \"../../reducer/review\";\nimport * as userActions from \"../../reducer/user\";\nimport moment from \"moment\";\nconst cx = classnames.bind(style);\nconst content = (path, info = [], handleType = null, type = null) => {\n  if (path === \"top-readers\") {\n    return (\n      <Fragment>\n        <div className={cx(\"range-container\")}>\n          <span data-value={0} data-role=\"reader\" onClick={handleType}>\n            전체\n          </span>\n          <span> | </span>\n          <span data-value={1} data-role=\"reader\" onClick={handleType}>\n            이번 주\n          </span>\n          <span> | </span>\n          <span data-value={2} data-role=\"reader\" onClick={handleType}>\n            이번 달\n          </span>\n        </div>\n        <table className={cx(\"table\")}>\n          <tbody>\n            {info.length === 0 && (\n              <tr style={{ textAlign: \"center\", border: \"none\" }}>\n                <p>기록이 없습니다.</p>\n              </tr>\n            )}\n            {info.length >= 1 &&\n              info.map((reader, idx) => {\n                return (\n                  <tr key={reader && reader._id}>\n                    <td>{idx + 1}</td>\n                    <td>\n                      <Link to={`/profile/${reader._id}`}>\n                        <img\n                          src={reader && reader.avatarUrl}\n                          alt={reader && reader.avatarUrl}\n                        />\n                      </Link>\n                    </td>\n                    <td>\n                      <Link to={`/profile/${reader._id}`}>\n                        <p>{reader && reader.email}</p>\n                      </Link>\n                      <p>책: {reader && reader.read.length} 권</p>\n                    </td>\n                    <td>\n                      <p>\n                        {parseInt(type) === 0 && <span>전체: </span>}\n                        {parseInt(type) === 1 && <span>이번 주: </span>}\n                        {parseInt(type) === 2 && <span>이번 달: </span>}\n                        <span>{reader && reader.read.length} 권</span>\n                      </p>\n                    </td>\n                  </tr>\n                );\n              })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n  if (path === \"top-reviewers\") {\n    return (\n      <Fragment>\n        <div className={cx(\"range-container\")}>\n          <span data-value={0} data-role=\"reviewer\" onClick={handleType}>\n            전체\n          </span>\n          <span> | </span>\n          <span data-value={1} data-role=\"reviewer\" onClick={handleType}>\n            이번 주\n          </span>\n          <span> | </span>\n          <span data-value={2} data-role=\"reviewer\" onClick={handleType}>\n            이번 달\n          </span>\n        </div>\n        <table className={cx(\"table\")}>\n          <tbody>\n            {info.length === 0 && (\n              <tr style={{ textAlign: \"center\", border: \"none\" }}>\n                <p>기록이 없습니다.</p>\n              </tr>\n            )}\n            {info.length > 0 &&\n              info.map((reviewer, idx) => {\n                return (\n                  <tr key={reviewer._id}>\n                    <td>{idx + 1}</td>\n                    <td>\n                      <img src={reviewer.avatarUrl} alt={reviewer.avatarUrl} />\n                    </td>\n                    <td>\n                      <p>{reviewer.email}</p>\n                      <p>{reviewer.reviews.length} 리뷰</p>\n                    </td>\n                    <td>\n                      <p>\n                        {parseInt(type) === 0 && <span>전체: </span>}\n                        {parseInt(type) === 1 && <span>이번 주: </span>}\n                        {parseInt(type) === 2 && <span>이번 달: </span>}\n                        <span>{reviewer.reviews.length} 리뷰</span>\n                      </p>\n                    </td>\n                  </tr>\n                );\n              })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n  if (path === \"reviews\") {\n    return (\n      <Fragment>\n        {info.length === 0 && (\n          <p style={{ textAlign: \"center\" }}>기록이 없습니다.</p>\n        )}\n        {info.length > 0 &&\n          info.map(review => {\n            return (\n              <div key={review && review._id} className={cx([\"card\", \"row\"])}>\n                <div className={cx(\"first-col\")}>\n                  <Link\n                    to={`/book/${review && review.book && review.book.isbn}`}\n                  >\n                    <img\n                      src={review && review.book && review.book.thumbnail}\n                      alt={review && review.book && review.book.title}\n                    />\n                  </Link>\n                </div>\n                <div className={cx(\"second-col\")}>\n                  <p className={cx(\"date\")}>\n                    {review &&\n                      moment(review.createdAt).format(\"YYYY/MM/DD HH:MM:DD\")}\n                  </p>\n                  <p className={cx(\"reviewer\")}>\n                    <Link to={`/profile/${review && review.reviewer._id}`}>\n                      {review && review.reviewer.email}\n                    </Link>\n                  </p>\n                  <h4 className={cx(\"title\")}>\n                    <Link\n                      to={`/book/${review && review.book && review.book.isbn}`}\n                    >\n                      {review && review.book && review.book.title}\n                    </Link>\n                  </h4>\n                  <div className={cx(\"content\")}>\n                    <img\n                      src={\n                        review && review.reviewer && review.reviewer.avatarUrl\n                      }\n                      alt={review && review.reviewer.email}\n                    />\n                    <p>{review && review.content}</p>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n      </Fragment>\n    );\n  }\n};\nclass CommunityContainer extends Component {\n  state = {\n    type: 0\n  };\n  componentDidMount() {\n    this.getReviews();\n    this.getTopReaders();\n    this.getTopReviewers();\n  }\n  getReviews = async () => {\n    const { getReviews } = this.props;\n    try {\n      await getReviews();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getTopReaders = async (type = 0) => {\n    const { getTopReaders } = this.props;\n    try {\n      await getTopReaders(type);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getTopReviewers = async (type = 0) => {\n    const { getTopReviewers } = this.props;\n    try {\n      await getTopReviewers(type);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  handleType = e => {\n    const { target } = e;\n    const value = target.getAttribute(\"data-value\");\n    const role = target.getAttribute(\"data-role\");\n    if (role === \"reader\") this.getTopReaders(value);\n    if (role === \"reviewer\") this.getTopReviewers(value);\n    this.setState({\n      type: value\n    });\n  };\n  render() {\n    const { path, reviews, topReaders, topReviewers } = this.props;\n    const { type } = this.state;\n    return (\n      <div className={cx(\"community-container\")}>\n        {path === \"reviews\" && (\n          <div className={cx(\"reviews\")}>{content(\"reviews\", reviews)}</div>\n        )}\n        {path === \"top-readers\" && (\n          <div>{content(\"top-readers\", topReaders, this.handleType, type)}</div>\n        )}\n        {path === \"top-reviewers\" && (\n          <div>\n            {content(\"top-reviewers\", topReviewers, this.handleType, type)}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    reviews: state.review.reviews,\n    topReaders: state.user.topReaders,\n    topReviewers: state.user.topReviewers\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getReviews: () => dispatch(reviewActions.getReviews()),\n    getTopReaders: (type = 0) => dispatch(userActions.getTopReaders(type)),\n    getTopReviewers: (type = 0) => dispatch(userActions.getTopReviewers(type))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CommunityContainer);\n","import React, { Component, Fragment } from \"react\";\nimport Category from \"../components/Category\";\nimport CommunityContainer from \"../components/CommunityContainer/CommunityContainer\";\nclass Community extends Component {\n  render() {\n    const {\n      history: {\n        location: { pathname }\n      }\n    } = this.props;\n    const path = pathname.substr(1).split(\"/\")[1];\n    return (\n      <Fragment>\n        <div style={{ paddingTop: \"70px\" }}>\n          <Category path={path} />\n          <CommunityContainer path={path} />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Community;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./route/Home\";\nimport Login from \"./route/Login\";\nimport SignUp from \"./route/SignUp\";\nimport Profile from \"./route/Profile\";\nimport Detail from \"./route/Detail\";\nimport Footer from \"./components/Footer\";\nimport Search from \"./route/Search\";\nimport Edit from \"./route/Edit\";\nimport Upload from \"./route/Upload\";\nimport Header from \"./components/Header\";\nimport NoMatch from \"./route/NoMatch\";\nimport BookShelve from \"./components/BookShelve/BookShelve\";\nimport Community from \"./route/Community\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/\" exact component={Home}></Route>\n        <Route path=\"/book/:id\" component={Detail}></Route>\n        <Route path=\"/login\" component={Login}></Route>\n        <Route path=\"/search\" component={Search}></Route>\n        <Route path=\"/signup\" component={SignUp}></Route>\n        <Route path=\"/edit\" component={Edit}></Route>\n        <Route path=\"/me\" component={Profile}></Route>\n        <Route path=\"/upload\" component={Upload}></Route>\n        <Route path=\"/community/reviews\" component={Community}></Route>\n        <Route path=\"/community/top-readers\" component={Community}></Route>\n        <Route path=\"/community/top-reviewers\" component={Community}></Route>\n        <Route path=\"/profile/:id\" component={Profile}></Route>\n        <Route path=\"/shelve/:id\" component={BookShelve}></Route>\n        <Route component={NoMatch} />\n      </Switch>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\n\nconst POST_SHELVE = \"POST_SHELVE\";\nconst POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nconst POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nconst POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nconst requsetPostShelve = (email, isbn, title, authors, type, thumbnail) => {\n  return axios.post(`http://localhost:8080/shelve`, {\n    email,\n    isbn,\n    title,\n    authors,\n    type,\n    thumbnail\n  });\n};\nexport const postShelve = (email, isbn, title, authors, type, thumbnail) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, isbn, title, authors, type, thumbnail)\n});\nconst initialState = {\n  pending: false,\n  error: false\n};\nexport default handleActions(\n  {\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        pending: true,\n        error: false\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {},\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true\n      };\n    }\n  },\n  initialState\n);\n","import { combineReducers } from \"redux\";\nimport books from \"./books\";\nimport signup from \"./signup\";\nimport login from \"./login\";\nimport review from \"./review\";\nimport shelve from \"./shelve\";\nimport user from \"./user\";\nimport upload from \"./upload\";\nconst reducer = combineReducers({\n  books,\n  signup,\n  login,\n  review,\n  shelve,\n  user,\n  upload\n});\nexport default reducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport reducer from \"../reducer\";\nimport logger from \"redux-logger\";\nimport { createPromise } from \"redux-promise-middleware\";\nconst customizePromiseMiddleware = createPromise({\n  promiseTypeSuffixes: [\"PENDING\", \"SUCCESS\", \"FAILURE\"]\n});\nconst store = createStore(reducer, applyMiddleware(customizePromiseMiddleware));\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/1.f081dab0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/go_back.62137145.png\";"],"sourceRoot":""}