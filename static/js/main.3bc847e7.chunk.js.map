{"version":3,"sources":["components/HomeSection/HomeSection.js","components/ScrollItem/ScrollItem.js","components/SlickList/SlickList.js","reducer/login.js","components/Modal/Modal.js","components/Book/Book.js","components/BookList/BookList.js","components/VerticalScroll/VerticalScroll.js","components/VerticalScroll/index.js","components/HomeContent/HomeContent.js","components/Helmet/index.js","components/Helmet/Helmet.js","reducer/books.js","components/Loading/Loading.js","components/Loading/index.js","route/Home/index.js","route/Home/Home.js","components/SocialLogin/SocialLogin.js","components/LoginForm/LoginForm.js","components/Notice/Notice.js","components/Notice/index.js","route/Login/Login.js","components/SignUpForm/SignUpForm.js","reducer/signup.js","route/SignUp/SignUp.js","utills.js","components/UserEdit/UserEdit.js","reducer/review.js","reducer/user.js","components/ReviewModal/ReviewModal.js","components/ReviewModal/index.js","components/UserReview/UserReview.js","components/UserProfile/UserProfile.js","route/Profile/index.js","route/Profile/Profile.js","components/Rater/Rater.js","components/Review/Review.js","components/BookDetail/BookDetail.js","route/Detail/index.js","route/Detail/Detail.js","components/Footer/Footer.js","route/Search/Search.js","route/Search/index.js","reducer/upload.js","components/BookUpload/BookUpload.js","route/Upload/Upload.js","components/SearchBar/SearchBar.js","components/Header/Header.js","route/NoMatch/NoMatch.js","route/NoMatch/index.js","components/BookShelve/BookShelve.js","components/Category/Category.js","components/CommunityContainer/CommunityContainer.js","route/Community/index.js","route/Community/Community.js","components/FloatingButton/FloatingButton.js","App.js","reducer/shelve.js","reducer/index.js","store/configure.js","index.js","img/go_back.png"],"names":["cx","classname","bind","style","HomeSection","className","classnames","ScrollItem","children","SlickList","books","useState","dots","infinite","speed","slidesToShow","slidesToScroll","adaptiveHeight","autoplay","autoplaySpeed","settings","setSettings","checkSize","useCallback","innerWidth","window","useEffect","addEventListener","removeEventListener","slice","map","book","key","v4","to","_id","src","thumbnail","alt","title","dotenv","config","axios","defaults","baseURL","requestLogin","id","pw","post","email","password","requestCheck","atk","create","headers","Authorization","requsetPostShelve","type","requestDeleteShelve","uid","console","log","delete","data","requestDeleteReview","rid","requestEditProfile","check","payload","postShelve","deleteShelve","bid","deleteReview","handleActions","state","action","loginPending","loginError","loginSuccess","profile","isLoggedIn","pending","error","logoutPending","logoutError","logoutSuccess","postShelvePending","postShelveSuccess","postShelveError","success","convertType","read","want_read","reading","Modal","handleSubmit","handleCancel","item","setTo","setBook","dispatch","useDispatch","useSelector","login","handleSelect","e","target","options","selectedIndex","value","handleChange","a","user","changeTitle","changeGenres","genres","changeContents","contents","role","aria-label","onClick","undefined","defaultValue","onChange","onSubmit","placeholder","connect","actions","props","from","isOpen","setOpen","authors","format","forEach","ele","formatAuthors","length","substr","isMe","location","href","endsWith","handleEdit","cur","handleDelete","booklist","handleMore","done","filter","includes","color","size","VerticalScroll","icon","faBook","HomeContent","handleClick","sliderBooks","recentBooks","popularBooks","setIsMobile","hide","setHide","category","data-value","faAngleDown","faAngleUp","Helmet","keywords","description","name","content","property","URL","requestAllBooks","page","get","decodeURI","requestgetBooks","query","requestInfo","requestPostRate","vote","requestEditBook","put","getAllBooks","getBooks","getMore","getDetail","sliderPending","sliderError","sliderSuccess","allBookPending","allBookError","allBookDone","parseInt","morePending","moreError","documents","vote_pending","vote_error","vote_success","bookPending","bookError","bookSuccess","votes","recentPending","recentError","recentSuccess","popularPending","popularError","popularSuccess","editBookPending","editBookSuccess","editBookFailure","allBookPerror","total","term","bookFailure","Loading","Home","isLoading","setIsLoading","setType","setPage","dataset","SocialLogin","LoginForm","loginRequest","login_success","login_pending","setEmail","setPassword","preventDefault","handleEmail","handlePassword","required","Notice","Login","handleLogin","status","t","token","localStorage","setItem","SignUpForm","handleSignUp","p1","p2","handlePassword1","handlePassword2","requestSignUp","userSignup","signup_pending","signup_success","signup_error","SignUp","history","signup","p","getAtk","getItem","getAvg","i","toFixed","UserEdit","img","handleClose","seletedImg","avatarUrl","nickname","website","intro","interest","setContent","submitEdit","formData","FormData","append","handleFile","files","file","render","createObjectURL","document","querySelector","readURL","handleNickName","handleWebSite","handleInterest","handleIntro","position","requestGetReviews","limit","requestPostReview","requestEditReview","requestLikeReview","getReviews","getReview","isbn","postReview","editReview","postLike","loadReviewsPending","loadReviewsError","loadReviewsSuccess","loadReviewsDone","reviews","postReviewPending","postReviewSuccess","postReviewError","review","idx","updatedReviews","requestUser","getUser","readers","topReaders","reviewers","topReviewers","ReviewModal","checkUser","handleEditReview","UserReview","setReview","setIsOpen","me","userloading","loadUser","currentTarget","getAttribute","handleDeleteReview","handlePostLike","handleLike","alert","mid","moment","createdAt","likes","data-bid","UserProfile","setIdx","setIsMe","handleOpen","handleSetIdx","number","getList","uploaded","display","marginLeft","marginTop","openEdit","Profile","loading","userPending","getProfile","pathname","substring","split","values","starStyle","cursor","Rater","postVote","handleVote","handleOnClick","currentItem","nodeName","parentNode","rating","data-rating","Review","input","setInput","more","setMore","handlePostReview","fill","toggleMore","reviewer","reviewTag","label","BookDetail","selected","setSelected","setStatus","getStatus","checkStatus","voter","emails","s","String","checkUserVote","isSearchable","Detail","match","getBook","params","scrollTo","postRate","Footer","Search","setQuery","handleScroll","q","innerHeight","scrollHeight","body","scrollTop","documentElement","search","replace","requestUpload","BookUpload","author","upload","handleAuthorChange","handleKeyPress","keyCode","handleTitle","handleContents","handleGenres","imgURL","handleDeleteTag","authorTag","previousSibling","innerHTML","newAuthors","onKeyDown","Upload","withRouter","keyword","setKeyword","handleChangeKeyword","push","Header","showMenu","setShowMenu","setIsLogOut","isMobile","handleLogout","removeItem","reload","clickMenu","NoMatch","goBack","BookShelve","openModal","lastPos","shelve","setShelve","tmp","hash","onDeleteShelve","response","Category","path","CommunityContainer","loadMore","faHeart","Community","loadReviews","loadingReviewsDone","FloatingButton","handleToTop","pageYOffset","App","exact","component","reducer","combineReducers","customizePromiseMiddleware","createPromise","promiseTypeSuffixes","store","createStore","applyMiddleware","ReactDOM","getElementById","module","exports"],"mappings":"qTAIMA,EAAKC,IAAUC,KAAKC,KAYXC,EAXK,WAClB,OACE,6BAASC,UAAWL,EAAG,iBACrB,6BAASK,UAAWL,EAAG,UACrB,8CACA,8G,2FCPFA,EAAKM,IAAWJ,KAAKC,KAIZI,EAHI,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpB,OAAO,yBAAKH,UAAWL,EAAG,gBAAiBQ,I,SCIvCR,EAAKM,IAAWJ,KAAKC,KAiDZM,EAhDG,SAAC,GAAe,IAAD,EAAZC,EAAY,EAAZA,MAAY,EACCC,mBAAS,CACvCC,MAAM,EACNC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,gBAAgB,EAChBC,UAAU,EACVC,cAAe,MATc,mBACxBC,EADwB,KACdC,EADc,KAWzBC,EAAYC,uBAAY,WAC5B,IAAMC,EAAaC,OAAOD,WAExBH,EADEG,GAAc,KAAOA,GAAc,IACzB,eACPJ,EADM,CAETL,aAAc,EACdC,eAAgB,IAGN,eACPI,EADM,CAETL,aAAc,EACdC,eAAgB,OAGnB,CAACI,IAQJ,OAPAM,qBAAU,WAGR,OAFAJ,IACAG,OAAOE,iBAAiB,SAAUL,GAC3B,WACLG,OAAOG,oBAAoB,SAAUN,MAEtC,IAED,6BAASjB,UAAWL,EAAG,qBACrB,kBAAC,IAAWoB,EAAZ,OACGV,QADH,IACGA,OADH,YACGA,EAAOmB,MAAM,EAAG,UADnB,aACG,EAAoBC,KAAI,SAACC,GAAD,OACvB,kBAAC,EAAD,CAAYC,IAAKC,eACf,kBAAC,IAAD,CAAMC,GAAE,gBAAWH,EAAKI,MACtB,yBAAKC,IAAKL,EAAKM,UAAWC,IAAKP,EAAKQ,gB,kGC/ClDC,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,I,EAmCDC,EAAe,SAACC,EAAIC,GACxB,OAAOL,IAAMM,KAAN,QAAoB,CACzBC,MAAOH,EACPI,SAAUH,KAMRI,EAAe,SAACC,GAMpB,OALYV,IAAMW,OAAO,CACvBC,QAAS,CACPC,cAAc,GAAD,OAAKH,MAGXJ,KAAJ,YAGHQ,EAAoB,SAACP,EAAOH,EAAIW,GACpC,OAAOf,IAAMM,KAAN,SAAqB,CAC1BC,QACAH,KACAW,UAGEC,EAAsB,SAACC,EAAKb,EAAIW,GAEpC,OADAG,QAAQC,IAAIF,EAAKb,EAAIW,GACdf,IAAMoB,OAAN,SAAuB,CAC5BC,KAAM,CAAEJ,MAAKb,KAAIW,WAGfO,EAAsB,SAAClB,EAAImB,EAAKN,GACpC,OAAOjB,IAAMoB,OAAN,eAAqBhB,EAArB,mBAAkCmB,GAAO,CAC9CF,KAAM,CACJJ,UAIAO,EAAqB,SAACH,GAC1B,OAAOrB,IAAMM,KAAN,OAAmBe,IAGfI,EAAQ,SAACf,GAAD,MAAU,CAC7BK,KA9EwB,aA+ExBW,QAASjB,EAAaC,KAcXiB,EAAa,SAACpB,EAAOH,EAAIW,GAAZ,MAAsB,CAC9CA,KA/EyB,cAgFzBW,QAASZ,EAAkBP,EAAOH,EAAIW,KAE3Ba,EAAe,SAACX,EAAKY,EAAKd,GAAX,MAAqB,CAC/CA,KA9E2B,gBA+E3BW,QAASV,EAAoBC,EAAKY,EAAKd,KAE5Be,EAAe,SAAC1B,EAAImB,EAAKN,GAAV,MAAmB,CAC7CF,KA7E2B,gBA8E3BW,QAASJ,EAAoBlB,EAAImB,EAAKN,KAoBzBc,gBAAa,mBArHC,iBAwHR,SAACC,EAAOC,GACvB,OAAO,eACFD,EADL,CAEEE,cAAc,EACdC,YAAY,EACZC,cAAc,OARM,cApHC,iBA+HR,SAACJ,EAAOC,GACvB,MAAO,CACLI,QAASJ,EAAOP,QAAQL,KACxBa,cAAc,EACdC,YAAY,EACZC,cAAc,EACdE,YAAY,MAjBQ,cAnHC,iBAuIR,SAACN,EAAOC,GAEvB,OADAf,QAAQC,MACD,eACFa,EADL,CAEEE,cAAc,EACdC,YAAY,EACZC,cAAc,EACdE,YAAY,OA3BQ,cA1HM,sBAyJR,SAACN,EAAOC,GAC5B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,EACPF,YAAY,OApCQ,cAzHM,sBAgKR,SAACN,EAAOC,GAE5B,MAAO,CACLM,SAAS,EACTC,OAAO,EACPF,YAAY,EACZD,QAASJ,EAAOP,QAAQL,SA7CJ,cAxHM,sBAwKR,SAACW,EAAOC,GAC5B,MAAO,CACLM,SAAS,EACTC,OAAO,EACPF,YAAY,MApDQ,cAhHE,kBAwKR,SAACN,EAAOC,GACxB,OAAO,eACFD,EADL,CAEES,eAAe,EACfC,aAAa,EACbC,eAAe,OA7DK,cA/GE,kBA+KR,SAACX,EAAOC,GAExB,OAAO,eACFD,EADL,CAEES,eAAe,EACfC,aAAa,EACbC,eAAe,EACfL,YAAY,EACZD,QAAS,QAxEW,cA9GE,kBAyLR,SAACL,EAAOC,GACxB,OAAO,eACFD,EADL,CAEES,eAAe,EACfC,aAAa,EACbC,eAAe,OAhFK,cA3GO,uBA+LR,SAACX,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEY,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,OAzFG,cA1GO,uBAsMR,SAACd,EAAOC,GAAY,IACjCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,eACFW,EADL,CAEEY,mBAAmB,EACnBC,mBAAmB,EACnBR,QAAShB,OAlGW,cAzGO,uBA8MR,SAACW,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEY,mBAAmB,EACnBE,iBAAiB,OAzGG,cAtGS,yBAkNR,SAACd,EAAOC,GAC/B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAhHa,cArGS,yBAwNR,SAACR,EAAOC,GAAY,IACnCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,eACFW,EADL,CAEEK,QAAShB,EACTkB,SAAS,EACTC,OAAO,OAzHa,cApGS,yBAgOR,SAACR,EAAOC,GAC/B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAhIa,cAjGS,yBAoOR,SAACR,EAAOC,GAC/B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAvIa,cAhGS,yBA0OR,SAACR,EAAOC,GAAY,IACnCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,eACFW,EADL,CAEEO,SAAS,EACTC,OAAO,EACPH,QAAShB,OAhJW,cA/FS,yBAkPR,SAACW,EAAOC,GAC/B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAvJa,GAjBP,CACnBD,SAAS,EACTC,OAAO,EACPO,SAAS,EACTV,QAAS,GACTC,YAAY,EACZJ,cAAc,EACdC,YAAY,EACZC,cAAc,EACdK,eAAe,EACfE,eAAe,EACfD,aAAa,EACbE,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,I,gDC3HbxF,GAAKM,IAAWJ,KAAKC,MACrBuF,GAAc,CAClBC,KAAM,sBACNC,UAAW,sBACXC,QAAS,sBAyHIC,GAvHD,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,aAAcC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,KAAMxC,EAAW,EAAXA,KAAW,EACxC9C,mBAAS+E,GAAYjC,IADmB,mBACrDvB,EADqD,KACjDgE,EADiD,OAEpCvF,mBAAS,eAAKsF,IAFsB,mBAErDlE,EAFqD,KAE/CoE,EAF+C,KAGtDC,EAAWC,cACTtB,EAAYuB,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAAzCxB,QACFyB,EAAejF,uBAAY,SAACkF,GAAO,IAC/BC,EAAWD,EAAXC,OACRR,EAAMQ,EAAOC,QAAQD,EAAOE,eAAeC,SAC1C,IACGC,EAAevF,sBAAW,yCAC9B,WAAOkF,GAAP,gBAAAM,EAAA,sDACUC,EAASjC,EAATiC,KAER,IACEZ,EAAS/B,EAAW2C,EAAK/D,MAAOgD,EAAK9D,IAAKD,IAC1C,MAAOgD,GACPtB,QAAQC,IAAIqB,GANhB,2CAD8B,sDAU9B,CAACe,EAAM/D,EAAI6C,EAASqB,IAEhBa,EAAc1F,uBAClB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRP,EAAQ,eACHpE,EADE,CAELQ,MAAOmE,EAAOG,WAGlB,CAAC9E,IAEGmF,EAAe3F,uBACnB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRP,EAAQ,eACHpE,EADE,CAELoF,OAAQT,EAAOG,WAGnB,CAAC9E,IAEGqF,EAAiB7F,uBACrB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRP,EAAQ,eACHpE,EADE,CAELsF,SAAUX,EAAOG,WAGrB,CAAC9E,IAEH,OACE,yBAAK1B,UAAU,mBACb,yBAAKA,UAAU,kBACf,yBAAKA,UAAU,SACb,uBAAGA,UAAWL,GAAG,SACf,0BAAMsH,KAAK,MAAMC,aAAW,SAASC,QAASxB,GAA9C,gBAIQyB,IAAThE,EACC,oCACE,yBAAKrB,IAAK6D,EAAK5D,UAAWC,IAAK2D,EAAKnD,KACpC,yBAAKzC,UAAWL,GAAG,mBACjB,yBAAKK,UAAWL,GAAG,gBACjB,4DACA,uBAAGK,UAAWL,GAAG,mBAAoB0F,GAAYjC,KAEnD,4BACEpD,UAAWL,GAAG,UACd0H,aAAcxF,EACdyF,SAAUnB,GAEV,4BAAQK,MAAO,aAAf,uBACA,4BAAQA,MAAO,WAAf,wBACA,4BAAQA,MAAO,QAAf,iBAEF,yBAAKxG,UAAWL,GAAG,qBACjB,4BAAQK,UAAWL,GAAG,UAAWwH,QAASV,GAA1C,gBAGA,4BAAQzG,UAAWL,GAAG,cAAewH,QAASxB,GAA9C,mBAON,yBAAK3F,UAAWL,GAAG,wBACjB,yBAAKK,UAAWL,GAAG,kBACjB,yBAAKoC,IAAKL,EAAKM,UAAWC,IAAKP,EAAKQ,SAEtC,0BACElC,UAAWL,GAAG,kBACd4H,SAAU7B,EAAahE,IAEvB,2BACE8E,MAAO9E,EAAKQ,MACZsF,YAAY,eACZF,SAAUV,IAEZ,2BACEJ,MAAO9E,EAAKoF,OACZU,YAAY,eACZF,SAAUT,IAEZ,8BACEL,MAAO9E,EAAKsF,SACZQ,YAAY,eACZF,SAAUP,IAEZ,4BAAQ/G,UAAW,UAAnB,qBCnHRL,GAAKM,IAAWJ,KAAKC,KAoGZ2H,gBAdS,SAACpD,GACvB,MAAO,CACLK,QAASL,EAAM6B,MAAMxB,QACrBU,QAASf,EAAM6B,MAAMd,YAGE,SAACW,GAC1B,MAAO,CACL/B,WAAY,SAACpB,EAAOH,EAAIW,GAAZ,OACV2C,EAAS2B,EAAmB9E,EAAOH,EAAIW,KACzCa,aAAc,SAACxB,EAAIyB,EAAKd,GAAV,OACZ2C,EAAS2B,EAAqBjF,EAAIyB,EAAKd,QAG9BqE,EAnGF,SAACE,GAAW,IACfC,EAAeD,EAAfC,KAAMxE,EAASuE,EAATvE,KADQ,EAEI9C,oBAAS,GAFb,mBAEfuH,EAFe,KAEPC,EAFO,KAUtB,GAAa,SAATF,EAAiB,CAAC,IACZlG,EAASiG,EAATjG,KACR,OACE,yBAAK1B,UAAWL,GAAG,SACjB,yBAAKoC,IAAKL,EAAKM,UAAWC,IAAI,SAC9B,2BAAIP,EAAKQ,QAGR,GAAa,WAAT0F,EAAmB,CAAC,IACrBlG,EAASiG,EAATjG,KACR,OACE,wBAAI1B,UAAWL,GAAG,WAChB,yBAAKK,UAAWL,GAAG,aACjB,kBAAC,IAAD,CAAMkC,GAAE,gBAAWH,EAAKI,MACtB,yBAAKC,IAAKL,EAAKM,UAAWC,IAAI,WAGlC,yBAAKjC,UAAWL,GAAG,aACjB,kBAAC,IAAD,CAAMkC,GAAE,gBAAWH,EAAKI,MACtB,wBAAI9B,UAAWL,GAAG,cAAe+B,EAAKQ,QAExC,uBAAGlC,UAAWL,GAAG,eA5BH,SAACoI,GACrB,IAAIC,EAAS,GAIb,OAHAD,EAAQE,SAAQ,SAACC,GACfF,GAAUE,KAELF,EAuBgCG,CAAczG,EAAKqG,UACpD,uBAAG/H,UAAWL,GAAG,iBACd+B,GAAQA,EAAKsF,SACVtF,EAAKsF,SAASoB,OAAS,IACrB1G,EAAKsF,SAASqB,OAAO,EAAG,KACxB3G,EAAKsF,SACP,oEAKP,GAAa,YAATY,EAAoB,CAAC,IAEpBlG,EAENiG,EAFFjG,KAAQA,KAGJ4G,EAAOlH,OAAOmH,SAASC,KAAKC,SAAS,OASrCC,EAAa,WACjBZ,GAAQ,SAACa,GAAD,OAAUA,MAEpB,OACE,yBAAK3I,UAAWL,GAAG,WACjB,kBAAC,IAAD,CAAMkC,GAAE,uBAAWH,QAAX,IAAWA,OAAX,EAAWA,EAAMI,MACvB,uBAAG9B,UAAWL,GAAG,UAAjB,OAA4B+B,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMQ,QAEnCoG,EACC,yBAAKtI,UAAWL,GAAG,iBACjB,yBAAKK,UAAWL,GAAG,mBACjB,0BAAMK,UAAWL,GAAG,QAASwH,QAASuB,GACpC,kBAAC,IAAD,OAEDb,EACC,kBAAC,GAAD,CAAOzE,KAAMA,EAAMwC,KAAMlE,EAAMiE,aAAc+C,IAC3C,MAEN,6BACE,0BAAM1I,UAAWL,GAAG,UAAWwH,QA3BpB,SAAC/D,GAAD,OAAU,WAAO,IAElCa,EAGE0D,EAHF1D,aACAvC,EAEEiG,EAFFjG,KAGFuC,EADI0D,EADFjD,QAAWiC,KAEK7E,IAAKJ,EAAKI,IAAKsB,IAqBewF,CAAaxF,IACnD,kBAAC,IAAD,SAIJ,U,SCjFNzD,GAAKM,IAAWJ,KAAKC,KAqEZ2H,eAAQ,KAAM,KAAdA,EApEE,SAAC,GAAgD,IAA9CG,EAA6C,EAA7CA,KAAMiB,EAAuC,EAAvCA,SAAUzF,EAA6B,EAA7BA,KAAM0F,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,KACpD,MAAa,SAATnB,EAEA,6BAAS5H,UAAWL,GAAG,cACpBkJ,EACU,iBAATzF,GAAiByF,EAAST,OAAS,EACjC,oCACGS,EAASpH,KAAI,SAACC,GACb,OACE,kBAAC,IAAD,CAAMG,GAAE,gBAAWH,EAAKI,KAAOH,IAAKC,eAClC,kBAAC,GAAD,CAAMF,KAAMA,EAAMkG,KAAMA,SAIpB,IAATmB,GACC,yBAAK/I,UAAWL,GAAG,iBAAkBwH,QAAS2B,GAC5C,sDAKN,oCACGD,EACEG,QAAO,SAACtH,GAAD,oBAAUA,QAAV,IAAUA,OAAV,YAAUA,EAAMoF,cAAhB,aAAU,EAAcmC,SAAS7F,MACxC3B,KAAI,SAACC,GACJ,OACE,kBAAC,IAAD,CAAMG,GAAE,gBAAWH,EAAKI,KAAOH,IAAKC,eAClC,kBAAC,GAAD,CAAMF,KAAMA,EAAMkG,KAAMA,QAI/BiB,EAASG,QAAO,SAACtH,GAAD,oBAAUA,QAAV,IAAUA,OAAV,YAAUA,EAAMoF,cAAhB,aAAU,EAAcmC,SAAS7F,MAAOgF,OACvD,IACS,IAATW,GACE,yBAAK/I,UAAWL,GAAG,iBAAkBwH,QAAS2B,GAC5C,sDAMV,kBAAC,eAAD,CAAaI,MAAM,QAAQC,KAAM,MAIrB,WAATvB,EAEP,6BAAS5H,UAAWL,GAAG,kBACrB,wBAAIK,UAAWL,GAAG,WACfkJ,EAASpH,KAAI,SAACC,GACb,OAAO,kBAAC,GAAD,CAAMA,KAAMA,EAAMkG,KAAMA,EAAMjG,IAAKC,qBAKhC,YAATgG,EAEP,iCACE,4BACGiB,EAASpH,KAAI,SAACC,GACb,OAAO,kBAAC,GAAD,CAAMA,KAAMA,EAAMkG,KAAMA,EAAMjG,IAAKC,cAAMwB,KAAMA,cALzD,K,sCCxDHzD,GAAKM,IAAWJ,KAAKC,MCPZsJ,GDQQ,SAAC,GAAsB,IAApBlH,EAAmB,EAAnBA,MAAO7B,EAAY,EAAZA,MAC/B,OACE,6BAASL,UAAWL,GAAG,aACrB,uBAAGK,UAAWL,GAAG,UACduC,EACD,kBAAC,KAAD,CAAiBlC,UAAWL,GAAG,aAAc0J,KAAMC,QAErD,6BAAStJ,UAAWL,GAAG,SAAvB,OACGU,QADH,IACGA,OADH,EACGA,EAAOoB,KAAI,SAACC,GAAD,OACV,kBAAC,IAAD,CAAMC,IAAKC,cAAMC,GAAE,gBAAWH,EAAKI,MACjC,kBAAC,GAAD,CAAMJ,KAAMA,EAAMkG,KAAM,gBET9BjI,GAAKM,IAAWJ,KAAKC,KAyGZyJ,GAxGK,SAAC,GASd,IARLV,EAQI,EARJA,SACAW,EAOI,EAPJA,YACAV,EAMI,EANJA,WACAW,EAKI,EALJA,YACAC,EAII,EAJJA,YACAC,EAGI,EAHJA,aACAvG,EAEI,EAFJA,KACA2F,EACI,EADJA,KACI,EAC4BzI,oBAAS,GADrC,mBACasJ,GADb,aAEoBtJ,oBAAS,GAF7B,mBAEGuJ,EAFH,KAESC,EAFT,OAG4BxJ,mBAAS,CACvC,eACA,eACA,KACA,eACA,eACA,2BACA,eACA,eACA,eACA,iBAbE,mBAGGyJ,EAHH,KAeE9I,GAfF,KAec,WAChB,IAAME,EAAaC,OAAOD,WAExByI,EADEzI,GAAc,KAAOA,GAAc,OAiBzC,OAPAE,qBAAU,WAGR,OAFAJ,IACAG,OAAOE,iBAAiB,SAAUL,GAC3B,WACLG,OAAOG,oBAAoB,SAAUN,OAIvC,6BAASjB,UAAWL,GAAG,iBACrB,kBAAC,EAAD,CAAWU,MAAOoJ,IAClB,kBAAC,GAAD,CACEvH,MAAO,yCACP7B,MAAOqJ,EAAYlI,MAAM,EAAG,MAE9B,kBAAC,GAAD,CAAgBU,MAAO,mCAAW7B,MAAOsJ,IACzC,6BAAS3J,UAAWL,GAAG,kBACrB,6BAASK,UAAWL,GAAG,0BACrB,yBAAKK,UAAWL,GAAG,sBACjB,wBAAIK,UAAWL,GAAG,qBACfkK,EACGE,EAASvI,MAAM,EAAG,GAAGC,KAAI,SAACmE,GAAD,OACvB,wBACEjE,IAAKC,cACL5B,UAAWL,GAAG,mBAAD,UAERyD,IAASwC,EAAT,WAA6B,KAElCuB,QAASqC,EACTQ,aAAYpE,GAEXA,MAGLmE,EAAStI,KAAI,SAACmE,GAAD,OACX,wBACEjE,IAAKC,cACL5B,UAAWL,GAAG,mBAAD,UAERyD,IAASwC,EAAT,WAA6B,KAElCuB,QAASqC,EACTQ,aAAYpE,GAEXA,QAKb,yBAAK5F,UAAWL,GAAG,kBAAmBwH,QApD3B,WACjB2C,GAAQ,SAACnB,GAAD,OAAUA,OAoDTkB,EAAO,sBAAS,qBACjB,kBAAC,KAAD,CACE7J,UAAWL,GAAG,QACd0J,KAAMQ,EAAOI,KAAcC,SAIjC,kBAAC,GAAD,CACErB,SAAUA,EACVC,WAAYA,EACZlB,KAAM,OACNxE,KAAMA,EACN2F,KAAMA,O,SC3GDoB,GCEK,SAAC,GAAsC,IAApCjI,EAAmC,EAAnCA,MAAOkI,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YACtC,OACE,kBAACF,GAAA,EAAD,KACGE,GAAe,0BAAMC,KAAK,cAAcC,QAASF,IACjDD,GAAY,0BAAME,KAAK,WAAWC,QAASH,IAC5C,+BAAQlI,GACR,0BAAMsI,SAAS,WAAWD,QAASrI,IACnC,0BAAMoI,KAAK,gBAAgBC,QAASrI,M,SCP1CC,IAAOC,SACP,IAAMqI,GAGJ,kCAyDFlH,QAAQC,IAAIiH,IACZ,IAAMC,GAAkB,SAACtH,EAAMuH,GAC7B,OAAOtI,IAAMuI,IAAN,UAAaH,GAAb,sBAA8BI,UAAUzH,GAAxC,iBAAsDuH,KAKzDG,GAAkB,SAACC,EAAO3H,EAAMuH,GACpC,OAAOtI,IAAMuI,IAAN,UAAaH,GAAb,yBAAiCI,UAAUE,GAA3C,SAA0D,KAE7DC,GAAc,SAACvI,GACnB,OAAOJ,IAAMuI,IAAN,UAAaH,GAAb,gBAAwBhI,KAE3BwI,GAAkB,SAACxI,EAAI6H,EAAMY,GACjC,OAAO7I,IAAMM,KAAN,UAAc8H,GAAd,gBAAyBhI,GAAM,CACpCyI,OACAZ,UASEa,GAAkB,SAACzH,GAAU,IACzB5B,EAAiC4B,EAAjC5B,IAAKI,EAA4BwB,EAA5BxB,MAAO8E,EAAqBtD,EAArBsD,SAAUF,EAAWpD,EAAXoD,OAC9B,OAAOzE,IAAM+I,IAAN,UAAaX,GAAb,gBAAwB3I,GAAO,CACpCI,QACA8E,WACAF,YAISuE,GAAc,SAACjI,EAAMuH,GAAP,MAAiB,CAC1CvH,KA1FuB,YA2FvBW,QAAS2G,GAAgBtH,EAAMuH,KAkBpBW,GAAW,eAACP,EAAD,uDAAS,IAAT,sHAAsC,CAC5D3H,KA1F8B,mBA2F9BW,QAAS+G,GAAgBC,KAEdQ,GAAU,eAACR,EAAD,uDAAS,GAAT,sHAAqC,CAC1D3H,KAzF4B,iBA0F5BW,QAAS+G,GAAgBC,KAEdS,GAAY,SAAC/I,GAAD,MAAS,CAChCW,KAzEwB,aA0ExBW,QAASiH,GAAYvI,KAwCR2B,gBAAa,iBAAC,EAzJW,4BA2JR,SAACC,EAAOC,GAClC,OAAO,eACFD,EADL,CAEEoH,eAAe,EACfC,aAAa,EACbC,eAAe,OAPK,YAAC,EAxJW,4BAkKR,SAACtH,EAAOC,GAAY,IAEpCjE,EACNiE,EAAOP,QADTL,KAAQrD,MAEV,OAAO,eACFgE,EADL,CAEEoF,YAAapJ,EACboL,eAAe,EACfE,eAAe,OAlBK,YAAC,EAvJW,4BA4KR,SAACtH,EAAOC,GAClC,OAAO,eACFD,EADL,CAEEoH,eAAe,EACfC,aAAa,OAzBO,YAAC,EA9JI,qBA2LR,SAACrH,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAjCa,YAAC,EA7JI,qBAiMR,SAACR,EAAOC,GAAY,IAAD,EAGlCA,EAAOP,QADTL,KAAQrD,EAF4B,EAE5BA,MAAOsK,EAFqB,EAErBA,KAEjB,OAAO,eACFtG,EADL,CAEEuH,gBAAgB,EAChBC,cAAc,EACdC,YAAazL,EAAM+H,OAAS,GAC5B/H,WACkB+G,IAAhB/C,EAAMhE,OAA8C,IAAvB0L,SAASpB,EAAM,IACxCtK,EADJ,uBAEQgE,EAAMhE,OAFd,aAEwBA,SAhDN,YAAC,EA5JI,qBA+MR,SAACgE,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAvDa,YAAC,EA1IW,4BAoMR,SAACR,EAAOC,GAClC,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OA9Da,YAAC,EAzIW,4BA0MR,SAACR,EAAOC,GAAY,IAEpCjE,EACNiE,EAAOP,QADTL,KAAQrD,MAEV,OAAO,eACFgE,EADL,CAEEO,SAAS,EACTC,OAAO,EACPxE,MAAOA,OAzEa,YAAC,EArIS,0BAiNR,SAACgE,EAAOC,GAChC,OAAO,eACFD,EADL,CAEE2H,aAAa,EACbC,WAAW,OAhFS,YAAC,EApIS,0BAuNR,SAAC5H,EAAOC,GAAY,IAElC4H,EACN5H,EAAOP,QADTL,KAAQwI,UAEV,OAAO,eACF7H,EADL,CAEE2H,aAAa,EACbC,WAAW,EACX5L,MAAM,GAAD,oBAAMgE,EAAMhE,OAAZ,aAAsB6L,SA3FP,YAAC,EAnIS,0BAiOR,SAAC7H,EAAOC,GAChC,OAAO,eACFD,EADL,CAEE2H,aAAa,EACbC,WAAW,OAlGS,YAAC,EA5GI,qBAiNR,SAAC5H,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEE8H,cAAc,EACdC,YAAY,EACZC,cAAc,OA1GM,YAAC,EA3GI,qBAwNR,SAAChI,EAAOC,GAAY,IAE7B5C,EACN4C,EAAOP,QADTL,KAAQhC,KAGV,OAAO,eACF2C,EADL,CAEE8H,cAAc,EACdC,YAAY,EACZC,cAAc,EACd3K,YAvHoB,YAAC,EA1GI,qBAoOR,SAAC2C,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEE8H,cAAc,EACdC,YAAY,EACZC,cAAc,OA/HM,YAAC,EAjHK,sBAmPR,SAAChI,EAAOC,GAC5B,OAAO,eACFD,EADL,CAEEiI,aAAa,EACbC,WAAW,OAtIS,YAAC,EAhHK,sBAyPR,SAAClI,EAAOC,GAAY,IAE9B5C,EACN4C,EAAOP,QADTL,KAAQhC,KAEV,OAAO,eACF2C,EADL,CAEEiI,aAAa,EACbE,aAAa,EACb9K,OACA+K,MAAO/K,EAAK+K,WAlJQ,YAAC,EA/GK,sBAoQR,SAACpI,EAAOC,GAC5B,OAAO,eACFD,EADL,CAEEiI,aAAa,EACbC,WAAW,OAzJS,YAAC,EA/IW,4BA2SR,SAAClI,EAAOC,GAClC,OAAO,eACFD,EADL,CAEEqI,eAAe,EACfC,aAAa,EACbC,eAAe,OAjKK,YAAC,EA9IW,4BAkTR,SAACvI,EAAOC,GAAY,IACtCZ,EAASY,EAAOP,QAAhBL,KAER,OAAO,eACFW,EADL,CAEEqF,YAAahG,EACbgJ,eAAe,EACfE,eAAe,OA3KK,YAAC,EA7IW,4BA2TR,SAACvI,EAAOC,GAClC,OAAO,eACFD,EADL,CAEEqI,eAAe,EACfC,aAAa,OAlLO,YAAC,EApJY,6BAyUR,SAACtI,EAAOC,GACnC,OAAO,eACFD,EADL,CAEEwI,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,OA1LI,YAAC,EAnJY,6BAgVR,SAAC1I,EAAOC,GAAY,IACvCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,eACFW,EADL,CAEEsF,aAAcjG,EACdmJ,gBAAgB,EAChBE,gBAAgB,OAnMI,YAAC,EAlJY,6BAwVR,SAAC1I,EAAOC,GACnC,OAAO,eACFD,EADL,CAEEwI,gBAAgB,EAChBC,cAAc,OA1MM,YAAC,EA3HI,qBAwUR,SAACzI,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEE2I,iBAAiB,EACjBC,iBAAiB,EACjBC,iBAAiB,OAlNG,YAAC,EA1HI,qBA+UR,SAAC7I,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEE2I,iBAAiB,EACjBC,iBAAiB,OAzNG,YAAC,EAzHI,qBAqVR,SAAC5I,EAAOC,GAC3B,OAAO,eACFD,EADL,CAEE2I,iBAAiB,EACjBE,iBAAiB,OAhOG,GAjCP,CACnBtB,gBAAgB,EAChBuB,eAAe,EACfrB,aAAa,EACbzL,MAAO,GACP2L,aAAa,EACbC,UAAW,GACXxC,YAAa,GACbgC,eAAe,EACfC,aAAa,EACbC,eAAe,EACfyB,MAAO,EACPjB,cAAc,EACdC,YAAY,EACZC,cAAc,EACdgB,KAAM,GACN3L,KAAM,GACN4K,aAAa,EACbE,aAAa,EACbc,aAAa,EACb5D,YAAa,GACbgD,eAAe,EACfC,aAAa,EACbC,eAAe,EACfjD,aAAc,GACdkD,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,EAChBC,iBAAiB,EACjBC,iBAAiB,EACjBC,iBAAiB,I,oBCjKbvN,GAAKM,IAAWJ,KAAKC,MCHZyN,GDIC,WACd,OACE,6BAASvN,UAAWL,GAAG,YACrB,kBAAC,eAAD,CAAauJ,MAAM,QAAQC,KAAM,OEPxBqE,GCYF,WAAO,IAAD,EACiBlN,oBAAS,GAD1B,mBACVmN,EADU,KACCC,EADD,OAEOpN,mBAAS,gBAFhB,mBAEV8C,EAFU,KAEJuK,EAFI,OAGOrN,mBAAS,GAHhB,mBAGVqK,EAHU,KAGJiD,EAHI,KAIX7H,EAAWC,cAJA,EAebC,aAAY,SAAC5B,GAAD,OAAWA,EAAMhE,SAT/ByL,EANe,EAMfA,YACAF,EAPe,EAOfA,eACAH,EARe,EAQfA,cACAiB,EATe,EASfA,cACAG,EAVe,EAUfA,eACAxM,EAXe,EAWfA,MACAoJ,EAZe,EAYfA,YACAC,EAbe,EAafA,YACAC,EAde,EAcfA,aAGFtI,qBAAU,WACRqM,GAAa,GACb3H,EAASsF,GAAY,eAAM,IAC3BtF,EJqEiC,CACnC3C,KAzF8B,mBA0F9BW,QAnCO1B,IAAMuI,IAAN,UAAaH,GAAb,mBInCL1E,EJwEiC,CACnC3C,KAnF8B,mBAoF9BW,QAxBO1B,IAAMuI,IAAN,UAAaH,GAAb,mBIjDL1E,EJ2EkC,CACpC3C,KA5F+B,oBA6F/BW,QAzBO1B,IAAMuI,IAAN,UAAaH,GAAb,oBInDLiD,GAAa,KACZ,CAAC3H,IACJ,IAAMyD,EAActI,uBAClB,SAACkF,GAAO,IAEMyH,EACRzH,EADFC,OAAUwH,QAEZF,EAAQE,EAAQrH,SAElB,CAACmH,IAEG7E,EAAa5H,uBAAY,WACxB4K,IACH/F,EAASsF,GAAY,eAAMV,EAAO,IAClCiD,EAAQjD,EAAO,MAEhB,CAAC5E,EAAU4E,EAAMmB,IACpB,OACE,8BACE,kBAAC,GAAD,CACE5J,MAAK,mBACLmI,YACE,qLAEFD,SAAQ,2EAETqD,GACD7B,GACAH,GACAiB,GACAG,EACE,kBAAC,GAAD,MAEA,oCACE,kBAAC,EAAD,MACA,kBAAC,GAAD,CACEhE,SAAUxI,EACVoJ,YAAaA,EACbC,YAAaA,EACbC,aAAcA,EACdH,YAAaA,EACbV,WAAYA,EACZC,KAAM+C,EACN1I,KAAMA,EACNuH,KAAMA,O,wCC5EZhL,GAAKM,IAAWJ,KAAKC,MAiBZgO,GAhBK,SAAC,GAAc,IAAZ1K,EAAW,EAAXA,KACrB,OACE,yBAAKpD,UAAWL,GAAG,iBACjB,4BACY,UAATyD,EAAmB,qBAAuB,yBAE7C,4BAAQpD,UAAWL,GAAG,SAAU,WAC9B,0BAAMK,UAAWL,GAAG,SAClB,kBAAC,IAAD,OAFJ,2CCNAA,GAAKM,IAAWJ,KAAKC,MA8CZiO,GA7CG,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,aAAiD,KAAnCC,cAAmC,EAApBC,cACtB5N,mBAAS,KADiC,mBAC7DsC,EAD6D,KACtDuL,EADsD,OAEpC7N,mBAAS,IAF2B,mBAE7DuC,EAF6D,KAEnDuL,EAFmD,KAG9D1I,EAAexE,uBACnB,SAACkF,GACCA,EAAEiI,iBACFL,EAAapL,EAAOC,KAEtB,CAACD,EAAOC,EAAUmL,IAEdM,EAAcpN,uBAAY,SAACkF,GAC/B+H,EAAS/H,EAAEC,OAAOG,SACjB,IACG+H,EAAiBrN,uBAAY,SAACkF,GAClCgI,EAAYhI,EAAEC,OAAOG,SACpB,IACH,OACE,oCACE,yBAAKxG,UAAWL,GAAG,aAAc,mBAC/B,kBAAC,GAAD,CAAayD,KAAK,UAClB,0BAAMmE,SAAU7B,GACd,2BACEtC,KAAK,QACLoD,MAAO5D,EACP0E,SAAUgH,EACV9G,YAAY,qBACZgH,UAAQ,IAEV,2BACEpL,KAAK,WACLoD,MAAO3D,EACPyE,SAAUiH,EACV/G,YAAY,2BACZgH,UAAQ,IAEV,2BAAOpL,KAAK,SAASoD,MAAM,wBAE7B,kBAAC,IAAD,CAAM3E,GAAG,WACP,oD,oBCzCJlC,GAAKM,IAAWJ,KAAKC,MCFZ2O,GDGA,SAAC,GAAwB,IAAtBrL,EAAqB,EAArBA,KAAMjD,EAAe,EAAfA,SACtB,OAAO,yBAAKH,UAAWL,GAAG,CAAC,mBAAoByD,KAASjD,IEG1DgC,IAAOC,SACP,I,GAuCesM,GAvCD,WAAO,IAAD,EAC6CzI,aAC7D,SAAC5B,GAAD,OAAWA,EAAM6B,SADXvB,EADU,EACVA,WAAYJ,EADF,EACEA,aAAcE,EADhB,EACgBA,aAAcD,EAD9B,EAC8BA,WAG1CuB,EAAWC,cAIX2I,EAAW,yCAAG,WAAO/L,EAAOC,GAAd,oBAAA6D,EAAA,+EAINX,ElB6EkB,CAChC3C,KArFmB,QAsFnBW,QAASvB,EkB/EoBI,EAAOC,KAJhB,oBAGd2D,MAAS9C,EAHK,EAGLA,KAEI,MALC,EAGCkL,SANJC,EASHnL,EAAKoL,MARjBC,aAAaC,QAAQ,MAAOH,IAEV,kDAShBtL,QAAQC,IAAR,MATgB,kCAHJ,IAACqL,IAGG,qBAAH,wDAYjB,OAAmB,IAAflK,EACK,kBAAC,IAAD,CAAU9C,GAAI,MAGrB,oCACE,kBAAC,GAAD,CAAQK,MAAK,sBACZsC,GACC,kBAAC,GAAD,CAAQpB,KAAM,SAAd,uIAIF,kBAAC,GAAD,CACE4K,aAAcW,EACdT,cAAe3J,EACf0J,cAAexJ,M,oBCvCjB9E,GAAKM,IAAWJ,KAAKC,MAqEZmP,GApEI,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAAmB,EACb5O,mBAAS,IADI,mBAChCsC,EADgC,KACzBuL,EADyB,OAEP7N,mBAAS,CACvC6O,GAAI,GACJC,GAAI,KAJiC,mBAEhCvM,EAFgC,KAEtBuL,EAFsB,KAajCE,EAAcpN,uBAAY,SAACkF,GAAO,IAC9BC,EAAWD,EAAXC,OACR8H,EAAS9H,EAAOG,SACf,IACG6I,EAAkBnO,uBACtB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACR+H,EAAY,eACPvL,EADM,CAETsM,GAAI9I,EAAOG,WAGf,CAAC3D,IAEGyM,EAAkBpO,uBACtB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACR+H,EAAY,eACPvL,EADM,CAETuM,GAAI/I,EAAOG,WAGf,CAAC3D,IAEH,OACE,6BAAS7C,UAAWL,GAAG,cAAe,mBACpC,kBAAC,GAAD,CAAayD,KAAK,WAClB,0BAAMmE,SAlCW,SAACnB,GACpBA,EAAEiI,iBADwB,IAElBc,EAAWtM,EAAXsM,GACJA,IADetM,EAAPuM,IAEVF,EAAatM,EAAOuM,KA+BlB,2BACE/L,KAAK,QACLoD,MAAO5D,EACP0E,SAAUgH,EACV9G,YAAY,qBACZgH,UAAQ,IAEV,2BACEpL,KAAK,WACLoD,MAAO3D,EAASsM,GAChB7H,SAAU+H,EACV7H,YAAY,2BACZgH,UAAQ,IAEV,2BACEpL,KAAK,WACLoD,MAAO3D,EAASuM,GAChB9H,SAAUgI,EACV9H,YAAY,8CACZgH,UAAQ,IAEV,2BAAOpL,KAAK,SAASoD,MAAM,oBChEnCrE,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,IAKDgN,GAAgB,SAAC3M,EAAOC,GAC5B,OAAOR,IAAMM,KAAK,SAAU,CAC1BC,MAAOA,EACPC,SAAUA,KAGD2M,GAAa,SAAC5M,EAAOC,GAAR,MAAsB,CAC9CO,KAZoB,SAapBW,QAASwL,GAAc3M,EAAOC,KAOjBuB,gBAAa,kBAAC,GAnBC,kBAqBR,SAACC,EAAOC,GACxB,MAAO,CACLmL,gBAAgB,EAChBC,gBAAgB,EAChBC,cAAc,MANM,YAAC,GAlBC,kBA2BR,SAACtL,EAAOC,GACxB,MAAO,CACLmL,gBAAgB,EAChBC,gBAAgB,MAZI,YAAC,GAjBC,kBAgCR,SAACrL,EAAOC,GACxB,MAAO,CACLmL,gBAAgB,EAChBE,cAAc,MAlBM,IALP,CACnBF,gBAAgB,EAChBC,gBAAgB,EAChBC,cAAc,ICpBhBxN,IAAOC,SACP,IAgCewN,GAhCA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACV9J,EAAWC,cADa,EAE2BC,aACvD,SAAC5B,GAAD,OAAWA,EAAMyL,UADXL,EAFsB,EAEtBA,eAAgBC,EAFM,EAENA,eAAgBC,EAFV,EAEUA,aAGhChL,EAAesB,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAA5CvB,WACFuK,EAAY,yCAAG,WAAOtM,EAAOmN,GAAd,UAAArJ,EAAA,sDACnBX,EAASyJ,GAAW5M,EAAOmN,IADR,2CAAH,wDAGlB,OAAIpL,EAEA,kBAAC,IAAD,CACE9C,GAAmD,qBAIrD6N,EACK,kBAAC,IAAD,CAAU7N,GAAG,WAGpB,oCACE,kBAAC,GAAD,CAAQK,MAAK,uBACb,kBAAC,GAAD,CACE2N,QAASA,EACTX,aAAcA,EACdO,eAAgBA,EAChBC,eAAgBA,EAChBC,aAAcA,M,wCCnCTK,GAAS,WAEpB,OADYjB,aAAakB,QAAQ,QAoBtBC,GAAS,SAACzD,GACrB,GAAIA,EAAO,CACT,IAAIW,EAAQ,EACZ,GAAIX,EAAMrE,OAAS,EAAG,CACpB,IAAK,IAAI+H,EAAI,EAAGA,EAAI1D,EAAMrE,OAAQ+H,IAChC/C,GAASrB,SAASU,EAAM0D,GAAGjF,MAE7B,OAAQkC,EAAQX,EAAMrE,QAAQgI,QAAQ,GAExC,OAAO,EAET,OAAO,GCzBTjO,IAAOC,SAEP,I,GAAMzC,GAAKM,IAAWJ,KAAKC,MA4JZuQ,GAvJE,SAAC,GAAsC,IAAD,EDT3BC,ECSR5L,EAAmC,EAAnCA,QAASmD,EAA0B,EAA1BA,OAAQ0I,EAAkB,EAAlBA,YAC7BxK,EAAWC,cADoC,EAEvB1F,mBAAS,CACrCkQ,WAAY,KACZC,UAAW/L,EAAUA,EAAQ+L,eAAYrJ,EACzCsJ,SAAUhM,EAAUA,EAAQ4F,KAAO,GACnCqG,QAASjM,EAAUA,EAAQiM,QAAU,GACrCC,MAAOlM,EAAUA,EAAQkM,MAAQ,GACjCC,SAAUnM,EAAUA,EAAQmM,SAAW,KARY,mBAE9CtG,EAF8C,KAErCuG,EAFqC,KAW/CC,EAAU,yCAAG,yCAAArK,EAAA,6DACT8J,EAAmDjG,EAAnDiG,WAAYE,EAAuCnG,EAAvCmG,SAAUC,EAA6BpG,EAA7BoG,QAASE,EAAoBtG,EAApBsG,SAAUD,EAAUrG,EAAVqG,OAC3CI,EAAW,IAAIC,UACZC,OAAO,SAAUV,GAC1BQ,EAASE,OAAO,QAASxM,EAAQ9B,OACjCoO,EAASE,OAAO,WAAYR,GAC5BM,EAASE,OAAO,UAAWP,GAC3BK,EAASE,OAAO,WAAYL,GAC5BG,EAASE,OAAO,QAASN,GARR,mBAYL7K,EvBqDsB,CACpC3C,KApD0B,eAqD1BW,QAASF,EuBvD0BmN,KAZhB,iBAaA,MAbA,EAWbxK,MAASoI,SAGTxN,OAAOmH,SAASC,KAAhB,UACmD,kBAftC,kDAmBfjF,QAAQC,IAAR,MAnBe,0DAAH,qDA0BV2N,EAAajQ,uBACjB,SAACkF,GAAO,IAEMgL,EACRhL,EADFC,OAAU+K,MAEZN,EAAW,eACNvG,EADK,CAERiG,WAAYY,EAAM,MAhDV,SAACC,GACf,IAAMC,EAAS7G,IAAI8G,gBAAgBF,GACnCG,SAASC,cAAc,gBAAgB1P,IAAMuP,EAgDzCI,CAAQN,EAAM,MAEhB,CAAC7G,EAASuG,IAENa,EAAiBzQ,uBACrB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERmG,SAAUrK,EAAOG,WAGrB,CAAC+D,EAASuG,IAENc,EAAgB1Q,uBACpB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERoG,QAAStK,EAAOG,WAGpB,CAAC+D,EAASuG,IAENe,EAAiB3Q,uBACrB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERsG,SAAUxK,EAAOG,WAGrB,CAAC+D,EAASuG,IAENgB,EAAc5Q,uBAClB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERqG,MAAOvK,EAAOG,WAGlB,CAAC+D,EAASuG,IAEZ,OACE,6BAAS9Q,UAAWL,GAAG,YAAakI,EAAS,QAAU,SACrD,yBAAK7H,UAAWL,GAAG,aACjB,uBAAGwH,QAASoJ,GACV,0BAAMtJ,KAAK,MAAMC,aAAW,SAA5B,YAKJ,6BAASlH,UAAWL,GAAG,mBACrB,0BAAM4H,SAnES,SAACnB,GACpBA,EAAEiI,iBACF0C,MAkEM,yBAAK/Q,UAAWL,GAAG,uBACjB,yBACEK,UAAWL,GAAG,eACdsC,IAAI,wCACJF,KDlHcuO,ECkHE,OAAC/F,QAAD,IAACA,OAAD,EAACA,EAASkG,eDjHvBrJ,IAARkJ,EACH,iGACAA,KCiHM,yBAAKxQ,MAAO,CAAEiS,SAAU,aACtB,4BAAQ/R,UAAWL,GAAG,aACWyH,KAAvB,OAAPmD,QAAO,IAAPA,OAAA,YAAAA,EAASiG,kBAAT,eAAqBlG,MAClB,wCACAC,EAAQiG,WAAWlG,MAEzB,2BAAOlH,KAAK,OAAOkH,KAAK,SAAShD,SAAU6J,MAG/C,2BACE/N,KAAK,OACLkH,KAAK,WACL9D,MAAK,OAAE+D,QAAF,IAAEA,OAAF,EAAEA,EAASmG,SAChBlJ,YAAa,qBACbF,SAAUqK,IAEZ,2BACEvO,KAAK,QACLkH,KAAK,UACL9C,YAAY,uDACZhB,MAAK,OAAE+D,QAAF,IAAEA,OAAF,EAAEA,EAASoG,QAChBrJ,SAAUsK,IAEZ,2BACExO,KAAK,OACLkH,KAAK,WACL9C,YAAY,eACZhB,MAAK,OAAE+D,QAAF,IAAEA,OAAF,EAAEA,EAASsG,SAChBvJ,SAAUuK,IAEZ,8BACEvH,KAAK,QACL9C,YAAY,eACZhB,MAAK,OAAE+D,QAAF,IAAEA,OAAF,EAAEA,EAASqG,MAChBtJ,SAAUwK,IAEZ,2BAAO1O,KAAK,SAASoD,MAAM,kBAE7B,4BAAQW,QAASoJ,GAAjB,mB,wCC5JRpO,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,I,GAyBDyP,GAAoB,WAA0B,IAAzBC,EAAwB,uDAAhB,EAAGtH,EAAa,uDAAN,EAC3C,OAAOtI,IAAMuI,IAAN,wBAA2BqH,EAA3B,iBAAyCtH,KAM5CuH,GAAoB,SAACzP,EAAI6H,EAAMC,EAAS7I,GAE5C,OAAOW,IAAMM,KAAN,eAAmBF,EAAnB,WAAgC,CACrC6H,OACAC,UACA7I,UAIEyQ,GAAoB,SAACvO,EAAK2G,GAC9B,OAAOlI,IAAMM,KAAN,sBAA0BiB,GAAO,CACtC2G,aAIE6H,GAAoB,SAAChP,EAAMX,EAAIa,GACnC,OAAOjB,IAAMM,KAAN,cAA0B,CAC/BS,OACAX,KACAa,SAGS+O,GAAa,SAAC3O,GAAD,MAAW,CACnCN,KAvDyB,cAwDzBW,QAASiO,GAAkBtO,EAAKuO,MAAOvO,EAAKiH,QAEjC2H,GAAY,SAACC,GAAD,MAAW,CAClCnP,KAtDwB,aAuDxBW,SAhCwBtB,EAgCE8P,EA9BnBlQ,IAAMuI,IAAN,eAAkBnI,EAAlB,cAFgB,IAACA,GAkCb+P,GAAa,SAACD,EAAMjI,EAAMC,EAAS7I,GAAtB,MAAgC,CACxD0B,KArDyB,cAsDzBW,QAASmO,GAAkBK,EAAMjI,EAAMC,EAAS7I,KAGrC+Q,GAAa,SAAC7O,EAAK2G,GAAN,MAAmB,CAC3CnH,KArDyB,cAsDzBW,QAASoO,GAAkBvO,EAAK2G,KAErBmI,GAAW,SAACtP,EAAMX,EAAIa,GAAX,MAAoB,CAC1CF,KApDyB,cAqDzBW,QAASqO,GAAkBhP,EAAMX,EAAIa,KAgBxBc,gBAAa,kBAAC,GAxFM,uBA0FR,SAACC,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEsO,oBAAoB,EACpBC,kBAAkB,EAClBC,oBAAoB,EACpBC,iBAAiB,OARG,YAAC,GAvFM,uBAkGR,SAACzO,EAAOC,GAAY,IAAD,EAGpCA,EAAOP,QADTL,KAAQqP,EAF8B,EAE9BA,QAASpI,EAFqB,EAErBA,KAEnB,OAAO,eACFtG,EADL,CAEE0O,QACqB,IAAnBhH,SAASpB,GAAT,uBAA2BtG,EAAM0O,SAAjC,aAA6CA,IAA7C,aAA4DA,GAC9DJ,oBAAoB,EACpBE,oBAAoB,EACpBC,gBAAiBC,EAAQ3K,OAAS,IAAM,OArBpB,YAAC,GAtFM,uBA8GR,SAAC/D,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEsO,oBAAoB,EACpBC,kBAAkB,EAClBE,iBAAiB,OA7BG,YAAC,GA9EM,uBA8GR,SAACzO,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEE2O,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,OArCG,YAAC,GA7EM,uBAqHR,SAAC7O,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEE0O,QAASzO,EAAOP,QAAQL,KAAKqP,QAC7BC,mBAAmB,EACnBC,mBAAmB,OA7CC,YAAC,GA5EM,uBA4HR,SAAC5O,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEE2O,mBAAmB,EACnBE,iBAAiB,OApDG,YAAC,GAnFK,sBA0IR,SAAC7O,EAAOC,GAC5B,OAAO,eACFD,EADL,CAEEQ,OAAO,EACPD,SAAS,EACTQ,SAAS,OA5DW,YAAC,GAlFK,sBAiJR,SAACf,EAAOC,GAC5B,MAAO,CACLyO,QAASzO,EAAOP,QAAQL,KAAKqP,QAC7BlO,OAAO,EACPD,SAAS,EACTQ,SAAS,MApEW,YAAC,GAjFK,sBAwJR,SAACf,EAAOC,GAC5B,MAAO,CACLO,OAAO,EACPD,SAAS,EACTQ,SAAS,MA3EW,YAAC,GAzEM,uBAuJR,SAACf,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,EACPO,SAAS,OAnFW,YAAC,GAxEM,uBA8JR,SAACf,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEE0O,QAASzO,EAAOP,QAAQL,KAAKqP,QAC7BnO,SAAS,EACTC,OAAO,EACPO,SAAS,OA5FW,YAAC,GAvEM,uBAsKR,SAACf,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,EACPO,SAAS,OApGW,YAAC,GApEM,uBA4KR,SAACf,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OA5Ga,YAAC,GAnEM,uBAkLR,SAACR,EAAOC,GAAY,IAE/B6O,EACN7O,EAAOP,QADTL,KAAQyP,OAGNC,GAAO,EACX/O,EAAM0O,QAAQ9K,SAAQ,SAACrC,EAAMuK,GACvBvK,EAAK9D,MAAQqR,EAAOrR,MACtBsR,EAAMjD,MAGV9L,EAAM0O,QAAQK,GAAOD,EACrB,IAAME,EAAiBhP,EAAM0O,QAC7B,OAAO,eACF1O,EADL,CAEEO,SAAS,EACTC,OAAO,EACPO,SAAS,EACT2N,QAAQ,aAAKM,QAjIO,YAAC,GAlEM,uBAsMR,SAAChP,EAAOC,GAC7B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAxIa,IAbP,CACnBkO,QAAS,GACTnO,SAAS,EACTQ,SAAS,EACTP,OAAO,EACP8N,oBAAoB,EACpBC,kBAAkB,EAClBC,oBAAoB,EACpBC,iBAAiB,EACjBE,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,IC7FnB/Q,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,I,GAeD+Q,GAAc,SAAC7Q,GACnB,OAAOJ,IAAMuI,IAAN,kBAAqBnI,KASjB8Q,GAAU,SAAC9Q,GAAD,MAAS,CAC9BW,KA1BsB,WA2BtBW,QAASuP,GAAY7Q,KAiBR2B,gBAAa,kBAAC,GA3CG,oBA6CR,SAACC,EAAOC,GAC1B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OANa,YAAC,GA1CG,oBAmDR,SAACR,EAAOC,GAE1B,MAAO,CACLM,SAAS,EACTC,OAAO,EACPH,QAASJ,EAAOP,QAAQL,KAAKiD,SAdT,YAAC,GAzCG,oBA0DR,SAACtC,EAAOC,GAC1B,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OArBa,YAAC,GAtCU,2BA8DR,SAACR,EAAOC,GACjC,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OA5Ba,YAAC,GArCU,2BAoER,SAACR,EAAOC,GAAY,IAEnCkP,EACNlP,EAAOP,QADTL,KAAQ8P,QAEV,OAAO,eACFnP,EADL,CAEEoP,WAAYD,EACZ5O,SAAS,EACTC,OAAO,OAvCa,YAAC,GApCU,2BA8ER,SAACR,EAAOC,GACjC,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OA9Ca,YAAC,GAjCY,6BAkFR,SAACR,EAAOC,GACnC,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OArDa,YAAC,GAhCY,6BAwFR,SAACR,EAAOC,GAAY,IAErCoP,EACNpP,EAAOP,QADTL,KAAQgQ,UAEV,OAAO,eACFrP,EADL,CAEEsP,aAAcD,EACd9O,SAAS,EACTC,OAAO,OAhEa,YAAC,GA/BY,6BAkGR,SAACR,EAAOC,GACnC,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OAvEa,IAPP,CACnBD,SAAS,EACTC,OAAO,EACPH,QAAS,GACT+O,WAAY,GACZE,aAAc,K,oBC3CVhU,GAAKC,IAAUC,KAAKC,MCNX8T,GDOK,SAAC,GAA6B,IAA3BT,EAA0B,EAA1BA,OAAQ5C,EAAkB,EAAlBA,YAAkB,EACjBjQ,oBAAe,OAAN6S,QAAM,IAANA,OAAA,EAAAA,EAAQ5I,UAAW,IADX,mBACxCA,EADwC,KAC/BuG,EAD+B,KAEzC/K,EAAWC,cACTrB,EAAesB,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAA5CvB,WAEFkP,EAAY3S,sBAAW,wBAAC,6BAAAwF,EAAA,sDAE5B,GADM3D,EAAMiN,KAEV,IACEjK,EAASjC,EAAMf,IACf,MAAO8B,GACPtB,QAAQC,IAAIqB,GANY,2CAS3B,CAACkB,IACE+N,EAAmB5S,sBAAW,yCAClC,WAAO0C,EAAK2G,GAAZ,gBAAA7D,EAAA,+EAIcX,EAAS0M,GAAW7O,EAAK2G,IAJvC,gBAKmB,MALnB,EAGM/D,MAASoI,QAGTiF,IANN,gDASItQ,QAAQC,IAAR,MATJ,yDADkC,wDAalC,CAACqQ,EAAW9N,IAERL,EAAexE,uBACnB,SAACkF,GACCA,EAAEiI,iBACE1J,GACFmP,EAAiBX,EAAOrR,IAAKyI,KAGjC,CAACA,EAAS5F,EAAYwO,EAAQW,IAShC,OAHAzS,qBAAU,WACR,OAAO,gBAGP,6BAASrB,UAAWL,GAAG,CAAC,eAAgB,qBACtC,6BAASK,UAAU,iBACjB,yBAAKA,UAAU,SACb,yBAAKA,UAAWL,GAAG,mBACjB,yBACEoC,SAAqBqF,IAAhB+L,EAAOzR,KAAqByR,EAAOzR,KAAKM,UAAY,GACzDC,SAAqBmF,IAAhB+L,EAAOzR,KAAqByR,EAAOzR,KAAKQ,MAAQ,KAEvD,0BAAMqF,SAAU7B,GACd,8BAAUc,MAAO+D,EAASjD,SAjBjB,SAAClB,GAAO,IACnBC,EAAWD,EAAXC,OACRyK,EAAWzK,EAAOG,SAgBL+D,GAEH,2BAAOnH,KAAK,SAASoD,MAAM,iBAC3B,4BAAQxG,UAAWL,GAAG,UAAWwH,QAASoJ,GAA1C,sBExDR5Q,GAAKM,IAAWJ,KAAKC,MA+JZiU,GA9JI,SAAC,GAAuB,IAArBrP,EAAoB,EAApBA,QAAS4D,EAAW,EAAXA,KAAW,EACZhI,mBAAS,MADG,mBACjC6S,EADiC,KACzBa,EADyB,OAEZ1T,oBAAS,GAFG,mBAEjCuH,EAFiC,KAEzBoM,EAFyB,KAGlClO,EAAWC,cAHuB,EAIkBC,aACxD,SAAC5B,GAAD,OAAWA,EAAM6B,SADFgO,EAJuB,EAIhCxP,QAAsByP,EAJU,EAInBvP,QAAsBD,EAJH,EAIGA,WAG3CtD,qBAAU,WACR,OAAO,gBAET,IAAM+S,EAAWlT,uBAAY,WAC3B,GAAIoH,EAAM,CACR,IAAMvF,EAAMiN,KACRjN,GACFgD,EAASjC,EAAMf,SAGjBgD,EAASwN,GAAQ7O,EAAQ5C,QAE1B,CAACiE,EAAUuC,EAAM5D,IACdkE,EAAe,SAACxC,GAAO,IACnBiO,EAAkBjO,EAAlBiO,cACFnQ,EAAMmQ,EAAcC,aAAa,YACrC1Q,EAAMyQ,EAAcC,aAAa,cACjChR,EAAM4Q,EAAGvN,KAAK7E,IAChByS,EAAmBrQ,EAAKN,EAAKN,IAEzBiR,EAAkB,yCAAG,WAAOrQ,EAAKN,EAAKN,GAAjB,gBAAAoD,EAAA,+EAIbX,EAAS5B,EAAaD,EAAKN,EAAKN,IAJnB,gBAKR,MALQ,EAGrBkD,MAASoI,QAGTwF,IANqB,gDASvB7Q,QAAQC,IAAR,MATuB,yDAAH,0DAYlBgR,EAAiBtT,sBAAW,yCAChC,WAAOkC,EAAMX,GAAb,kBAAAiE,EAAA,+EAIcX,EAAS2M,GAAStP,EAAMX,EAAIiC,EAAQ5C,IAAKoS,EAAGvN,KAAK7E,MAJ/D,gBAKmB,OAFJ8M,EAHf,EAGMpI,MAASoI,UAGTrL,QAAQC,IAAIoL,GACZwF,KAPN,gDAUI7Q,QAAQC,IAAR,MAVJ,yDADgC,wDAchC,CAACuC,EAAUmO,EAAIxP,EAAS0P,IAEpBK,EAAavT,uBACjB,SAACuB,GAAD,OAAQ,SAAC2D,GAGHzB,EACF6P,EAAe,OAAQ/R,GAEvBiS,MAAM,8DAGV,CAACF,EAAgB7P,IAEb+D,EAAaxH,uBACjB,SAACiS,GAAD,OAAY,SAAC/M,GACX6N,GAAU,GACVD,EAAUb,MAEZ,IAEI5C,EAAcrP,uBAAY,WAC9B+S,GAAU,GACVD,EAAU,QACT,IA8DH,OACE,yBAAKhU,UAAWL,GAAG,iBACA,IAAhBwU,GACCzP,GACAA,EAAQqO,SACRrO,EAAQqO,QAAQtR,KAAI,SAAC0R,GACnB,OAnEU,SAChBA,EACAsB,EACA7L,EACAF,EACAiM,EACArR,GACI,IAAD,EACH,OACE,6BAAStD,UAAWL,GAAG,oBAAqB8C,GAAI0Q,EAAOrR,IAAKH,IAAKC,eAC/D,6BACE,kBAAC,IAAD,CAAMC,GAAE,0BAAWsR,EAAOzR,YAAlB,aAAW,EAAaI,MAC9B,yBACEC,SAAqBqF,IAAhB+L,EAAOzR,KAAqByR,EAAOzR,KAAKM,UAAY,GACzDC,SAAqBmF,IAAhB+L,EAAOzR,KAAqByR,EAAOzR,KAAKQ,MAAQ,OAI3D,6BACE,6BACE,uBAAGlC,UAAWL,GAAG,qBACEyH,IAAhB+L,EAAOzR,KAAqByR,EAAOzR,KAAKQ,MAAQ,IAEnD,uBAAGlC,UAAWL,GAAG,qBACEyH,IAAhB+L,EAAOzR,KAAqByR,EAAO5I,QAAU,IAEhD,uBAAGvK,UAAWL,GAAG,gBACdiV,KAAOzB,EAAO0B,WAAW7M,OAAO,0CAEnC,uBAAGhI,UAAWL,GAAG,mBACf,0BAAMK,UAAWL,GAAG,gBACjBwT,EAAO2B,MAAM1M,OADhB,UAGA,0BAAMpI,UAAWL,GAAG,WAAYwH,QAASsN,EAAWtB,EAAOrR,MACzD,kBAAC,IAAD,UAKPwB,IAAQqR,EACP,oCACE,0BACE3U,UAAWL,GAAG,eACdqK,aAAYmJ,EAAOrR,IACnBqF,QAASuB,EAAWyK,IAEpB,kBAAC,IAAD,OAEF,0BACEnT,UAAWL,GAAG,iBACdqK,aAAYmJ,EAAOrR,IACnBiT,WAAU5B,EAAOzR,KAAKI,IACtBqF,QAASyB,GAET,kBAAC,IAAD,QAGF,MAUK0J,CACLa,EACAsB,EACA7L,EACAF,EACAwL,EAAGvN,KAAK7E,IACR4C,EAAQ5C,QAGb+F,GAAU,kBAAC,GAAD,CAAasL,OAAQA,EAAQ5C,YAAaA,MC/JrD5Q,GAAKM,IAAWJ,KAAKC,MA6QZkV,GA5QK,SAAC,GAAuB,IAAD,gBAApBtQ,EAAoB,EAApBA,QAASkD,EAAW,EAAXA,KAAW,EACbtH,oBAAS,GADI,mBAClCuH,EADkC,KAC1BoM,EAD0B,OAEnB3T,mBAAS,GAFU,mBAElC8S,EAFkC,KAE7B6B,EAF6B,OAGjB3U,mBAAkB,QAATsH,GAHQ,mBAGlCU,EAHkC,KAG5B4M,EAH4B,KAInCC,EAAajU,uBAAY,WAC7B+S,GAAU,KACT,IACGtO,EAAezE,uBAAY,WAC/B+S,GAAU,KACT,IACGmB,EAAelU,uBACnB,SAACmU,GAAD,OAAY,SAACjP,GACX6O,EAAOI,MAET,IAEFhU,qBAAU,WAER,OADA6T,EAAiB,QAATtN,GACD,eACN,CAACA,IACJ,IAAM0N,EAAU,SAAC1N,EAAMlD,EAAStB,GACJ,IAAD,IAgBlB,QAhBP,MAAa,aAATA,EACc,QAATwE,EACLlD,IAAW,UAAAA,EAAQtB,UAAR,eAAegF,QAAS,EACjC,6BACE,kBAAC,GAAD,CAAUS,SAAUnE,EAAQtB,GAAOwE,KAAK,UAAUxE,KAAMA,KAG1D,uBAAGpD,UAAWL,GAAG,iBAAjB,0EAEA+E,IAAW,UAAAA,EAAQtB,UAAR,eAAegF,QAAS,EACrC,6BACE,kBAAC,GAAD,CAAUS,SAAUnE,EAAQtB,GAAOwE,KAAK,aAG1C,uBAAG5H,UAAWL,GAAG,iBAAjB,0EAGc,QAATiI,EACLlD,IAAkB,OAAPA,QAAO,IAAPA,OAAA,YAAAA,EAAS6Q,gBAAT,eAAmBnN,QAAS,EACrC,yBAAKpI,UAAWL,GAAG,kBAAnB,OACG+E,QADH,IACGA,OADH,YACGA,EAAS6Q,gBADZ,aACG,EAAmB9T,KAAI,SAACC,GACvB,OACE,yBAAK1B,UAAWL,GAAG,wBAAyBgC,IAAKC,eAC/C,yBACE5B,UAAWL,GAAG,gBACdoC,IAAKL,EAAKM,UACVC,IAAKP,EAAKM,YAEZ,yBAAKhC,UAAWL,GAAG,cACjB,kBAAC,IAAD,CAAMkC,GAAE,gBAAWH,EAAKI,MAAQJ,EAAKQ,aAO/C,uBAAGlC,UAAWL,GAAG,iBAAjB,0EAEA+E,IAAkB,OAAPA,QAAO,IAAPA,OAAA,YAAAA,EAAS6Q,gBAAT,eAAmBnN,QAAS,EACzC,yBAAKpI,UAAWL,GAAG,kBAAnB,OACG+E,QADH,IACGA,OADH,YACGA,EAAS6Q,gBADZ,aACG,EAAmB9T,KAAI,SAACC,GACvB,OACE,yBAAK1B,UAAWL,GAAG,wBAAyBgC,IAAKC,eAC/C,yBACE5B,UAAWL,GAAG,gBACdoC,IAAKL,EAAKM,UACVC,IAAKP,EAAKM,YAEZ,yBAAKhC,UAAWL,GAAG,cACjB,kBAAC,IAAD,CAAMkC,GAAE,gBAAWH,EAAKI,MAAxB,yCAOV,uBAAG9B,UAAWL,GAAG,iBAAjB,2EAoBN,OACE,oCACE,6BAASK,UAAWL,GAAG,iBACrB,6BAASK,UAAWL,GAAG,oBACrB,yBAAKK,UAAWL,GAAG,SACjB,yBACEoC,IAAK2C,QAAuB0C,IAAZ1C,EAAwBA,EAAQ+L,UAAY,GAC5DxO,IAAKyC,QAAuB0C,IAAZ1C,EAAwBA,EAAQ9B,MAAQ,KAE1D,4BAAK8B,QAAuB0C,IAAZ1C,EAAwBA,EAAQ9B,MAAQ,IACxD,yBAAK5C,UAAWL,GAAG,iBACP,QAATiI,EACC,uBAAG/F,GAAI,QAASsF,QAASgO,GAAzB,mCAGE,MAEN,yBAAKnV,UAAWL,GAAG,gBACjB,2BACG+E,QAAuB0C,IAAZ1C,EAAX,OAAmCA,QAAnC,IAAmCA,OAAnC,YAAmCA,EAAS+H,aAA5C,aAAmC,EAAgBrE,OAAS,EAD/D,gBAIA,2BACG1D,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASqO,eADZ,aACG,EAAkB3K,OAClB,EAHN,iBAOF,uBAAGpI,UAAWL,GAAG,UACd+E,QAAuB0C,IAAZ1C,EAAX,OAAmCA,QAAnC,IAAmCA,OAAnC,EAAmCA,EAASkM,MAAQ,KAI3D,iCACE,wBAAI5Q,UAAWL,GAAG,iBAChB,wBACEK,UAAmB,IAARoT,EAAYzT,GAAG,UAAY,GACtCwH,QAASiO,EAAa,IAFxB,UAMA,wBACEpV,UAAmB,IAARoT,EAAYzT,GAAG,UAAY,GACtCwH,QAASiO,EAAa,IAFxB,iBAOF,6BACEtV,MAAe,IAARsT,EAAY,CAAEoC,QAAS,SAAY,CAAEA,QAAS,SAErD,6BAASxV,UAAWL,GAAG,aACrB,yBAAKK,UAAWL,GAAG,kBACP,QAATiI,EACC,kBAAC,IAAD,CACE/F,GACE6C,QAAuB0C,IAAZ1C,EAAX,wBACcA,QADd,IACcA,OADd,EACcA,EAAS5C,KADvB,KAKF,iEAGF,iEAGJ,yBACE9B,UAAWL,GAAG,iBACdG,MAAO,CAAE2V,WAAY,MAAOC,UAAW,QAEtCJ,EAAQ1N,EAAMlD,EAAS,cAG5B,6BAAS1E,UAAWL,GAAG,cACrB,yBAAKK,UAAWL,GAAG,mBACP,QAATiI,EACC,oDAEGlD,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASa,iBADZ,aACG,EAAoB6C,OACpB,EAJN,KAQA,oDAEG1D,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASa,iBADZ,aACG,EAAoB6C,OACpB,EAJN,MASJ,yBAAKpI,UAAWL,GAAG,mBAChB2V,EAAQ1N,EAAMlD,EAAS,cAE1B,+BAEF,6BAAS1E,UAAWL,GAAG,sBACrB,yBAAKK,UAAWL,GAAG,mBACP,QAATiI,EACC,8EAEGlD,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASc,eADZ,aACG,EAAkB4C,OAClB,EAJN,KAQA,8EAEG1D,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASc,eADZ,aACG,EAAkB4C,OAClB,EAJN,MASJ,yBAAKpI,UAAWL,GAAG,mBAChB2V,EAAQ1N,EAAMlD,EAAS,aAG5B,6BAAS1E,UAAWL,GAAG,SACrB,yBAAKK,UAAWL,GAAG,cACP,QAATiI,EACC,oDAEGlD,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASY,YADZ,aACG,EAAe8C,OACf,EAJN,KAQA,oDAEG1D,QAAuB0C,IAAZ1C,EAAX,OACGA,QADH,IACGA,OADH,YACGA,EAASY,YADZ,aACG,EAAe8C,OACf,EAJN,MASJ,yBAAKpI,UAAWL,GAAG,cAChB2V,EAAQ1N,EAAMlD,EAAS,WAI9B,6BACE5E,MAAe,IAARsT,EAAY,CAAEoC,QAAS,SAAY,CAAEA,QAAS,SAErD,6BAASxV,UAAWL,GAAG,kBACrB,yBAAKK,UAAWL,GAAG,gBACjB,6CAEF,yBAAKK,UAAWL,GAAG,gBAChB+E,QAAuB0C,IAAZ1C,EACV,kBAAC,GAAD,CAAY/C,IAAKC,cAAM8C,QAASA,EAAS4D,KAAMA,IAE/C,iCAhLC,SAACT,EAAQ0I,EAAa7L,GACrC,OACE,oCACE,yBACE1E,UAAWL,GAAG,eAAgBkI,EAAS,aAAe,iBAExD,yBAAK7H,UAAWL,GAAGkI,EAAS,aAAe,gBACzC,kBAAC,GAAD,CACE0I,YAAaA,EACb7L,QAASA,EACTmD,QAASA,MA6Kd8N,CAAS9N,EAAQlC,EAAcjB,KCjRvBkR,GCKC,SAAC,GAA+B,IAAlBrN,EAAiB,EAA5BsH,QAAWtH,SAAiB,EACbjI,oBAAS,GADI,mBACtCuV,EADsC,KAC7BnI,EAD6B,OAEJzH,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAA9DvB,EAFqC,EAErCA,WAAYD,EAFyB,EAEzBA,QAASE,EAFgB,EAEhBA,QAFgB,EAGGqB,aAC9C,SAAC5B,GAAD,OAAWA,EAAMsC,QADFA,EAH4B,EAGrCjC,QAAwBoR,EAHa,EAGtBlR,QAGjBmB,EAAWC,cACX+P,EAAa7U,sBAAW,yCAC5B,WAAOuB,GAAP,UAAAiE,EAAA,sDACE,IACEX,EAASwN,GAAQ9Q,IACjB,MAAOoC,GACPtB,QAAQC,IAAIqB,GAJhB,2CAD4B,sDAQ5B,CAACkB,IAUH,OARA1E,qBAAU,WAER,GADAqM,GAAa,GACa,QAAtBnF,EAASyN,SAAoB,CAC/B,IAAM1S,EAAMiF,EAASyN,SAASC,UAAU,GAAGC,MAAM,KAAK,GACtDH,EAAWzS,GAEboK,GAAa,KACZ,CAACqI,EAAYxN,EAASyN,WAEvB,oCACE,kBAAC,GAAD,CAAQ9T,MAAK,wBACZ2T,GAAWjR,GAAWkR,EACrB,kBAAC,GAAD,MAEA,kBAAC,GAAD,CACEnR,WAAYA,EACZD,QAA+B,QAAtB6D,EAASyN,SAAT,OAA8BtR,QAA9B,IAA8BA,OAA9B,EAA8BA,EAASiC,KAAOA,EACvDiB,KAAMW,EAASyN,a,kDCnCnBrW,GAAKM,IAAWJ,KAAKC,MACrBqW,GAAS,CAAC,IAAK,IAAK,IAAK,IAAK,KAC9BC,GAAY,CAChBlN,MAAO,UACPmN,OAAQ,WAyCKC,GAvCD,SAAC,GAA+B,IAA7B5U,EAA4B,EAA5BA,KAAM6U,EAAsB,EAAtBA,SAAU9J,EAAY,EAAZA,MAAY,EACXxG,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAArDvB,EADmC,EACnCA,WAAYD,EADuB,EACvBA,QACd8R,EAAatV,sBAAW,yCAC5B,WAAOgK,GAAP,kBAAAxE,EAAA,6DACU5E,EAAQJ,EAARI,IAEEc,EACN8B,EADFiC,KAAQ/D,MAHZ,SAKQ2T,EAASzU,EAAKc,EAAOsI,GAL7B,2CAD4B,sDAQ5B,CAACxJ,EAAMgD,EAAS6R,IAEZE,EAAgBvV,uBACpB,SAACkF,GAEC,IADA,IAAIsQ,EAActQ,EAAEC,OACY,QAAzBqQ,EAAYC,UACjBD,EAAcA,EAAYE,WAE5B,IAAMC,EAASH,EAAY7I,QAAQgJ,OAC/BlS,EAAY6R,EAAWK,GACtBnC,MAAM,iFAEb,CAAC/P,EAAY6R,IAEf,OACE,yBAAKxW,UAAWL,GAAG,UAChBwW,GAAO1U,KAAI,SAAC+E,EAAO4M,GAClB,OACE,kBAAC,IAAD,CACEzR,IAAKyR,EACL0D,cAAa1D,EAAM,EACnBjM,QAASsP,EACT3W,MAAO2M,GAAS2G,EAAM,EAAIgD,GAAY,U,oBC/B5CzW,GAAKM,IAAWJ,KAAKC,MA4IZiX,GA3IA,WAAO,IAAD,EACOzW,mBAAS,IADhB,mBACZ0W,EADY,KACLC,EADK,OAEK3W,oBAAS,GAFd,mBAEZ4W,EAFY,KAENC,EAFM,KAGbpR,EAAWC,cAHE,EAIiBC,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAAzDvB,EAJW,EAIXA,WAAqBuP,EAJV,EAICxP,QACZqO,EAAY9M,aAAY,SAAC5B,GAAD,OAAWA,EAAM8O,UAAzCJ,QACArR,EAASuE,aAAY,SAAC5B,GAAD,OAAWA,EAAMhE,SAAtCqB,KACFmS,EAAY3S,sBAAW,wBAAC,6BAAAwF,EAAA,sDAE5B,GADM3D,EAAMiN,KAEV,IACEjK,EAASjC,EAAMf,IACf,MAAO8B,GACPtB,QAAQC,IAAIqB,GANY,2CAS3B,CAACkB,IACEqR,EAAmBlW,sBAAW,yCAClC,WAAOqJ,GAAP,gBAAA7D,EAAA,sDAEY9D,EACNsR,EADFvN,KAAQ/D,MAEV,IACEmD,EAASyM,GAAW9Q,EAAKI,IAAKc,EAAO2H,EAAS7I,IAC9CmS,IACA,MAAOhP,GACPtB,QAAQC,IAAIqB,GARhB,2CADkC,sDAYlC,CAACnD,EAAMmS,EAAW9N,EAAUmO,IAExBzN,EAAevF,uBAAY,SAACkF,GAAO,IAC/BC,EAAWD,EAAXC,OACR4Q,EAAS5Q,EAAOG,SACf,IACGd,EAAexE,uBACnB,SAACkF,GACCA,EAAEiI,iBACE1J,GACFyS,EAAiBJ,GACjBC,EAAS,KAETvC,MAAM,6DAGV,CAAC/P,EAAYqS,EAAOI,IAGhB5C,EAAiBtT,sBAAW,yCAChC,WAAOkC,EAAMX,EAAI4D,GAAjB,kBAAAK,EAAA,+EAIcX,EAAS2M,GAAStP,EAAMX,EAAP,OAAWyR,QAAX,IAAWA,OAAX,YAAWA,EAAIvN,YAAf,aAAW,EAAU7E,MAJpD,gBAKmB,MALnB,EAGM0E,MAASoI,SAGTvI,EAAOvG,MAAMuX,KAAO,OACpBxD,KAPN,gDAUItQ,QAAQC,IAAR,MAVJ,yDADgC,0DAchC,CAACuC,EAAUmO,EAAIL,IAEXY,EAAavT,uBACjB,SAACkF,GAAO,IACEiO,EAA0BjO,EAA1BiO,cAAehO,EAAWD,EAAXC,OACjB5D,EAAK4R,EAAcC,aAAa,cACtCE,EAAe,OAAQ/R,EAAI4D,KAE7B,CAACmO,IAEG8C,EAAapW,uBAAY,WAC7BiW,GAAQ,SAACxO,GAAD,OAAUA,OACjB,IA8CH,OACE,6BAAS3I,UAAWL,GAAG,WACrB,uBAAGK,UAAWL,GAAG,iBAAjB,gBACA,6BAASK,UAAWL,GAAG,mBACrB,0BAAM4H,SAAU7B,GACd,8BAAU4B,SAAUb,EAAcD,MAAOwQ,IACzC,2BAAO5T,KAAK,SAASoD,MAAM,mBAG/B,6BAASxG,UAAWL,GAAG,wBACpBoT,EACGA,EAAQtR,KAAI,SAACmE,GACX,OAzDM,SAACA,GACjB,OACE,6BAASjE,IAAKC,cAAM5B,UAAWL,GAAG,gBAChC,6BACE,kBAAC,IAAD,CAAMkC,GAAI+D,EAAK2R,SAAL,mBAA4B3R,EAAK2R,SAASzV,KAAQ,IAC1D,yBACE9B,UAAWL,GAAG,YACdoC,IAAK6D,EAAK2R,SAAW3R,EAAK2R,SAAS9G,UAAY,GAC/CxO,IAAK2D,EAAK2R,SAAW3R,EAAK2R,SAAS9G,UAAY,KAEjD,0BAAMzQ,UAAWL,GAAG,SACjBiG,EAAK2R,SAAW3R,EAAK2R,SAAS3U,MAAQ,MAI7C,0BAAM5C,UAAWL,GAAG,SACjBiG,EAAKiP,UACFD,KAAOhP,EAAKiP,WAAW7M,OAAvB,yCACA,IAEN,6BAASlI,MAAO,CAAE4V,UAAW,SAC3B,uBAAG1V,UAAWL,GAAG,iBACbuX,GAAQtR,EAAK2E,QAAQnC,OAAS,GAA/B,UACMxC,EAAK2E,QAAQlC,OAAO,EAAG,IAD7B,OAEGzC,EAAK2E,SAEV3E,EAAK2E,QAAQnC,OAAS,IACrB,uBAAGpI,UAAWL,GAAG,QAASwH,QAASmQ,GAC/BJ,EAAe,qBAAR,uBAIf,yBAAKlX,UAAWL,GAAG,kBACjB,0BACEK,UAAWL,GAAG,SACdwH,QAASsN,EACTzK,aAAYpE,EAAK9D,KAEjB,kBAAC,IAAD,OAEF,8BAAO8D,EAAKkP,MAAM1M,OAAlB,yBAiBWoP,CAAU5R,MAEnB,Q,UCpINjG,GAAKM,IAAWJ,KAAKC,MACrBwG,GAAU,CACd,CACEE,MAAO,YACPiR,MAAO,gBAET,CACEjR,MAAO,UACPiR,MAAO,sBAET,CACEjR,MAAO,OACPiR,MAAO,iBAgLIC,GA7KI,SAAC,GAUb,IATI/Q,EASL,EATJjC,QACA+H,EAQI,EARJA,MACAhK,EAOI,EAPJA,GACAf,EAMI,EANJA,KACA6U,EAKI,EALJA,SACAxD,EAII,EAJJA,QACA5N,EAGI,EAHJA,gBACAD,EAEI,EAFJA,kBACAP,EACI,EADJA,WACI,EAC4BrE,mBAAS,CACvCkG,MAAO,YACPiR,MAAO,iBAHL,mBACGE,EADH,KACaC,EADb,OAKwBtX,mBAAS,gBALjC,mBAKGsO,EALH,KAKWiJ,EALX,KAME9R,EAAWC,cACX8R,EAAY5W,uBAAY,WAAO,IAC3BwD,EAAYiC,EAAZjC,QACA6N,EAAS9P,EAAT8P,KACR,GAAI7N,EAAS,CACX,GAAI,GAAKqT,YAAYrT,EAAQa,UAAWgN,GAGtC,OAFAqF,EAAYtR,GAAQ,SACpBuR,EAAUvR,GAAQ,GAAGmR,OAGvB,GAAI,GAAKM,YAAYrT,EAAQc,QAAS+M,GAGpC,OAFAqF,EAAYtR,GAAQ,SACpBuR,EAAUvR,GAAQ,GAAGmR,OAGvB,GAAI,GAAKM,YAAYrT,EAAQY,KAAMiN,GAGjC,OAFAqF,EAAYtR,GAAQ,SACpBuR,EAAUvR,GAAQ,GAAGmR,UAIxB,CAAChV,EAAIkE,IAmBF8P,EAAgBvV,uBAAY,WAAO,IAC/BsF,EAAUmR,EAAVnR,MACR,GAAI7B,EAAY,CAAC,IAEL/B,EACN+D,EADFA,KAAQ/D,MAEVmD,EAAS/B,EAAWpB,EAAOlB,EAAKI,IAAK0E,SAErCkO,MAAM,uFAEP,CAAC3O,EAAUrE,EAAMiF,EAAMgR,EAAUhT,IAQpC,OAHAtD,qBAAU,WACRyW,MACC,CAACA,IAEF,oCACGpW,EACC,oCACGwD,GACC,kBAAC,GAAD,CACE9B,KAAM,WADR,UAEKuU,EAASF,MAFd,4DAIDtS,GACC,kBAAC,GAAD,CAAQ/B,KAAM,SAAd,wEAEF,6BAASpD,UAAWL,GAAG,gBACrB,6BAASK,UAAWL,GAAG,oBACrB,4BACE,wBAAIK,UAAW,QACb,kBAAC,IAAD,OAED0B,GACCA,EAAK+K,OACL/K,EAAK+K,MAAMhL,KAAI,SAACyJ,GAAD,OACb,wBAAIvJ,IAAKC,cAAM5B,UAAW,cACxB,kBAAC,IAAD,CAAM6B,GAAE,mBAAcqJ,EAAK8M,MAAMlW,MAC/B,yBACEC,IAAKmJ,EAAK8M,MAAMvH,UAChBxO,IAAKiJ,EAAK8M,MAAMC,gBAO9B,6BAASjY,UAAWL,GAAG,sBACrB,6BAASK,UAAWL,GAAG,YACrB,yBAAKoC,IAAKL,EAAKM,UAAWC,IAAI,YAEhC,6BAASjC,UAAWL,GAAG,iBACrB,wBAAIK,UAAWL,GAAG,UAAW+B,EAAKQ,OAClC,uBAAGlC,UAAWL,GAAG,WACf,iDZpIW,SAACoI,GAC5B,IAAImQ,EAAI,GACR,GAAInQ,EACF,IAAK,IAAIoI,EAAI,EAAGA,EAAIpI,EAAQK,OAAQ+H,IAClC+H,GAAC,UAAOnQ,EAAQoI,GAAf,KAGL,OAAO+H,EY8HU/P,CAAczG,EAAKqG,UAEtB,6BAAS/H,UAAWL,GAAG,aACrB,0BAAMK,UAAWL,GAAG,UAClB,kBAAC,IAAD,MACCuQ,GAAOzD,GACR,kBAAC,IAAD,CAAazM,UAAWL,GAAG,iBAE7B,0BAAMK,UAAWL,GAAG,aACjB8M,EAAQA,EAAMrE,OAAS,EAD1B,iBAGA,0BAAMpI,UAAWL,GAAG,eACjBoT,EAAUA,EAAQ3K,OAAS,EAD9B,kBAIF,6BAASpI,UAAWL,GAAG,gBACrB,mDACA,gCACqByH,IAAlB1F,EAAKsF,SAAyBtF,EAAKsF,SAAW,8BAGnD,6BACE,yBAAKhH,UAAWL,GAAG,iBACjB,iEACA,kBAAC,GAAD,CACE4W,SAAUA,EACV7U,KAAMA,EACNe,GAAIA,EACJgK,MAAOA,GAASA,EAAMrE,OAAS,EApG7B,WAAO,IACnB1D,EAAYiC,EAAZjC,QACJiE,EAAM,IACV,GAAI8D,EACF,IAAK,IAAI0D,EAAI,EAAGA,EAAI1D,EAAMrE,OAAQ+H,IAAK,CAAC,IAAD,EACrC,IAAI,UAAA1D,EAAM0D,UAAN,eAAUrO,QAAV,OAAkB4C,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAS5C,KAAK,CAClC6G,EAAMwP,OAAO1L,EAAM0D,GAAGjF,MACtB,OAIN,OAAOvC,EAyF8CyP,GAAkB,OAGzD,yBAAKpY,UAAWL,GAAG,QACjB,kBAAC,KAAD,CACEK,UAAWL,GAAG,UACd2G,QAASA,GACTgB,SAjFA,SAACqQ,GACnBC,EAAYD,IAiFMnR,MAAOmR,EACPU,cAAc,EACd7Q,YAAaoH,IAEf,4BAAQ5O,UAAWL,GAAG,aAAcwH,QAASsP,GAC3C,8BACE,kBAAC,IAAD,OAFJ,qBAWV,kBAAC,GAAD,OAGF,kBAAC,eAAD,CAAavN,MAAM,QAAQC,KAAM,OCrM1BmP,GCMA,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACMjY,oBAAS,GADf,mBACrBmN,EADqB,KACVC,EADU,KAEtB3H,EAAWC,cAFW,EAGEC,aAAY,SAAC5B,GAAD,OAAWA,EAAMhE,SAAnDqB,EAHoB,EAGpBA,KAAM4K,EAHc,EAGdA,YACNyG,EAAY9M,aAAY,SAAC5B,GAAD,OAAWA,EAAM8O,UAAzCJ,QAJoB,EAUxB9M,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAJ/BxB,EAN0B,EAM1BA,QACAC,EAP0B,EAO1BA,WACAO,EAR0B,EAQ1BA,kBACAC,EAT0B,EAS1BA,gBAEIqT,EAAUtX,sBAAW,yCACzB,WAAOuB,GAAP,UAAAiE,EAAA,sDACE,IACEX,EAASyF,GAAU/I,IACnBsD,EAASuM,GAAU7P,IACnB,MAAOoC,GACPtB,QAAQC,IAAIqB,GALhB,2CADyB,sDASzB,CAACkB,IAcH,OATA1E,qBAAU,WACRqM,GAAa,GADC,IAGFjL,EACR8V,EADFE,OAAUhW,GAEZrB,OAAOsX,SAAS,EAAG,GACnBF,EAAQ/V,GACRiL,GAAa,KACZ,CAAC8K,EAASD,IAEX,0BAAMvY,UAAU,kBACd,kBAAC,GAAD,CACEkC,MAAK,iBAAKR,QAAL,IAAKA,OAAL,EAAKA,EAAMQ,MAAX,gBACLmI,YAAW,iBAAK3I,QAAL,IAAKA,OAAL,EAAKA,EAAMsF,YAEvByG,GAAanB,EACZ,kBAAC,GAAD,MAEA,kBAAC,GAAD,CACE5K,KAAMA,EACNe,GAAI8V,EAAME,OAAOhW,GACjB8T,SAxBS,SAAC9T,EAAI6H,EAAMY,GAC1BnF,E3BoGoB,SAACtD,EAAI6H,EAAMY,GAAX,MAAqB,CAC3C9H,KAxEuB,YAyEvBW,QAASkH,GAAgBxI,EAAI6H,EAAMY,I2BtGxByN,CAASlW,EAAI6H,EAAMY,KAwBtBuB,OAAW,OAAJ/K,QAAI,IAAJA,OAAA,EAAAA,EAAM+K,QAAS,GACtBsG,QAASA,EACTrO,QAASA,EACTQ,kBAAmBA,EACnBC,gBAAiBA,EACjBR,WAAYA,M,oBCvDhBhF,GAAKM,IAAWJ,KAAKC,MAYZ8Y,GAXA,WACb,OACE,4BAAQ5Y,UAAWL,GAAG,WACpB,yBAAKK,UAAWL,GAAG,iBACnB,0BAAMK,UAAWL,GAAG,gBAApB,kBACoBiV,OAAS5M,OAAO,W,oBCHpCrI,GAAKM,IAAWJ,KAAKC,MCNZ+Y,GDOA,SAAC,GAAkB,IAAhBtQ,EAAe,EAAfA,SAAe,EACLjI,mBAAS,IADJ,mBACxByK,EADwB,KACjB+N,EADiB,OAEPxY,mBAAS,GAFF,mBAExBqK,EAFwB,KAElBiD,EAFkB,KAGzB7H,EAAWC,cACT3F,EAAU4F,aAAY,SAAC5B,GAAD,OAAWA,EAAMhE,SAAvCA,MAYF0Y,GAVe7X,sBAAW,yCAC9B,WAAO8X,EAAG5V,GAAV,4BAAAsD,EAAA,sDAAgBiE,EAAhB,+BAAuB,EACrB,IACE5E,EAASwF,GAAQyN,EAAG5V,EAAMuH,IAC1B,MAAO9F,GACPtB,QAAQC,IAAIqB,GAJhB,2CAD8B,wDAQ9B,CAACkB,IAEkB7E,uBAAY,WAAO,IAC9B+X,EAAgB7X,OAAhB6X,YACAC,EAAiB1H,SAAS2H,KAA1BD,aACFE,EACH5H,SAAS6H,iBAAmB7H,SAAS6H,gBAAgBD,WACtD5H,SAAS2H,KAAKC,UACRE,EAAW/Q,EAAX+Q,OACFN,EAAInO,UAAUyO,GACjBpD,MAAM,KAAK,GACXqD,QAAQ,UAAW,KACnBrD,MAAM,KAAK,GACVgD,EAAeD,EAAcG,EAAY,MAE3CxL,EAAQjD,EAAO,GACfpH,QAAQC,IAAIwV,MAGb,CAACzQ,EAAUqF,EAASjD,KAUvB,OATAtJ,qBAAU,WAAO,IACPiY,EAAW/Q,EAAX+Q,OACFN,EAAInO,UAAUyO,GACjBpD,MAAM,KAAK,GACXqD,QAAQ,UAAW,KACnBrD,MAAM,KAAK,GACd4C,EAASE,GACTjT,EAASuF,GAAS0N,EAAG,EAAGrO,MACvB,CAAC5E,EAAUwC,EAAUwQ,EAAcpO,IAEpC,oCACE,kBAAC,GAAD,CAAQzI,MAAK,6BACb,6BAASlC,UAAWL,GAAG,4BACrB,wBAAIK,UAAU,kBAAd,oCAAwC+K,GACxC,kBAAC,GAAD,CAAUlC,SAAUxI,EAAOuH,KAAK,c,oBErDxCzF,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCACC,IAIDiX,GAAgB,SAAC9V,GACrB,OAAOrB,IAAMM,KAAN,SAAqBe,IAWfU,gBAAa,kBAAC,GAfC,kBAiBR,SAACC,EAAOC,GACxB,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OANa,YAAC,GAdC,kBAuBR,SAACR,EAAOC,GACxB,MAAO,CACLc,SAAS,EACTR,SAAS,EACTC,OAAO,MAba,YAAC,GAbC,kBA6BR,SAACR,EAAOC,GACxB,OAAO,eACFD,EADL,CAEEO,SAAS,EACTC,OAAO,OApBa,IALP,CACnBD,SAAS,EACTC,OAAO,EACPO,SAAS,ICfXjD,IAAOC,SACP,IAAMzC,GAAKM,IAAWJ,KAAKC,MAwLZ2Z,GAvLI,WAAO,IAAD,EACOnZ,mBAAS,CACrCqX,SAAU,KACVzV,MAAO,GACP6F,QAAS,GACT2R,OAAQ,GACRnH,KAAM,GACNvL,SAAU,GACVF,OAAQ,KARa,mBAChByD,EADgB,KACPuG,EADO,KAUjB/K,EAAWC,cACTtB,EAAYuB,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAAzCxB,QAXe,EAYauB,aAAY,SAAC5B,GAAD,OAAWA,EAAMsV,UAC3DC,GAbiB,EAYfhV,QAZe,EAYNC,MAZM,EAYCO,QACGlE,uBACzB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERmP,OAAQrT,EAAOG,WAGnB,CAAC+D,KAEGsP,EAAiB3Y,uBACrB,SAACkF,GAAO,IACEsT,EAAoBnP,EAApBmP,OAAQ3R,EAAYwC,EAAZxC,QACR+R,EAAY1T,EAAZ0T,QACO,KAAXJ,GACc,KAAZI,GACFhJ,EAAW,eACNvG,EADK,CAERxC,QAAQ,GAAD,oBAAMA,GAAN,CAAe2R,IACtBA,OAAQ,QAKhB,CAACnP,IAyBGwP,EAAc7Y,uBAClB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERrI,MAAOmE,EAAOG,WAGlB,CAAC+D,IAEGyP,EAAiB9Y,uBACrB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERvD,SAAUX,EAAOG,WAGrB,CAAC+D,IAEG0P,EAAe/Y,uBACnB,SAACkF,GAAO,IACEC,EAAWD,EAAXC,OACRyK,EAAW,eACNvG,EADK,CAERzD,OAAQT,EAAOG,WAGnB,CAAC+D,IAEG7E,EAAexE,sBAAW,yCAC9B,WAAOkF,GAAP,8BAAAM,EAAA,6DACEN,EAAEiI,iBAEQvM,EACN4C,EADFiC,KAAQ7E,IAEF6V,EAA+CpN,EAA/CoN,SAAU3Q,EAAqCuD,EAArCvD,SAAU9E,EAA2BqI,EAA3BrI,MAAO6F,EAAoBwC,EAApBxC,QAASjB,EAAWyD,EAAXzD,QACtCkK,EAAW,IAAIC,UACZC,OAAO,YAAayG,GAC7B3G,EAASE,OAAO,QAAShP,GACzB8O,EAASE,OAAO,UAAWnJ,GAC3BiJ,EAASE,OAAO,WAAYlK,GAC5BgK,EAASE,OAAO,MAAOpP,GACvBkP,EAASE,OAAO,SAAUpK,GAZ5B,UAeYf,EDtGqB,CACnC3C,KARoB,SASpBW,QAASyV,GCoGyBxI,KAfhC,iBAgBiB,MAhBjB,EAcIxK,MAASoI,SAGTxN,OAAOmH,SAASC,KAAhB,UACE,qBAlBN,4CAD8B,sDAuB9B,CAAC+B,EAAS7F,EAASqB,IAeb7D,EAA6CqI,EAA7CrI,MAAO6F,EAAsCwC,EAAtCxC,QAAS2R,EAA6BnP,EAA7BmP,OAAQ1S,EAAqBuD,EAArBvD,SAAUF,EAAWyD,EAAXzD,OAC1C,OACE,6BAAS9G,UAAWL,GAAG,gBACrB,6BAASK,UAAWL,GAAG,mBACrB,0BAAM4H,SAAU7B,GACd,yBAAK1F,UAAWL,GAAG,uBACjB,yBAAKK,UAAWL,GAAG,eAAgBsC,IAAI,KACvC,yBACEjC,UAAWL,GAAG,iBACdG,MAAO,CAAEiS,SAAU,aAEnB,4BAAQ/R,UAAWL,GAAG,QAAtB,mCACA,2BAAOyD,KAAK,OAAOkE,SA3FZ,SAAClB,GAAO,IAEbgL,EACRhL,EADFC,OAAU+K,MAEZN,EAAW,eACNvG,EADK,CAERoN,SAAUvG,EAAM,MAElB,IAAM8I,EAASzP,IAAI8G,gBAAgBH,EAAM,IACzCI,SAASC,cAAc,gBAAgB1P,IAAMmY,GAkFM1L,UAAQ,MAIrD,2BACEpL,KAAK,OACLoD,MAAOtE,EACPoF,SAAUyS,EACVvS,YAAY,sBACZgH,UAAQ,IAEV,yBAAKxO,UAAWL,GAAG,YApCT,SAACoI,EAASoS,GAC1B,cAAOpS,QAAP,IAAOA,OAAP,EAAOA,EAAStG,KAAI,SAACiY,GACnB,IAAMpW,EAAM1B,cACZ,OACE,yBAAK5B,UAAWL,GAAG,cAAegC,IAAK2B,GACrC,0BAAMtD,UAAWL,GAAG,gBAAiB+Z,GACrC,0BAAM1Z,UAAWL,GAAG,YAAawH,QAASgT,GAA1C,SA+BGC,CAAUrS,GAnHG,SAAC3B,GAAO,IACtB2B,EAAYwC,EAAZxC,QACF1B,EAASD,EAAEC,OAAOgU,gBAAgBC,UACpCC,EAAaxS,EAAQiB,QAAO,SAAC0Q,GAC/B,OAAOA,IAAWrT,KAGpByK,EAAW,eACNvG,EADK,CAERxC,QAASwS,QA2GH,2BACEva,UAAWL,GAAG,gBACdyD,KAAK,OACLoE,YAAY,iBACZhB,MAAOkT,EACPpS,SAAUsS,EACVY,UAAWX,KAGf,2BACEzW,KAAK,OACLoD,MAAOM,EACPU,YAAY,mDACZF,SAAU2S,EACVzL,UAAQ,IAEV,8BACEhH,YAAY,eACZhB,MAAOQ,EACPM,SAAU0S,EACVxL,UAAQ,IAEV,2BAAOpL,KAAK,SAASoD,MAAM,qBC9KtBiU,GATA,WACb,OACE,oCACE,kBAAC,GAAD,CAAQvY,MAAK,uBACb,kBAAC,GAAD,Q,wCCFAvC,GAAKM,IAAWJ,KAAKC,MA2BZ4a,gBA1BG,SAAC,GAA2B,IAAzB7K,EAAwB,EAAxBA,QAASvE,EAAe,EAAfA,SAAe,EACbhL,mBAAS,IADI,mBACpCqa,EADoC,KAC3BC,EAD2B,KAErCC,EAAsB3Z,uBAAY,SAACkF,GACvCwU,EAAWxU,EAAEC,OAAOG,SACnB,IACGd,EAAe,SAACU,GACpBA,EAAEiI,iBACF/C,EAASqP,EAAS,EAAG,GACrB9K,EAAQiL,KAAR,oBAA0BH,KAE5B,OACE,yBAAK3a,UAAWL,GAAG,eACjB,0BAAMK,UAAWL,GAAG,kBAAmB4H,SAAU7B,GAC/C,kBAAC,IAAD,CAAU1F,UAAWL,GAAG,eAAgBwH,QAASzB,IACjD,2BACEtC,KAAK,QACLoE,YAAY,yBACZhB,MAAOmU,EACPrQ,KAAK,IACLhD,SAAUuT,SCPdlb,GAAKM,IAAWJ,KAAKC,MAiKZib,GAhKA,WAAO,IAAD,EACaza,oBAAS,GADtB,mBACZ0a,EADY,KACFC,EADE,OAEa3a,oBAAS,GAFtB,mBAEF4a,GAFE,aAGa5a,oBAAS,GAHtB,mBAGZ6a,EAHY,KAGFvR,EAHE,KAKb7D,EAAWC,cALE,EAMaC,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAArDvB,EANW,EAMXA,WAAYD,EAND,EAMCA,QACdmP,EAAY3S,sBAAW,wBAAC,6BAAAwF,EAAA,sDAE5B,GADM3D,EAAMiN,KAEV,IACEjK,EAASjC,EAAMf,IACf,MAAO8B,GACPtB,QAAQC,IAAIqB,GANY,2CAS3B,CAACkB,IACEqV,EAAela,sBAAW,wBAAC,6BAAAwF,EAAA,sEAGrBX,E5CuDe,CAC3B3C,KA5EoB,SA6EpBW,QA7CO1B,IAAMM,KAAN,Y4Cf0B,gBAIhB,MAJgB,EAE7B6D,MAASoI,SAGTG,aAAasM,WAAW,OACxBH,GAAY,GACZ9Z,OAAOmH,SAAS+S,UAPa,2CAS9B,CAACvV,IACE9E,EAAY,SAACmF,GAAO,IAChBjF,EAAeC,OAAfD,WAGNyI,EAFEzI,GAAc,KAAOA,GAAc,MAQzCE,qBAAU,WAIR,OAHAwS,IACA5S,IACAG,OAAOE,iBAAiB,SAAUL,GAC3B,WACLG,OAAOG,oBAAoB,SAAUN,MAEtC,CAAC4S,IAEJ,IAAM0H,EAAYra,uBAAY,WAC5B+Z,GAAY,SAACtS,GAAD,OAAUA,OACrB,CAACsS,IACJ,OACE,4BAAQjb,UAAWL,GAAG,WACpB,yBAAKK,UAAWL,GAAG,CAAC,MAAOwb,GAAY,YACrC,yBAAKnb,UAAWL,GAAG,UACjB,kBAAC,IAAD,CAAMkC,GAAI,KACR,0BAAM7B,UAAWL,GAAG,OAApB,QACA,0BAAMK,UAAWL,GAAG,OAApB,WAGJ,kBAAC,GAAD,CAAW2L,SAAUA,KACpB6P,GACC,wBAAInb,UAAWL,GAAG,mBAAoBwH,QAASoU,GAC7C,6BACA,6BACA,+BAGU,IAAbJ,GACC,yBAAKnb,UAAWL,GAAG,mBACjB,yBAAKK,UAAWL,GAAG,cACjB,kBAAC,IAAD,CAAMkC,GAAI,sBACR,kBAAC,IAAD,MACA,oDAGJ,wBAAI7B,UAAWL,GAAG,OACfgF,EACC,oCACE,4BACE,8BACE,yBACE5C,IAAK2C,EAAQiC,KAAOjC,EAAQiC,KAAK8J,UAAY,GAC7CxO,IAAK,KACLkF,QAASoU,KAGb,yBAAKvb,UAAWL,GAAG,OAAD,UAAYqb,EAAW,OAAS,MAChD,4BACE,4BACE,kBAAC,IAAD,CAAMnZ,GAAG,OAAT,uBAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,WAAT,8BAEF,wBAAIsF,QAASiU,GAAb,6BAEF,yBAAKpb,UAAWL,GAAG,gBAKzB,oCACE,wBAAIK,UAAWL,GAAG,UAChB,kBAAC,IAAD,CAAMkC,GAAI,UAAV,uBAEF,4BACE,kBAAC,IAAD,CAAMA,GAAI,WAAV,qBAQbsZ,GAAYH,GACX,wBAAIhb,UAAWL,GAAG,yBAA0BwH,QAASoU,GAClD5W,EACC,oCACE,wBAAI3E,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAG,OACP,kBAAC,IAAD,MADF,wBAIF,wBAAI7B,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAG,WACP,kBAAC,IAAD,MADF,+BAIF,wBAAI7B,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAI,sBACR,kBAAC,IAAD,MADF,yBAIF,wBAAI7B,UAAWL,GAAG,oBAAqBwH,QAASiU,GAC9C,kBAAC,IAAD,MADF,8BAKF,oCACE,wBAAIpb,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAI,UACR,kBAAC,IAAD,MADF,wBAIF,wBAAI7B,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAI,WACR,kBAAC,IAAD,MADF,kBAIF,wBAAI7B,UAAWL,GAAG,qBAChB,kBAAC,IAAD,CAAMkC,GAAI,sBACR,kBAAC,IAAD,MADF,6B,wCCnKVlC,GAAKM,IAAWJ,KAAKC,MCJZ0b,GDKC,WACd,OACE,oCACE,kBAAC,GAAD,CAAQtZ,MAAK,0BACb,6BAASlC,UAAWL,GAAG,oBACrB,6CACA,yBAAKoC,IAAK0Z,KAAQxZ,IAAK,W,oBEDzBtC,GAAKM,IAAWJ,KAAKC,MAuJZ4b,GAtJI,WAAO,IAAD,EACKpb,mBAAS,CACnC8C,KAAM,EACNuY,WAAW,EACXC,QAAS,GACThW,KAAM,GACNgJ,OAAQ,KANa,mBAChBiN,EADgB,KACRC,EADQ,KAQjB/V,EAAWC,cARM,EASSC,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAArDxB,EATe,EASfA,QAASC,EATM,EASNA,WACAgC,EAASV,aAAY,SAAC5B,GAAD,OAAWA,EAAMsC,QAA/CjC,QACF0P,EAAWlT,sBAAW,wBAAC,iCAAAwF,EAAA,uDACrB3D,EAAMiN,OAEVjK,EAASjC,EAAMf,IAEXgZ,EAAM3a,OAAOmH,SAASyT,KAAK9F,MAAM,KACjC5S,EAAMyY,EAAIA,EAAI3T,OAAS,GAC7BrC,EAASwN,GAAQjQ,IAPU,2CAQ1B,CAACyC,IACJ1E,qBAAU,WAGR,OAFA+S,IACAhT,OAAOsX,SAAS,EAAG,GACZ,eACN,CAACtE,IAEJ,IAgCM6H,EAAiB/a,sBAAW,yCAChC,WAAOoC,EAAKY,EAAKd,GAAjB,gBAAAsD,EAAA,+EAE2BX,EAAS9B,EAAaX,EAAKY,EAAKd,IAF3D,OAEU8Y,EAFV,OAMmB,MADXA,EADF1V,MAASoI,QAGTwF,IAPN,gDAUI7Q,QAAQC,IAAR,MAVJ,yDADgC,0DAchC,CAACuC,EAAUqO,IAGPe,EAAajU,uBACjB,SAACQ,GAAD,OAAU,SAAC0E,GACT0V,EAAU,eACLD,EADI,CAEPF,WAAW,EACX/V,KAAMlE,QAGV,CAACma,IAEGlW,EAAezE,uBACnB,SAACkF,GACC0V,EAAU,eACLD,EADI,CAEPF,WAAW,OAGf,CAACE,IAEGnW,EAAexE,uBACnB,SAACQ,GAAD,gDAAU,WAAO0E,GAAP,gBAAAM,EAAA,yDACRN,EAAEiI,kBACE1J,EAFI,0CAImBoB,GtCGRrC,EsCFJ,eACJhC,GtCCkB,CACjC0B,KAvEuB,YAwEvBW,QAASoH,GAAgBzH,MsCTb,OAIEwY,EAJF,OAYW,MADXA,EADF1V,MAASoI,QAGTwF,IAbE,kDAgBJ7Q,QAAQC,IAAR,MAhBI,kCtCOU,IAACE,IsCPX,qBAAV,wDAoBA,CAACqC,EAAUqO,EAAUzP,IAEfgX,EAAoBE,EAApBF,UAAW/V,EAASiW,EAATjW,KACnB,OACE,6BAAS5F,UAAWL,GAAG,gBACpBgc,EACC,kBAAC,GAAD,CACEhW,aAAcA,EACdD,aAAcA,EACdE,KAAMA,IAEN,KACJ,6BACE,uBAAG5F,UAAWL,GAAG,kBAAmBgH,EAAOA,EAAK/D,MAAQ,GAAxD,wBAEF,6BACE,+BACE,+BACE,4BACE,4CACA,4CACA,4CACA,4CACA,0DACQ,OAAP8B,QAAO,IAAPA,OAAA,EAAAA,EAASiC,OAAQA,GAAQA,EAAK7E,MAAQ4C,EAAQiC,KAAK7E,IAClD,4CACE,OAGR,+BAtHS,WAAO,IAEZ,EADF6E,EAASjC,EAATiC,KACR,OAAIA,EACQ,OAAGA,QAAH,IAAGA,OAAH,YAAGA,EAAM4O,gBAAT,aAAG,EAAgB9T,KAAI,SAACmE,GAChC,OACE,wBAAIjE,IAAKiE,EAAK9D,KACZ,4BACE,kBAAC,IAAD,CAAMD,GAAE,gBAAW+D,EAAK9D,MACtB,yBAAKC,IAAK6D,EAAK5D,UAAWC,IAAK2D,EAAK5D,cAGxC,4BACE,kBAAC,IAAD,CAAMH,GAAE,gBAAW+D,EAAK9D,MAAQ8D,EAAK1D,QAEvC,4BACG0D,EAAKmC,QAAQK,OAAS,EAAtB,UACMxC,EAAKmC,QAAQ,GADnB,MAEGnC,EAAKmC,QAAQ,IAEnB,4BAAKnC,EAAK6G,MAAQyD,GAAOtK,EAAK6G,OAAS,GACvC,4BAAKmI,KAAOhP,EAAKiP,WAAW7M,OAAO,sCACnC,wBAAIhI,UAAWL,GAAG,sBAChB,uBAAGwH,QAASgO,EAAWvP,IAAvB,gBACA,uBAAGuB,QAAS8U,GAAZ,UAOH,KAwFO3Q,Q,qBCxJZ3L,GAAKM,IAAWJ,KAAKC,MAaZqc,GAZE,SAAC,GAAa,EAAXC,KAClB,OACE,yBAAKpc,UAAWL,GAAG,aACjB,4BACE,4BACE,kBAAC,IAAD,CAAMkC,GAAE,sBAAR,wC,qBCDJlC,GAAKM,IAAWJ,KAAKC,MAwHZuc,GAvHY,SAAC,GAUrB,IATLD,EASI,EATJA,KACA3O,EAQI,EARJA,UACAsF,EAOI,EAPJA,QACAJ,EAMI,EANJA,mBACAG,EAKI,EALJA,gBACAwJ,EAII,EAJJA,SACAhF,EAGI,EAHJA,WACAJ,EAEI,EAFJA,KACAzC,EACI,EADJA,WAoGA,OAAOhH,GAAakF,EAClB,kBAAC,GAAD,MAEA,6BAAS3S,UAAWL,GAAG,wBACX,YAATyc,GACC,6BAASpc,UAAWL,GAAG,YAvGb,SAACyc,GACf,GAAa,YAATA,EACF,OACE,oCACsB,IAAnBrJ,EAAQ3K,QACP,uBAAGpI,UAAWL,GAAG,UAAjB,6DAGA,oCACGoT,EAAQ3K,OAAS,GAChB2K,EAAQtR,KAAI,SAAC0R,GACX,OACE,6BAASxR,IAAKC,cAAM5B,UAAWL,GAAG,CAAC,OAAQ,SACzC,6BAASK,UAAWL,GAAG,cACrB,kBAAC,IAAD,CACEkC,GAAE,gBACAsR,GAAUA,EAAOzR,MAAQyR,EAAOzR,KAAKI,MAGvC,yBACEC,IAAKoR,GAAUA,EAAOzR,MAAQyR,EAAOzR,KAAKM,UAC1CC,IAAKkR,GAAUA,EAAOzR,MAAQyR,EAAOzR,KAAKQ,SAG9C,uBAAGlC,UAAWL,GAAG,SACf,kBAAC,KAAD,CACEK,UAAWL,GAAG,SACd0J,KAAMkT,KACNpV,QAASsN,EAAWtB,KACnB,IACFA,GAAUA,EAAO2B,OAAS3B,EAAO2B,MAAM1M,OAN1C,wBASF,6BAASpI,UAAWL,GAAG,eACrB,uBAAGK,UAAWL,GAAG,SACdwT,GACCyB,KAAOzB,EAAO0B,WAAW7M,OACvB,wBAGN,uBAAGhI,UAAWL,GAAG,aACf,kBAAC,IAAD,CACEkC,GAAE,mBAAcsR,GAAUA,EAAOoE,SAASzV,MAEzCqR,GAAUA,EAAOoE,SAAS3U,MAAMsT,MAAM,KAAK,KAGhD,wBAAIlW,UAAWL,GAAG,UAChB,kBAAC,IAAD,CACEkC,GAAE,gBACAsR,GAAUA,EAAOzR,MAAQyR,EAAOzR,KAAKI,MAGtCqR,GAAUA,EAAOzR,MAAQyR,EAAOzR,KAAKQ,QAG1C,6BAASlC,UAAWL,GAAG,YACrB,yBACEoC,IACEoR,GACAA,EAAOoE,UACPpE,EAAOoE,SAAS9G,UAElBxO,IAAKkR,GAAUA,EAAOoE,SAAS3U,QAEjC,iCACE,uBAAG5C,UAAWL,GAAG,kBACL,IAATuX,GACD/D,GACAA,EAAO5I,SACP4I,EAAO5I,QAAQnC,QAAU,GAHxB,UAIM+K,EAAO5I,QAAQ0L,UAAU,EAAG,IAJlC,OAKG9C,EAAO5I,SAEZ4I,GACDA,EAAO5I,SACP4I,EAAO5I,QAAQnC,QAAU,GACvB,uBAAGpI,UAAWL,GAAG,QAASwH,QAASmQ,GAChCJ,EAAO,qBAAQ,sBAEhB,aAOG,IAApBpE,GACC,4BAAQ9S,UAAWL,GAAG,iBAAkBwH,QAASmV,GAAjD,yBAe4B/R,CAAQ,cC3HrCiS,GCKG,SAAC,GAA+B,IAE1CJ,EAFyC,EAA5BvM,QAAWtH,SACtByN,SACc3N,OAAO,GAAG6N,MAAM,KAAK,GAFI,EAGb5V,oBAAS,GAHI,mBAGxCmN,EAHwC,KAG7BC,EAH6B,OAIvBpN,oBAAS,GAJc,mBAIxC4W,EAJwC,KAIlCC,EAJkC,OAKvB7W,mBAAS,GALc,mBAKxCqK,EALwC,KAKlCiD,EALkC,OAMU3H,aACvD,SAAC5B,GAAD,OAAWA,EAAM8O,UADXJ,EANuC,EAMvCA,QAASJ,EAN8B,EAM9BA,mBAAoBG,EANU,EAMVA,gBANU,EASf7M,aAAY,SAAC5B,GAAD,OAAWA,EAAM6B,SAArDxB,EATuC,EASvCA,QAASC,EAT8B,EAS9BA,WACXoB,EAAWC,cACXyW,EAAcvb,sBAAW,yCAC7B,yCAAAwF,EAAA,sDAAOiE,EAAP,+BAAc,EACZ,IACE5E,EACEsM,GAAW,CACTJ,MAAO,EACPtH,UAGJ,MAAO9F,GACPtB,QAAQC,IAAIqB,GAThB,2CAD6B,qDAa7B,CAACkB,IAEGuR,EAAapW,uBAAY,WAC7BiW,GAAQ,SAACxO,GAAD,OAAUA,OACjB,IACG2T,EAAWpb,uBACf,SAACkF,GACC7C,QAAQC,IAAI,aACZiZ,EAAY9R,EAAO,GACnBiD,GAAQ,SAACjF,GAAD,OAASA,EAAM,OAEzB,CAAC8T,EAAa9R,IAEV8J,EAAavT,uBACjB,SAACiS,GAAD,OAAY,WAAO,IACTxM,EAASjC,EAATiC,KACJhC,EACFoB,EAAS2M,GAAS,OAAQS,EAAOrR,IAAK6E,EAAK7E,MAE3C4S,MAAM,8DAGV,CAAChQ,EAASC,EAAYoB,IAOxB,OALA1E,qBAAU,WACRqM,GAAa,GACb+O,IACA/O,GAAa,KACZ,CAAC+O,EAAa1W,EAAU4E,IAEzB,oCACE,kBAAC,GAAD,CACEzI,MAAO,2BACPkI,SAAU,iEAEZ,kBAAC,GAAD,CAAUgS,KAAMA,IAChB,kBAAC,GAAD,CACEA,KAAMA,EACN3O,UAAWA,EACXsF,QAASA,EACT2J,mBAAoB5J,EACpBH,mBAAoBA,EACpB2J,SAAUA,EACVpF,KAAMA,EACNI,WAAYA,EACZ7C,WAAYA,M,qBCxEd9U,GAAKM,IAAWJ,KAAKC,MA6BZ6c,GA5BQ,WAAO,IAAD,EACHrc,oBAAS,GADN,mBACpBuJ,EADoB,KACdC,EADc,KAErB8S,EAAc1b,uBAAY,WAC9BE,OAAOsX,SAAS,EAAG,KAClB,IACGK,EAAe7X,uBAAY,WAC/B,IAAM2b,EAAczb,OAAOyb,YAEzB/S,EADE+S,GAAe,OAKlB,IAOH,OANAxb,qBAAU,WAER,OADAD,OAAOE,iBAAiB,SAAUyX,GAC3B,WACL3X,OAAOG,oBAAoB,SAAUwX,MAEtC,CAACA,IAEF,4BACE/Y,UAAWL,GAAG,CAAC,kBAAmBkK,EAAO,OAAS,SAClD1C,QAASyV,GAFX,iBCiBWE,I,GAAAA,GAzBf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOV,KAAK,IAAIW,OAAK,EAACC,UAAWxP,KACjC,kBAAC,IAAD,CAAO4O,KAAK,YAAYY,UAAW1E,KACnC,kBAAC,IAAD,CAAO8D,KAAK,SAASY,UAAWtO,KAChC,kBAAC,IAAD,CAAO0N,KAAK,UAAUY,UAAWnE,KACjC,kBAAC,IAAD,CAAOuD,KAAK,UAAUY,UAAWpN,KACjC,kBAAC,IAAD,CAAOwM,KAAK,MAAMY,UAAWpH,KAC7B,kBAAC,IAAD,CAAOwG,KAAK,UAAUY,UAAWvC,KACjC,kBAAC,IAAD,CAAO2B,KAAK,qBAAqBY,UAAWR,KAC5C,kBAAC,IAAD,CAAOJ,KAAK,yBAAyBY,UAAWR,KAChD,kBAAC,IAAD,CAAOJ,KAAK,2BAA2BY,UAAWR,KAClD,kBAAC,IAAD,CAAOJ,KAAK,eAAeY,UAAWpH,KACtC,kBAAC,IAAD,CAAOwG,KAAK,cAAcY,UAAWtB,KACrC,kBAAC,IAAD,CAAOsB,UAAWxB,MAEpB,kBAAC,GAAD,MACA,kBAAC,GAAD,Q,SCjCNrZ,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEN,IAoBe6B,gBAAa,kBAAC,GAnBD,uBAqBD,SAACC,EAAOC,GAC7B,MAAO,CACLM,SAAS,EACTC,OAAO,MALa,YAAC,GAlBD,uBA0BD,SAACR,EAAOC,OARP,YAAC,GAjBD,uBA0BD,SAACD,EAAOC,GAC7B,MAAO,CACLM,SAAS,EACTC,OAAO,MAZa,IAJP,CACnBD,SAAS,EACTC,OAAO,ICVMoY,GATCC,aAAgB,CAC9B7c,SACAyP,UACA5J,SACAiN,UACA0I,UACAlV,QACAgT,Y,mBCVIwD,GAA6BC,aAAc,CAC/CC,oBAAqB,CAAC,UAAW,UAAW,aAK/BC,GAFDC,aAAYN,GAASO,aAAgBL,KCHnDM,IAASnM,OACP,kBAAC,IAAD,CAAUgM,MAAOA,IACf,kBAAC,GAAD,OAEF9L,SAASkM,eAAe,U,giBCV1BC,EAAOC,QAAU,IAA0B,qC","file":"static/js/main.3bc847e7.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./HomeSection.scss\";\nimport classname from \"classnames/bind\";\n\nconst cx = classname.bind(style);\nconst HomeSection = () => {\n  return (\n    <section className={cx(\"home-section\")}>\n      <section className={cx(\"words\")}>\n        <h3>With Happyness</h3>\n        <h4>자신의 인생 책을 찾아보세요</h4>\n      </section>\n    </section>\n  );\n};\n\nexport default HomeSection;\n","import React from \"react\";\nimport style from \"./ScrollItem.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst ScrollItem = ({ children }) => {\n  return <div className={cx(\"scroll-item\")}>{children}</div>;\n};\nexport default ScrollItem;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./SlickList.scss\";\nimport classnames from \"classnames/bind\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ScrollItem from \"../ScrollItem\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nconst cx = classnames.bind(style);\nconst SlickList = ({ books }) => {\n  const [settings, setSettings] = useState({\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    adaptiveHeight: true,\n    autoplay: true,\n    autoplaySpeed: 4000,\n  });\n  const checkSize = useCallback(() => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      setSettings({\n        ...settings,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      });\n    } else {\n      setSettings({\n        ...settings,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n      });\n    }\n  }, [settings]);\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, []);\n  return (\n    <section className={cx(\"slider-container\")}>\n      <Slider {...settings}>\n        {books?.slice(0, 8)?.map((book) => (\n          <ScrollItem key={v4()}>\n            <Link to={`/book/${book._id}`}>\n              <img src={book.thumbnail} alt={book.title} />\n            </Link>\n          </ScrollItem>\n        ))}\n      </Slider>\n    </section>\n  );\n};\nexport default SlickList;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const USER_CHECK = \"USER_CHECK\";\nexport const USER_CHECK_PENDING = \"USER_CHECK_PENDING\";\nexport const USER_CHECK_SUCCESS = \"USER_CHECK_SUCCESS\";\nexport const USER_CHECK_FAILURE = \"USER_CHECK_FAILURE\";\n\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_PENDING = \"LOGIN_PENDING\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT = \"LOGOUT\";\nexport const LOGOUT_PENDING = \"LOGOUT_PENDING\";\nexport const LOGOUT_SUCCESS = \"LOGOUR_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const POST_SHELVE = \"POST_SHELVE\";\nexport const POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nexport const POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nexport const POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nexport const DELETE_SHELVE = \"DELETE_SHELVE\";\nexport const DELETE_SHELVE_PENDING = \"DELETE_SHELVE_PENDING\";\nexport const DELETE_SHELVE_SUCCESS = \"DELETE_SHELVE_SUCCESS\";\nexport const DELETE_SHELVE_FAILURE = \"DELETE_SHELVE_FAILURE\";\n\nexport const DELETE_REVIEW = \"DELETE_REVIEW\";\nexport const DELETE_REVIEW_PENDING = \"DELETE_REVIEW_PENDING\";\nexport const DELETE_REVIEW_SUCCESS = \"DELETE_REVIEW_SUCCESS\";\nexport const DELETE_REVIEW_FAILURE = \"DELETE_REVIEW_FAILURE\";\n\nexport const EDIT_PROFILE = \"EDIT_PROFILE\";\nexport const EDIT_PROFILE_PENDING = \"EDIT_PROFILE_PENDING\";\nexport const EDIT_PROFILE_SUCCESS = \"EDIT_PROFILE_SUCCESS\";\nexport const EDIT_PROFILE_FAILURE = \"EDIT_PROFILE_FAILURE\";\n\nconst requestLogin = (id, pw) => {\n  return axios.post(`login`, {\n    email: id,\n    password: pw,\n  });\n};\nconst requestLogout = () => {\n  return axios.post(`logout`);\n};\nconst requestCheck = (atk) => {\n  const api = axios.create({\n    headers: {\n      Authorization: `${atk}`,\n    },\n  });\n  return api.post(`profile`);\n};\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nconst requestDeleteShelve = (uid, id, type) => {\n  console.log(uid, id, type);\n  return axios.delete(`shelve`, {\n    data: { uid, id, type },\n  });\n};\nconst requestDeleteReview = (id, rid, uid) => {\n  return axios.delete(`book/${id}/review/${rid}`, {\n    data: {\n      uid,\n    },\n  });\n};\nconst requestEditProfile = (data) => {\n  return axios.post(`edit`, data);\n};\n\nexport const check = (atk) => ({\n  type: USER_CHECK,\n  payload: requestCheck(atk),\n});\nexport const editProfile = (data) => ({\n  type: EDIT_PROFILE,\n  payload: requestEditProfile(data),\n});\nexport const logout = () => ({\n  type: LOGOUT,\n  payload: requestLogout(),\n});\nexport const login = (id, pw) => ({\n  type: LOGIN,\n  payload: requestLogin(id, pw),\n});\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nexport const deleteShelve = (uid, bid, type) => ({\n  type: DELETE_SHELVE,\n  payload: requestDeleteShelve(uid, bid, type),\n});\nexport const deleteReview = (id, rid, uid) => ({\n  type: DELETE_REVIEW,\n  payload: requestDeleteReview(id, rid, uid),\n});\n\nconst initialState = {\n  pending: true,\n  error: false,\n  success: false,\n  profile: {},\n  isLoggedIn: false,\n  loginPending: false,\n  loginError: false,\n  loginSuccess: false,\n  logoutPending: false,\n  logoutSuccess: false,\n  logoutError: false,\n  postShelvePending: false,\n  postShelveSuccess: false,\n  postShelveError: false,\n};\n\nexport default handleActions(\n  {\n    //LOGIN\n    [LOGIN_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loginPending: true,\n        loginError: false,\n        loginSuccess: false,\n      };\n    },\n    [LOGIN_SUCCESS]: (state, action) => {\n      return {\n        profile: action.payload.data,\n        loginPending: false,\n        loginError: false,\n        loginSuccess: true,\n        isLoggedIn: true,\n      };\n    },\n    [LOGIN_FAILURE]: (state, action) => {\n      console.log();\n      return {\n        ...state,\n        loginPending: false,\n        loginError: true,\n        loginSuccess: false,\n        isLoggedIn: false,\n      };\n    },\n    //USER_CHECK\n    [USER_CHECK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        isLoggedIn: false,\n      };\n    },\n    [USER_CHECK_SUCCESS]: (state, action) => {\n      // const { data } = action.payload;\n      return {\n        pending: false,\n        error: false,\n        isLoggedIn: true,\n        profile: action.payload.data,\n      };\n    },\n    [USER_CHECK_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n        isLoggedIn: false,\n      };\n    },\n    //LOGOUT\n    [LOGOUT_PENDING]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: true,\n        logoutError: false,\n        logoutSuccess: false,\n      };\n    },\n    [LOGOUT_SUCCESS]: (state, action) => {\n      //console.log(action.payload);\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: false,\n        logoutSuccess: true,\n        isLoggedIn: false,\n        profile: {},\n      };\n    },\n    [LOGOUT_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: true,\n        logoutSuccess: false,\n      };\n    },\n    //POST_SHELVE\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: true,\n        postShelveSuccess: false,\n        postShelveError: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveSuccess: true,\n        profile: data,\n      };\n    },\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveError: true,\n      };\n    },\n    [DELETE_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        profile: data,\n        pending: false,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [DELETE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_REVIEW_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        profile: data,\n      };\n    },\n    [DELETE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./Modal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\n\nconst cx = classnames.bind(style);\nconst convertType = {\n  read: \"읽은 책\",\n  want_read: \"읽을 책\",\n  reading: \"읽는중\",\n};\nconst Modal = ({ handleSubmit, handleCancel, item, type }) => {\n  const [to, setTo] = useState(convertType[type]);\n  const [book, setBook] = useState({ ...item });\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n  const handleSelect = useCallback((e) => {\n    const { target } = e;\n    setTo(target.options[target.selectedIndex].value);\n  }, []);\n  const handleChange = useCallback(\n    async (e) => {\n      const { user } = profile;\n      //서버에 수정 요청 전송 코드입력\n      try {\n        dispatch(postShelve(user.email, item._id, to));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [item, to, profile, dispatch]\n  );\n  const changeTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        title: target.value,\n      });\n    },\n    [book]\n  );\n  const changeGenres = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        genres: target.value,\n      });\n    },\n    [book]\n  );\n  const changeContents = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        contents: target.value,\n      });\n    },\n    [book]\n  );\n  return (\n    <div className=\"modal-container\">\n      <div className=\"modal-overlay\"></div>\n      <div className=\"modal\">\n        <p className={cx(\"exit\")}>\n          <span role=\"img\" aria-label=\"cancel\" onClick={handleCancel}>\n            ❌\n          </span>\n        </p>\n        {type !== undefined ? (\n          <>\n            <img src={item.thumbnail} alt={item.id} />\n            <div className={cx(\"status-wrapper\")}>\n              <div className={cx(\"read-status\")}>\n                <span>현재 상태:</span>\n                <p className={cx(\"current-status\")}>{convertType[type]}</p>\n              </div>\n              <select\n                className={cx(\"select\")}\n                defaultValue={to}\n                onChange={handleSelect}\n              >\n                <option value={\"want_read\"}>읽을 책</option>\n                <option value={\"reading\"}>읽\b는중</option>\n                <option value={\"read\"}>읽음</option>\n              </select>\n              <div className={cx(\"button-container\")}>\n                <button className={cx(\"ok-btn\")} onClick={handleChange}>\n                  수정\n                </button>\n                <button className={cx(\"cancel-btn\")} onClick={handleCancel}>\n                  취소\n                </button>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className={cx(\"book-info-container\")}>\n            <div className={cx(\"img-container\")}>\n              <img src={book.thumbnail} alt={book.title} />\n            </div>\n            <form\n              className={cx(\"book-info-form\")}\n              onSubmit={handleSubmit(book)}\n            >\n              <input\n                value={book.title}\n                placeholder=\"제목\"\n                onChange={changeTitle}\n              />\n              <input\n                value={book.genres}\n                placeholder=\"장르\"\n                onChange={changeGenres}\n              />\n              <textarea\n                value={book.contents}\n                placeholder=\"요약\"\n                onChange={changeContents}\n              />\n              <button className={\"ok-btn\"}>수정</button>\n            </form>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import React, { useState } from \"react\";\nimport style from \"./Book.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nimport Modal from \"../Modal\";\nconst cx = classnames.bind(style);\nconst Book = (props) => {\n  const { from, type } = props;\n  const [isOpen, setOpen] = useState(false);\n  const formatAuthors = (authors) => {\n    let format = \"\";\n    authors.forEach((ele) => {\n      format += ele;\n    });\n    return format;\n  };\n  if (from === \"home\") {\n    const { book } = props;\n    return (\n      <div className={cx(\"book\")}>\n        <img src={book.thumbnail} alt=\"book\" />\n        <p>{book.title}</p>\n      </div>\n    );\n  } else if (from === \"search\") {\n    const { book } = props;\n    return (\n      <li className={cx(\"ser-bg\")}>\n        <div className={cx(\"ser-book\")}>\n          <Link to={`/book/${book._id}`}>\n            <img src={book.thumbnail} alt=\"book\" />\n          </Link>\n        </div>\n        <div className={cx(\"ser-info\")}>\n          <Link to={`/book/${book._id}`}>\n            <h3 className={cx(\"ser-title\")}>{book.title}</h3>\n          </Link>\n          <p className={cx(\"ser-author\")}>{formatAuthors(book.authors)}</p>\n          <p className={cx(\"ser-contents\")}>\n            {book && book.contents\n              ? book.contents.length > 100\n                ? book.contents.substr(0, 100)\n                : book.contents\n              : \"입력된 내용이 없습니다\"}\n          </p>\n        </div>\n      </li>\n    );\n  } else if (from === \"profile\") {\n    const {\n      book: { book },\n      //profile: { user },\n    } = props;\n    const isMe = window.location.href.endsWith(\"/me\");\n    const handleDelete = (type) => () => {\n      const {\n        deleteShelve,\n        book,\n        profile: { user },\n      } = props;\n      deleteShelve(user._id, book._id, type);\n    };\n    const handleEdit = () => {\n      setOpen((cur) => !cur);\n    };\n    return (\n      <div className={cx(\"shelve\")}>\n        <Link to={`/book/${book?._id}`}>\n          <p className={cx(\"title\")}>{book?.title}</p>\n        </Link>\n        {isMe ? (\n          <div className={cx(\"setting-btns\")}>\n            <div className={cx(\"edit-container\")}>\n              <span className={cx(\"edit\")} onClick={handleEdit}>\n                <FaEdit />\n              </span>\n              {isOpen ? (\n                <Modal type={type} item={book} handleCancel={handleEdit} />\n              ) : null}\n            </div>\n            <div>\n              <span className={cx(\"delete\")} onClick={handleDelete(type)}>\n                <FaTrash />\n              </span>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n};\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.login.profile,\n    success: state.login.success,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    postShelve: (email, id, type) =>\n      dispatch(actions.postShelve(email, id, type)),\n    deleteShelve: (id, bid, type) =>\n      dispatch(actions.deleteShelve(id, bid, type)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React from \"react\";\nimport style from \"./BookList.scss\";\nimport classnames from \"classnames/bind\";\nimport Book from \"../Book/Book\";\nimport { Link } from \"react-router-dom\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport { v4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst BookList = ({ from, booklist, type, handleMore, done }) => {\n  if (from === \"home\") {\n    return (\n      <section className={cx(\"book-list\")}>\n        {booklist ? (\n          type === \"전체\" && booklist.length > 0 ? (\n            <>\n              {booklist.map((book) => {\n                return (\n                  <Link to={`/book/${book._id}`} key={v4()}>\n                    <Book book={book} from={from} />\n                  </Link>\n                );\n              })}\n              {done === false && (\n                <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                  <p>더 보기 +</p>\n                </div>\n              )}\n            </>\n          ) : (\n            <>\n              {booklist\n                .filter((book) => book?.genres?.includes(type))\n                .map((book) => {\n                  return (\n                    <Link to={`/book/${book._id}`} key={v4()}>\n                      <Book book={book} from={from} />\n                    </Link>\n                  );\n                })}\n              {booklist.filter((book) => book?.genres?.includes(type)).length >\n                0 &&\n                done === false && (\n                  <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                    <p>더 보기 +</p>\n                  </div>\n                )}\n            </>\n          )\n        ) : (\n          <ChasingDots color=\"white\" size={60} />\n        )}\n      </section>\n    );\n  } else if (from === \"search\") {\n    return (\n      <section className={cx(\"ser-container\")}>\n        <ul className={cx(\"ser-ul\")}>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} />;\n          })}\n        </ul>\n      </section>\n    );\n  } else if (from === \"profile\") {\n    return (\n      <section>\n        <ul>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} type={type} />;\n          })}\n        </ul>\n      </section>\n    );\n  }\n};\n\nexport default connect(null, null)(BookList);\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./VerticalScroll.scss\";\nimport Book from \"../Book/Book\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\nconst cx = classnames.bind(style);\nconst VerticalScroll = ({ title, books }) => {\n  return (\n    <section className={cx(\"vertical\")}>\n      <p className={cx(\"title\")}>\n        {title}\n        <FontAwesomeIcon className={cx(\"book-icon\")} icon={faBook} />\n      </p>\n      <section className={cx(\"list\")}>\n        {books?.map((book) => (\n          <Link key={v4()} to={`/book/${book._id}`}>\n            <Book book={book} from={\"home\"} />\n          </Link>\n        ))}\n      </section>\n    </section>\n  );\n};\nexport default VerticalScroll;\n","import VerticalScroll from \"./VerticalScroll\";\nexport default VerticalScroll;\n","import React, { useEffect, useState } from \"react\";\nimport style from \"./HomeContent.scss\";\nimport classnames from \"classnames/bind\";\nimport SlickList from \"../SlickList\";\nimport BookList from \"../BookList\";\nimport VerticalScroll from \"../VerticalScroll\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { v4 } from \"uuid\";\n\nconst cx = classnames.bind(style);\nconst HomeContent = ({\n  booklist,\n  handleClick,\n  handleMore,\n  sliderBooks,\n  recentBooks,\n  popularBooks,\n  type,\n  done,\n}) => {\n  const [isMobile, setIsMobile] = useState(false);\n  const [hide, setHide] = useState(true);\n  const [category, setCategory] = useState([\n    \"전체\",\n    \"소설\",\n    \"IT\",\n    \"경제\",\n    \"교양\",\n    \"자기계발\",\n    \"과학\",\n    \"역사\",\n    \"정치\",\n    \"기타\",\n  ]);\n  const checkSize = () => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  };\n  const toggleHide = () => {\n    setHide((cur) => !cur);\n  };\n\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  });\n  return (\n    <section className={cx(\"home-content\")}>\n      <SlickList books={sliderBooks} />\n      <VerticalScroll\n        title={\"최근 공유된 책\"}\n        books={recentBooks.slice(0, 15)}\n      />\n      <VerticalScroll title={\"평점 좋은 책\"} books={popularBooks} />\n      <section className={cx(\"books-wrapper\")}>\n        <section className={cx(\"book-category-section\")}>\n          <div className={cx(\"book-category-div\")}>\n            <ul className={cx(\"book-category-ul\")}>\n              {hide\n                ? category.slice(0, 7).map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))\n                : category.map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))}\n            </ul>\n          </div>\n          <div className={cx(\"more-container\")} onClick={toggleHide}>\n            {hide ? \"더 보기\" : \"숨기기\"}\n            <FontAwesomeIcon\n              className={cx(\"more\")}\n              icon={hide ? faAngleDown : faAngleUp}\n            />\n          </div>\n        </section>\n        <BookList\n          booklist={booklist}\n          handleMore={handleMore}\n          from={\"home\"}\n          type={type}\n          done={done}\n        />\n      </section>\n    </section>\n  );\n};\n\nexport default HomeContent;\n","import Helmet from \"./Helmet\";\nexport default Helmet;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst ReactHelmet = ({ title, keywords, description }) => {\n  return (\n    <Helmet>\n      {description && <meta name=\"description\" content={description} />}\n      {keywords && <meta name=\"keywords\" content={keywords} />}\n      <title>{title}</title>\n      <meta property=\"og:title\" content={title} />\n      <meta name=\"twitter:title\" content={title} />\n    </Helmet>\n  );\n};\nexport default ReactHelmet;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst URL =\n  //process.env.NODE_ENV === \"development\"\n  //? \"http://localhost:8080/\"\n  \"https://happread.herokuapp.com/\";\n\nexport const GET_BOOKS = \"GET_BOOKS\"; //책 리스트\nexport const GET_BOOKS_PENGIND = \"GET_BOOKS_PENDING\";\nexport const GET_BOOKS_SUCCESS = \"GET_BOOKS_SUCCESS\";\nexport const GET_BOOKS_FAILURE = \"GET_BOOKS_FAILURE\";\n\nexport const GET_SLIDER_BOOKS = \"GET_SLIDER_BOOKS\";\nexport const GET_SLIDER_BOOKS_PENGIND = \"GET_SLIDER_BOOKS_PENDING\";\nexport const GET_SLIDER_BOOKS_SUCCESS = \"GET_SLIDER_BOOKS_SUCCESS\";\nexport const GET_SLIDER_BOOKS_FAILURE = \"GET_SLIDER_BOOKS_FAILURE\";\n\nexport const GET_POPULAR_BOOKS = \"GET_POPULAR_BOOKS\"; //최근 공유 목록\nexport const GET_POPULAR_BOOKS_PENGIND = \"GET_POPULAR_BOOKS_PENDING\";\nexport const GET_POPULAR_BOOKS_SUCCESS = \"GET_POPULAR_BOOKS_SUCCESS\";\nexport const GET_POPULAR_BOOKS_FAILURE = \"GET_POPULAR_BOOKS_FAILURE\";\n\nexport const GET_RECENT_BOOKS = \"GET_RECENT_BOOKS\"; //최근 공유 목록\nexport const GET_RECENT_BOOKS_PENGIND = \"GET_RECENT_BOOKS_PENDING\";\nexport const GET_RECENT_BOOKS_SUCCESS = \"GET_RECENT_BOOKS_SUCCESS\";\nexport const GET_RECENT_BOOKS_FAILURE = \"GET_RECENT_BOOKS_FAILURE\";\n\nexport const GET_SEARCH_BOOKS = \"GET_SEARCH_BOOKS\"; //검색 요청\nexport const GET_SEARCH_BOOKS_PENGIND = \"GET_SEARCH_BOOKS_PENDING\";\nexport const GET_SEARCH_BOOKS_SUCCESS = \"GET_SEARCH_BOOKS_SUCCESS\";\nexport const GET_SEARCH_BOOKS_FAILURE = \"GET_SEARCH_BOOKS_FAILURE\";\n\nexport const GET_MORE_BOOKS = \"GET_MORE_BOOKS\";\nexport const GET_MORE_BOOKS_PENGIND = \"GET_MORE_BOOKS_PENDING\";\nexport const GET_MORE_BOOKS_SUCCESS = \"GET_MORE_BOOKS_SUCCESS\";\nexport const GET_MORE_BOOKS_FAILURE = \"GET_MORE_BOOKS_FAILURE\";\n\nexport const POST_BOOK = \"POST_BOOK\"; //책 업로드\nexport const POST_BOOK_PENDING = \"POST_BOOK_PENDING\";\nexport const POST_BOOK_SUCCESS = \"POST_BOOK_SUCCESS\";\nexport const POST_BOOK_FAILURE = \"POST_BOOK_FAILURE\";\n\nexport const EDIT_BOOK = \"EDIT_BOOK\"; //책 수정\nexport const EDIT_BOOK_PENDING = \"EDIT_BOOK_PENDING\";\nexport const EDIT_BOOK_SUCCESS = \"EDIT_BOOK_SUCCESS\";\nexport const EDIT_BOOK_FAILURE = \"EDIT_BOOK_FAILURE\";\n\nexport const GET_VOTE_REVIEW = \"GET_VOTE_REVIEW\"; //리뷰 작성\nexport const GET_VOTE_REVIEW_PENDING = \"GET_VOTE_REVIEW_PENDING\";\nexport const GET_VOTE_REVIEW_SUCCESS = \"GET_VOTE_REVIEW_SUCCESS\";\nexport const GET_VOTE_REVIEW_FAILURE = \"GET_VOTE_REVIEW_FAILURE\";\n\nexport const GET_DETAIL = \"GET_DETAIL\"; //상세목록\nexport const GET_DETAIL_PENDING = \"GET_DETAIL_PENDING\";\nexport const GET_DETAIL_SUCCESS = \"GET_DETAIL_SUCCESS\";\nexport const GET_DETAIL_FAILURE = \"GET_DETAIL_FAILURE\";\n\nexport const POST_RATE = \"POST_RATE\"; //평점\nexport const POST_RATE_PENDING = \"POST_RATE_PENDING\";\nexport const POST_RATE_SUCCESS = \"POST_RATE_SUCCESS\";\nexport const POST_RATE_FAILURE = \"POST_RATE_FAILURE\";\n\nconsole.log(URL);\nconst requestAllBooks = (type, page) => {\n  return axios.get(`${URL}books/type/${decodeURI(type)}?page=${page}`);\n};\nconst requestSliderBooks = () => {\n  return axios.get(`${URL}book/sliders`);\n};\nconst requestgetBooks = (query, type, page) => {\n  return axios.get(`${URL}book/search?q=${decodeURI(query)}&type=${0}`);\n};\nconst requestInfo = (id) => {\n  return axios.get(`${URL}book/${id}`);\n};\nconst requestPostRate = (id, name, vote) => {\n  return axios.post(`${URL}book/${id}`, {\n    vote,\n    name,\n  });\n};\nconst requestRecentBooks = () => {\n  return axios.get(`${URL}books/recent`);\n};\nconst requestPopularBooks = () => {\n  return axios.get(`${URL}books/popular`);\n};\nconst requestEditBook = (data) => {\n  const { _id, title, contents, genres } = data;\n  return axios.put(`${URL}book/${_id}`, {\n    title,\n    contents,\n    genres,\n  });\n};\n\nexport const getAllBooks = (type, page) => ({\n  type: GET_BOOKS,\n  payload: requestAllBooks(type, page),\n});\nexport const getSliderBooks = () => ({\n  type: GET_SLIDER_BOOKS,\n  payload: requestSliderBooks(),\n});\nexport const getRecentBooks = () => ({\n  type: GET_RECENT_BOOKS,\n  payload: requestRecentBooks(),\n});\nexport const getPopularBooks = () => ({\n  type: GET_POPULAR_BOOKS,\n  payload: requestPopularBooks(),\n});\nexport const editBook = (data) => ({\n  type: EDIT_BOOK,\n  payload: requestEditBook(data),\n});\nexport const getBooks = (query = \" \", type = 0, page = 1) => ({\n  type: GET_SEARCH_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getMore = (query = \"\", type = 0, page = 1) => ({\n  type: GET_MORE_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getDetail = (id) => ({\n  type: GET_DETAIL,\n  payload: requestInfo(id),\n});\nexport const postRate = (id, name, vote) => ({\n  type: POST_RATE,\n  payload: requestPostRate(id, name, vote),\n});\n\nconst initialState = {\n  allBookPending: false,\n  allBookPerror: false,\n  allBookDone: false,\n  books: [],\n  morePending: false,\n  moreError: \"\",\n  sliderBooks: [],\n  sliderPending: false,\n  sliderError: false,\n  sliderSuccess: false,\n  total: 0,\n  vote_pending: false,\n  vote_error: false,\n  vote_success: false,\n  term: \"\",\n  book: {},\n  bookPending: false,\n  bookSuccess: false,\n  bookFailure: false,\n  recentBooks: [],\n  recentPending: false,\n  recentError: false,\n  recentSuccess: false,\n  popularBooks: [],\n  popularPending: false,\n  popularError: false,\n  popularSuccess: false,\n  editBookPending: false,\n  editBookSuccess: false,\n  editBookFailure: false,\n};\n\nexport default handleActions(\n  {\n    [GET_SLIDER_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: true,\n        sliderError: false,\n        sliderSuccess: false,\n      };\n    },\n    [GET_SLIDER_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        sliderBooks: books,\n        sliderPending: false,\n        sliderSuccess: true,\n      };\n    },\n    [GET_SLIDER_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: false,\n        sliderError: true,\n      };\n    },\n\n    [GET_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books, page },\n      } = action.payload;\n      return {\n        ...state,\n        allBookPending: false,\n        allBookError: false,\n        allBookDone: books.length < 15 ? true : false,\n        books:\n          state.books === undefined || parseInt(page, 10) === 1\n            ? books\n            : [...state.books, ...books],\n      };\n    },\n    [GET_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_SEARCH_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_SEARCH_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        books: books,\n      };\n    },\n    [GET_MORE_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        morePending: true,\n        moreError: false,\n      };\n    },\n    [GET_MORE_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { documents },\n      } = action.payload;\n      return {\n        ...state,\n        morePending: false,\n        moreError: false,\n        books: [...state.books, ...documents],\n      };\n    },\n    [GET_MORE_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        morePending: false,\n        moreError: true,\n      };\n    },\n    [POST_RATE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: true,\n        vote_error: false,\n        vote_success: false,\n      };\n    },\n    [POST_RATE_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      //console.log(book);\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: false,\n        vote_success: true,\n        book,\n      };\n    },\n    [POST_RATE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: true,\n        vote_success: false,\n      };\n    },\n    [GET_DETAIL_PENDING]: (state, action) => {\n      return {\n        ...state,\n        bookPending: true,\n        bookError: false,\n      };\n    },\n    [GET_DETAIL_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      return {\n        ...state,\n        bookPending: false,\n        bookSuccess: true,\n        book,\n        votes: book.votes,\n      };\n    },\n    [GET_DETAIL_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        bookPending: false,\n        bookError: true,\n      };\n    },\n    [GET_RECENT_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: false,\n        recentSuccess: false,\n      };\n    },\n    [GET_RECENT_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      //console.log(\",\", data);\n      return {\n        ...state,\n        recentBooks: data,\n        recentPending: false,\n        recentSuccess: true,\n      };\n    },\n    [GET_RECENT_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: false,\n        popularSuccess: false,\n      };\n    },\n    [GET_POPULAR_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        popularBooks: data,\n        popularPending: false,\n        popularSuccess: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: true,\n      };\n    },\n    [EDIT_BOOK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: true,\n        editBookSuccess: false,\n        editBookFailure: false,\n      };\n    },\n    [EDIT_BOOK_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookSuccess: true,\n      };\n    },\n    [EDIT_BOOK_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookFailure: true,\n      };\n    },\n  },\n  initialState\n);\n","import React from \"react\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport style from \"./Loading.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Loading = () => {\n  return (\n    <section className={cx(\"loading\")}>\n      <ChasingDots color=\"white\" size={60} />\n    </section>\n  );\n};\nexport default Loading;\n","import Loading from \"./Loading\";\nexport default Loading;\n","import Home from \"./Home\";\nexport default Home;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport HomeSection from \"../../components/HomeSection\";\nimport HomeContent from \"../../components/HomeContent\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\n\nimport {\n  getAllBooks,\n  getSliderBooks,\n  getRecentBooks,\n  getPopularBooks,\n} from \"../../reducer/books\";\nimport Loading from \"../../components/Loading\";\nconst Home = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [type, setType] = useState(\"전체\");\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const {\n    allBookDone,\n    allBookPending,\n    sliderPending,\n    recentPending,\n    popularPending,\n    books,\n    sliderBooks,\n    recentBooks,\n    popularBooks,\n  } = useSelector((state) => state.books);\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(getAllBooks(\"전체\", 1));\n    dispatch(getSliderBooks());\n    dispatch(getRecentBooks());\n    dispatch(getPopularBooks());\n    setIsLoading(false);\n  }, [dispatch]);\n  const handleClick = useCallback(\n    (e) => {\n      const {\n        target: { dataset },\n      } = e;\n      setType(dataset.value);\n    },\n    [setType]\n  );\n  const handleMore = useCallback(() => {\n    if (!allBookDone) {\n      dispatch(getAllBooks(\"전체\", page + 1));\n      setPage(page + 1);\n    }\n  }, [dispatch, page, allBookDone]);\n  return (\n    <main>\n      <Helmet\n        title={`Home | HappReads`}\n        description={\n          \"책들을 공유 그리고 리뷰하며 읽어보지 못한 새로운 책을 발견하세요!!\"\n        }\n        keywords={`책, 책 공유, 책 리뷰, HappReads, happreads`}\n      />\n      {isLoading ||\n      allBookPending ||\n      sliderPending ||\n      recentPending ||\n      popularPending ? (\n        <Loading />\n      ) : (\n        <>\n          <HomeSection />\n          <HomeContent\n            booklist={books}\n            sliderBooks={sliderBooks}\n            recentBooks={recentBooks}\n            popularBooks={popularBooks}\n            handleClick={handleClick}\n            handleMore={handleMore}\n            done={allBookDone}\n            type={type}\n            page={page}\n          />\n        </>\n      )}\n    </main>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport { FaGithubSquare } from \"react-icons/fa\";\nimport style from \"./SocialLogin.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst SocialLogin = ({ type }) => {\n  return (\n    <div className={cx(\"social-login\")}>\n      <h2>\n        {type === \"login\" ? \"Login to HappReads\" : \"Sign up for HappReads\"}\n      </h2>\n      <button className={cx(\"github\", \"button\")}>\n        <span className={cx(\"icon\")}>\n          <FaGithubSquare />\n        </span>\n        Github으로 로그인\n      </button>\n    </div>\n  );\n};\n\nexport default SocialLogin;\n","import React, { useState, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport style from \"./LoginForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nconst LoginForm = ({ loginRequest, login_success, login_pending }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      loginRequest(email, password);\n    },\n    [email, password, loginRequest]\n  );\n  const handleEmail = useCallback((e) => {\n    setEmail(e.target.value);\n  }, []);\n  const handlePassword = useCallback((e) => {\n    setPassword(e.target.value);\n  }, []);\n  return (\n    <>\n      <div className={cx(\"login-form\", \"form-container\")}>\n        <SocialLogin type=\"login\" />\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={handleEmail}\n            placeholder=\"이메일\"\n            required\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePassword}\n            placeholder=\"비밀번호\"\n            required\n          />\n          <input type=\"submit\" value=\"로그인\" />\n        </form>\n        <Link to=\"/signup\">\n          <button>가입</button>\n        </Link>\n      </div>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport style from \"./Notice.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Notice = ({ type, children }) => {\n  return <div className={cx([\"notice-container\", type])}>{children}</div>;\n};\nexport default Notice;\n","import Notice from \"./Notice\";\nexport default Notice;\n","import React from \"react\";\nimport LoginForm from \"../../components/LoginForm\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nimport { login } from \"../../reducer/login\";\nimport { Redirect } from \"react-router\";\nimport Notice from \"../../components/Notice\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst Login = () => {\n  const { isLoggedIn, loginPending, loginSuccess, loginError } = useSelector(\n    (state) => state.login\n  );\n  const dispatch = useDispatch();\n  const saveATK = (t) => {\n    localStorage.setItem(\"atk\", t);\n  };\n  const handleLogin = async (email, password) => {\n    try {\n      const {\n        value: { data, status },\n      } = await dispatch(login(email, password));\n      if (status === 200) {\n        saveATK(data.token);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  if (isLoggedIn === true) {\n    return <Redirect to={\"/\"} />;\n  }\n  return (\n    <>\n      <Helmet title={`Login | HappReads`} />\n      {loginError && (\n        <Notice type={\"error\"}>\n          등록되지 않은 이메일 혹은 비밀번호가 틀렸습니다\n        </Notice>\n      )}\n      <LoginForm\n        loginRequest={handleLogin}\n        login_pending={loginPending}\n        login_success={loginSuccess}\n      />\n    </>\n  );\n};\nexport default Login;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./SignUpForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nconst SignUpForm = ({ handleSignUp }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState({\n    p1: \"\",\n    p2: \"\",\n  });\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { p1, p2 } = password;\n    if (p1 === p2) {\n      handleSignUp(email, p1);\n    }\n  };\n  const handleEmail = useCallback((e) => {\n    const { target } = e;\n    setEmail(target.value);\n  }, []);\n  const handlePassword1 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p1: target.value,\n      });\n    },\n    [password]\n  );\n  const handlePassword2 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p2: target.value,\n      });\n    },\n    [password]\n  );\n  return (\n    <section className={cx(\"signup-form\", \"form-container\")}>\n      <SocialLogin type=\"signup\" />\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          value={email}\n          onChange={handleEmail}\n          placeholder=\"이메일\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p1}\n          onChange={handlePassword1}\n          placeholder=\"비밀번호\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p2}\n          onChange={handlePassword2}\n          placeholder=\"비밀번호 재입력\"\n          required\n        />\n        <input type=\"submit\" value=\"가입\" />\n      </form>\n    </section>\n  );\n};\n\nexport default SignUpForm;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const SIGNUP = \"SIGNUP\";\nexport const SIGNUP_PENDING = \"SIGNUP_PENDING\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\n\nconst requestSignUp = (email, password) => {\n  return axios.post(\"signup\", {\n    email: email,\n    password: password,\n  });\n};\nexport const userSignup = (email, password) => ({\n  type: SIGNUP,\n  payload: requestSignUp(email, password),\n});\nconst initialState = {\n  signup_pending: false,\n  signup_success: false,\n  signup_error: false,\n};\nexport default handleActions(\n  {\n    [SIGNUP_PENDING]: (state, action) => {\n      return {\n        signup_pending: true,\n        signup_success: false,\n        signup_error: false,\n      };\n    },\n    [SIGNUP_SUCCESS]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_success: true,\n      };\n    },\n    [SIGNUP_FAILURE]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React from \"react\";\nimport SignUpForm from \"../../components/SignUpForm\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userSignup } from \"../../reducer/signup\";\nimport { Redirect } from \"react-router\";\nimport Helmet from \"../../components/Helmet\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst SignUp = ({ history }) => {\n  const dispatch = useDispatch();\n  const { signup_pending, signup_success, signup_error } = useSelector(\n    (state) => state.signup\n  );\n  const { isLoggedIn } = useSelector((state) => state.login);\n  const handleSignUp = async (email, p) => {\n    dispatch(userSignup(email, p));\n  };\n  if (isLoggedIn) {\n    return (\n      <Redirect\n        to={process.env.NODE_ENV === \"development\" ? \"/\" : \"/HappReads-front\"}\n      />\n    );\n  }\n  if (signup_success) {\n    return <Redirect to=\"/login\" />;\n  }\n  return (\n    <>\n      <Helmet title={`SignUp | HappReads`} />\n      <SignUpForm\n        history={history}\n        handleSignUp={handleSignUp}\n        signup_pending={signup_pending}\n        signup_success={signup_success}\n        signup_error={signup_error}\n      />\n    </>\n  );\n};\nexport default SignUp;\n","export const getAtk = () => {\n  const atk = localStorage.getItem(\"atk\");\n  return atk;\n};\n\nexport const getAvartUrl = (img) => {\n  return img === undefined\n    ? \"https://wetuberbucket.s3.ap-northeast-2.amazonaws.com/avatars/58c11a401956bab841de5f227c337c43\"\n    : img;\n};\n\nexport const formatAuthors = (authors) => {\n  let s = \"\";\n  if (authors) {\n    for (let i = 0; i < authors.length; i++) {\n      s += `${authors[i]} `;\n    }\n  }\n  return s;\n};\n\nexport const getAvg = (votes) => {\n  if (votes) {\n    let total = 0;\n    if (votes.length > 0) {\n      for (let i = 0; i < votes.length; i++) {\n        total += parseInt(votes[i].vote);\n      }\n      return (total / votes.length).toFixed(2);\n    }\n    return 0;\n  }\n  return 0;\n};\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./UserEdit.scss\";\nimport classnames from \"classnames/bind\";\nimport { getAvartUrl } from \"../../utills\";\nimport { useDispatch } from \"react-redux\";\nimport dotenv from \"dotenv\";\nimport { editProfile } from \"../../reducer/login\";\ndotenv.config();\n\nconst cx = classnames.bind(style);\nconst readURL = (file) => {\n  const render = URL.createObjectURL(file);\n  document.querySelector(\".preview-img\").src = render;\n};\nconst UserEdit = ({ profile, isOpen, handleClose }) => {\n  const dispatch = useDispatch();\n  const [content, setContent] = useState({\n    seletedImg: null,\n    avatarUrl: profile ? profile.avatarUrl : undefined,\n    nickname: profile ? profile.name : \"\",\n    website: profile ? profile.website : \"\",\n    intro: profile ? profile.intro : \"\",\n    interest: profile ? profile.interest : \"\",\n  });\n\n  const submitEdit = async () => {\n    const { seletedImg, nickname, website, interest, intro } = content;\n    const formData = new FormData();\n    formData.append(\"avatar\", seletedImg);\n    formData.append(\"email\", profile.email);\n    formData.append(\"nickname\", nickname);\n    formData.append(\"website\", website);\n    formData.append(\"interest\", interest);\n    formData.append(\"intro\", intro);\n    try {\n      const {\n        value: { status },\n      } = await dispatch(editProfile(formData));\n      if (status === 200) {\n        window.location.href = `${\n          process.env.NODE_ENV === \"development\" ? \"/me\" : \"/heapreads/me\"\n        }`;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    submitEdit();\n  };\n  const handleFile = useCallback(\n    (e) => {\n      const {\n        target: { files },\n      } = e;\n      setContent({\n        ...content,\n        seletedImg: files[0],\n      });\n      readURL(files[0]);\n    },\n    [content, setContent]\n  );\n  const handleNickName = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        nickname: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleWebSite = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        website: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleInterest = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        interest: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleIntro = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        intro: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  return (\n    <section className={cx(\"user-edit\", isOpen ? \"close\" : \"open\")}>\n      <div className={cx(\"x-button\")}>\n        <p onClick={handleClose}>\n          <span role=\"img\" aria-label=\"close\">\n            ❌\n          </span>\n        </p>\n      </div>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <div className={cx(\"upload-btn-wrapper\")}>\n            <img\n              className={cx(\"preview-img\")}\n              alt=\"사용자 이미지\"\n              src={getAvartUrl(content?.avatarUrl)}\n            />\n            <div style={{ position: \"relative\" }}>\n              <button className={cx(\"btn\")}>\n                {content?.seletedImg?.name === undefined\n                  ? \"이미지 업로드\"\n                  : content.seletedImg.name}\n              </button>\n              <input type=\"file\" name=\"avatar\" onChange={handleFile} />\n            </div>\n          </div>\n          <input\n            type=\"text\"\n            name=\"nickname\"\n            value={content?.nickname}\n            placeholder={\"닉네임\"}\n            onChange={handleNickName}\n          />\n          <input\n            type=\"email\"\n            name=\"website\"\n            placeholder=\"웹 사이트 ex) http://www.example.com\"\n            value={content?.website}\n            onChange={handleWebSite}\n          />\n          <input\n            type=\"text\"\n            name=\"interest\"\n            placeholder=\"취미\"\n            value={content?.interest}\n            onChange={handleInterest}\n          />\n          <textarea\n            name=\"intro\"\n            placeholder=\"소개\"\n            value={content?.intro}\n            onChange={handleIntro}\n          />\n          <input type=\"submit\" value=\"수정\" />\n        </form>\n        <button onClick={handleClose}>취소</button>\n      </section>\n    </section>\n  );\n};\n\nexport default UserEdit;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_REVIEWS = \"GET_REVIEWS\";\nexport const GET_REVIEWS_PENDING = \"GET_REVIEWS_PENDING\";\nexport const GET_REVIEWS_SUCCESS = \"GET_REVIEWS_SUCCESS\";\nexport const GET_REVIEWS_FAILURE = \"GET_REVIEWS_FAILURE\";\n\nexport const GET_REVIEW = \"GET_REVIEW\";\nexport const GET_REVIEW_PENDING = \"GET_REVIEW_PENDING\";\nexport const GET_REVIEW_SUCCESS = \"GET_REVIEW_SUCCESS\";\nexport const GET_REVIEW_FAILURE = \"GET_REVIEW_FAILURE\";\n\nexport const POST_REVIEW = \"POST_REVIEW\";\nexport const POST_REVIEW_PENDING = \"POST_REVIEW_PENDING\";\nexport const POST_REVIEW_SUCCESS = \"POST_REVIEW_SUCCESS\";\nexport const POST_REVIEW_FAILURE = \"POST_REVIEW_FAILURE\";\n\nexport const EDIT_REVIEW = \"EDIT_REVIEW\";\nexport const EDIT_REVIEW_PENDING = \"EDIT_REVIEW_PENDING\";\nexport const EDIT_REVIEW_SUCCESS = \"EDIT_REVIEW_SUCCESS\";\nexport const EDIT_REVIEW_FAILURE = \"EDIT_REVIEW_FAILURE\";\n\nexport const LIKE_REVIEW = \"LIKE_REVIEW\";\nexport const LIKE_REVIEW_PENDING = \"LIKE_REVIEW_PENDING\";\nexport const LIKE_REVIEW_SUCCESS = \"LIKE_REVIEW_SUCCESS\";\nexport const LIKE_REVIEW_FAILURE = \"LIKE_REVIEW_FAILURE\";\n\nconst requestGetReviews = (limit = 1, page = 1) => {\n  return axios.get(`reviews?limit=${limit}&page=${page}`);\n};\nconst requestGetReview = (id) => {\n  //console.log(id);\n  return axios.get(`book/${id}/review`);\n};\nconst requestPostReview = (id, name, content, book) => {\n  //console.log(isbn, name, content);\n  return axios.post(`book/${id}/review`, {\n    name,\n    content,\n    book,\n  });\n};\n\nconst requestEditReview = (rid, content) => {\n  return axios.post(`book/review/${rid}`, {\n    content,\n  });\n};\n\nconst requestLikeReview = (type, id, uid) => {\n  return axios.post(`review/like`, {\n    type,\n    id,\n    uid,\n  });\n};\nexport const getReviews = (data) => ({\n  type: GET_REVIEWS,\n  payload: requestGetReviews(data.limit, data.page),\n});\nexport const getReview = (isbn) => ({\n  type: GET_REVIEW,\n  payload: requestGetReview(isbn),\n});\nexport const postReview = (isbn, name, content, book) => ({\n  type: POST_REVIEW,\n  payload: requestPostReview(isbn, name, content, book),\n});\n\nexport const editReview = (rid, content) => ({\n  type: EDIT_REVIEW,\n  payload: requestEditReview(rid, content),\n});\nexport const postLike = (type, id, uid) => ({\n  type: LIKE_REVIEW,\n  payload: requestLikeReview(type, id, uid),\n});\n\nconst initialState = {\n  reviews: [],\n  pending: false,\n  success: false,\n  error: false,\n  loadReviewsPending: false,\n  loadReviewsError: false,\n  loadReviewsSuccess: false,\n  loadReviewsDone: false,\n  postReviewPending: false,\n  postReviewSuccess: false,\n  postReviewError: false,\n};\nexport default handleActions(\n  {\n    [GET_REVIEWS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: true,\n        loadReviewsError: false,\n        loadReviewsSuccess: false,\n        loadReviewsDone: false,\n      };\n    },\n    [GET_REVIEWS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviews, page },\n      } = action.payload;\n      return {\n        ...state,\n        reviews:\n          parseInt(page) !== 1 ? [...state.reviews, ...reviews] : [...reviews],\n        loadReviewsPending: false,\n        loadReviewsSuccess: true,\n        loadReviewsDone: reviews.length % 5 !== 0 ? true : false,\n      };\n    },\n    [GET_REVIEWS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: false,\n        loadReviewsError: true,\n        loadReviewsDone: false,\n      };\n    },\n    [POST_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: true,\n        postReviewSuccess: false,\n        postReviewError: false,\n      };\n    },\n    [POST_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        postReviewPending: false,\n        postReviewSuccess: true,\n      };\n    },\n    [POST_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: false,\n        postReviewError: true,\n      };\n    },\n    [GET_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        error: false,\n        pending: true,\n        success: false,\n      };\n    },\n    [GET_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        error: false,\n        pending: false,\n        success: true,\n      };\n    },\n    [GET_REVIEW_FAILURE]: (state, action) => {\n      return {\n        error: true,\n        pending: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        pending: false,\n        error: false,\n        success: true,\n      };\n    },\n    [EDIT_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false,\n      };\n    },\n    ///LIKE_REVIEW\n    [LIKE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [LIKE_REVIEW_SUCCESS]: (state, action) => {\n      const {\n        data: { review },\n      } = action.payload;\n      //console.log(data.profile);\n      let idx = -1;\n      state.reviews.forEach((item, i) => {\n        if (item._id === review._id) {\n          idx = i;\n        }\n      });\n      state.reviews[idx] = review;\n      const updatedReviews = state.reviews;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        success: true,\n        reviews: [...updatedReviews],\n      };\n    },\n    [LIKE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_USER = \"GET_USER\";\nexport const GET_USER_PENDING = \"GET_USER_PENDING\";\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport const GET_USER_FAILURE = \"GET_USER_FAILURE\";\n\nexport const GET_TOP_READERS = \"GET_TOP_READERS\";\nexport const GET_TOP_READERS_PENDING = \"GET_TOP_READERS_PENDING\";\nexport const GET_TOP_READERS_SUCCESS = \"GET_TOP_READERS_SUCCESS\";\nexport const GET_TOP_READERS_FAILURE = \"GET_TOP_READERS_FAILURE\";\n\nexport const GET_TOP_REVIEWERS = \"GET_TOP_REVIEWERS\";\nexport const GET_TOP_REVIEWERS_PENDING = \"GET_TOP_REVIEWERS_PENDING\";\nexport const GET_TOP_REVIEWERS_SUCCESS = \"GET_TOP_REVIEWERS_SUCCESS\";\nexport const GET_TOP_REVIEWERS_FAILURE = \"GET_TOP_REVIEWERS_FAILURE\";\n\nconst requestUser = (id) => {\n  return axios.get(`profile/${id}`);\n};\nconst requestTopReaders = (type) => {\n  return axios.get(`rank/reader/${type}`);\n};\nconst requestTopReviewers = (type) => {\n  return axios.get(`rank/reviewer/${type}`);\n};\n\nexport const getUser = (id) => ({\n  type: GET_USER,\n  payload: requestUser(id),\n});\nexport const getTopReaders = (type = 0) => ({\n  type: GET_TOP_READERS,\n  payload: requestTopReaders(type),\n});\nexport const getTopReviewers = (type) => ({\n  type: GET_TOP_REVIEWERS,\n  payload: requestTopReviewers(type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  profile: {},\n  topReaders: [],\n  topReviewers: [],\n};\nexport default handleActions(\n  {\n    [GET_USER_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_USER_SUCCESS]: (state, action) => {\n      //console.log(action.payload.data.user);\n      return {\n        pending: false,\n        error: false,\n        profile: action.payload.data.user,\n      };\n    },\n    [GET_USER_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_READERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_SUCCESS]: (state, action) => {\n      const {\n        data: { readers },\n      } = action.payload;\n      return {\n        ...state,\n        topReaders: readers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_REVIEWERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviewers },\n      } = action.payload;\n      return {\n        ...state,\n        topReviewers: reviewers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport classname from \"classnames/bind\";\nimport style from \"./ReviewModal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { check } from \"../../reducer/login\";\nimport { editReview } from \"../../reducer/review\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classname.bind(style);\nconst ReviewModal = ({ review, handleClose }) => {\n  const [content, setContent] = useState(review?.content || \"\");\n  const dispatch = useDispatch();\n  const { isLoggedIn } = useSelector((state) => state.login);\n\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handleEditReview = useCallback(\n    async (rid, content) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(editReview(rid, content)); //await editReview(rid, content);\n        if (status === 200) {\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [checkUser, dispatch]\n  );\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        handleEditReview(review._id, content);\n      }\n    },\n    [content, isLoggedIn, review, handleEditReview]\n  );\n  const handleChange = (e) => {\n    const { target } = e;\n    setContent(target.value);\n  };\n  useEffect(() => {\n    return () => {};\n  });\n  return (\n    <section className={cx([\"review-modal\", \"modal-container\"])}>\n      <section className=\"modal-overlay\">\n        <div className=\"modal\">\n          <div className={cx(\"form-container\")}>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n            <form onSubmit={handleSubmit}>\n              <textarea value={content} onChange={handleChange}>\n                {content}\n              </textarea>\n              <input type=\"submit\" value=\"수정\" />\n              <button className={cx(\"cancel\")} onClick={handleClose}>\n                취소\n              </button>\n            </form>\n          </div>\n        </div>\n      </section>\n    </section>\n  );\n};\nexport default ReviewModal;\n","import ReviewModal from \"./ReviewModal\";\n\nexport default ReviewModal;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport style from \"./UserReview.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postLike } from \"../../reducer/review\";\nimport { deleteReview, check } from \"../../reducer/login\";\nimport { getUser } from \"../../reducer/user\";\nimport { FaHeart, FaTrash, FaEdit } from \"react-icons/fa\";\nimport ReviewModal from \"../ReviewModal\";\nimport { getAtk } from \"../../utills\";\nimport { Link } from \"react-router-dom\";\nconst cx = classnames.bind(style);\nconst UserReview = ({ profile, isMe }) => {\n  const [review, setReview] = useState(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n  const { profile: me, pending: userloading, isLoggedIn } = useSelector(\n    (state) => state.login\n  );\n  useEffect(() => {\n    return () => {};\n  });\n  const loadUser = useCallback(() => {\n    if (isMe) {\n      const atk = getAtk();\n      if (atk) {\n        dispatch(check(atk));\n      }\n    } else {\n      dispatch(getUser(profile._id));\n    }\n  }, [dispatch, isMe, profile]);\n  const handleDelete = (e) => {\n    const { currentTarget } = e;\n    const bid = currentTarget.getAttribute(\"data-bid\"),\n      rid = currentTarget.getAttribute(\"data-value\"),\n      uid = me.user._id;\n    handleDeleteReview(bid, rid, uid);\n  };\n  const handleDeleteReview = async (bid, rid, uid) => {\n    try {\n      const {\n        value: { status },\n      } = await dispatch(deleteReview(bid, rid, uid));\n      if (status === 200) {\n        loadUser();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handlePostLike = useCallback(\n    async (type, id) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, profile._id, me.user._id));\n        if (status === 200) {\n          console.log(status);\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, profile, loadUser]\n  );\n  const handleLike = useCallback(\n    (id) => (e) => {\n      //const { currentTarget } = e;\n      //const id = currentTarget.getAttribute(\"data-value\");\n      if (isLoggedIn) {\n        handlePostLike(\"like\", id);\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [handlePostLike, isLoggedIn]\n  );\n  const handleEdit = useCallback(\n    (review) => (e) => {\n      setIsOpen(true);\n      setReview(review);\n    },\n    []\n  );\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    setReview(null);\n  }, []);\n  const getReview = (\n    review,\n    handleLike,\n    handleDelete,\n    handleEdit,\n    mid, //\n    uid //user.id\n  ) => {\n    return (\n      <section className={cx(\"review-container\")} id={review._id} key={v4()}>\n        <div>\n          <Link to={`/book/${review.book?._id}`}>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n          </Link>\n        </div>\n        <div>\n          <div>\n            <p className={cx(\"review-book\")}>\n              {review.book !== undefined ? review.book.title : \"\"}\n            </p>\n            <p className={cx(\"review-text\")}>\n              {review.book !== undefined ? review.content : \"\"}\n            </p>\n            <p className={cx(\"review-date\")}>\n              {moment(review.createdAt).format(\"YYYY년 MM월 DD일 HH:MM:SS\")}\n            </p>\n            <p className={cx(\"like-container\")}>\n              <span className={cx(\"review-like\")}>\n                {review.likes.length} likes\n              </span>\n              <span className={cx(\"likebtn\")} onClick={handleLike(review._id)}>\n                <FaHeart />\n              </span>\n            </p>\n          </div>\n        </div>\n        {uid === mid ? (\n          <>\n            <span\n              className={cx(\"review-edit\")}\n              data-value={review._id}\n              onClick={handleEdit(review)}\n            >\n              <FaEdit />\n            </span>\n            <span\n              className={cx(\"review-remove\")}\n              data-value={review._id}\n              data-bid={review.book._id}\n              onClick={handleDelete}\n            >\n              <FaTrash />\n            </span>\n          </>\n        ) : null}\n      </section>\n    );\n  };\n  return (\n    <div className={cx(\"user-review\")}>\n      {userloading === false &&\n        profile &&\n        profile.reviews &&\n        profile.reviews.map((review) => {\n          return getReview(\n            review,\n            handleLike,\n            handleDelete,\n            handleEdit,\n            me.user._id,\n            profile._id\n          );\n        })}\n      {isOpen && <ReviewModal review={review} handleClose={handleClose} />}\n    </div>\n  );\n};\nexport default UserReview;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport BookList from \"../BookList\";\nimport style from \"./UserProfile.scss\";\nimport classnames from \"classnames/bind\";\nimport UserEdit from \"../UserEdit\";\nimport UserReview from \"../UserReview/UserReview\";\n\nconst cx = classnames.bind(style);\nconst UserProfile = ({ profile, from }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [idx, setIdx] = useState(0);\n  const [isMe, setIsMe] = useState(from === \"/me\");\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, []);\n  const handleCancel = useCallback(() => {\n    setIsOpen(false);\n  }, []);\n  const handleSetIdx = useCallback(\n    (number) => (e) => {\n      setIdx(number);\n    },\n    []\n  );\n  useEffect(() => {\n    setIsMe(from === \"/me\");\n    return () => {};\n  }, [from]);\n  const getList = (from, profile, type) => {\n    if (type !== \"uploaded\") {\n      return from === \"/me\" ? (\n        profile && profile[type]?.length > 0 ? (\n          <div>\n            <BookList booklist={profile[type]} from=\"profile\" type={type} />\n          </div>\n        ) : (\n          <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n        )\n      ) : profile && profile[type]?.length > 0 ? (\n        <div>\n          <BookList booklist={profile[type]} from=\"profile\" />\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      );\n    } else {\n      return from === \"/me\" ? (\n        profile && profile?.uploaded?.length > 0 ? (\n          <div className={cx(\"uploaded-list\")}>\n            {profile?.uploaded?.map((book) => {\n              return (\n                <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n                  <img\n                    className={cx(\"uploaded-img\")}\n                    src={book.thumbnail}\n                    alt={book.thumbnail}\n                  />\n                  <div className={cx(\"to-detail\")}>\n                    <Link to={`/book/${book._id}`}>{book.title}</Link>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n        )\n      ) : profile && profile?.uploaded?.length > 0 ? (\n        <div className={cx(\"uploaded-list\")}>\n          {profile?.uploaded?.map((book) => {\n            return (\n              <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n                <img\n                  className={cx(\"uploaded-img\")}\n                  src={book.thumbnail}\n                  alt={book.thumbnail}\n                />\n                <div className={cx(\"to-detail\")}>\n                  <Link to={`/book/${book._id}`}>상세 페이지</Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      );\n    }\n  };\n  const openEdit = (isOpen, handleClose, profile) => {\n    return (\n      <>\n        <div\n          className={cx(\"modal-overay\", isOpen ? \"open-modal\" : \"close-modal\")}\n        />\n        <div className={cx(isOpen ? \"open-modal\" : \"close-modal\")}>\n          <UserEdit\n            handleClose={handleClose}\n            profile={profile}\n            isOpen={!isOpen}\n          />\n        </div>\n      </>\n    );\n  };\n  return (\n    <>\n      <section className={cx(\"user-profile\")}>\n        <section className={cx(\"profile-wrapper\")}>\n          <div className={cx(\"info\")}>\n            <img\n              src={profile && profile !== undefined ? profile.avatarUrl : \"\"}\n              alt={profile && profile !== undefined ? profile.email : \"\"}\n            />\n            <h1>{profile && profile !== undefined ? profile.email : \"\"}</h1>\n            <div className={cx(\"profile-edit\")}>\n              {from === \"/me\" ? (\n                <p to={\"/edit\"} onClick={handleOpen}>\n                  프로필 수정\n                </p>\n              ) : null}\n            </div>\n            <div className={cx(\"rate-review\")}>\n              <p>\n                {profile && profile !== undefined ? profile?.votes?.length : 0}\n                평가\n              </p>\n              <p>\n                {profile && profile !== undefined\n                  ? profile?.reviews?.length\n                  : 0}\n                리뷰\n              </p>\n            </div>\n            <p className={cx(\"intro\")}>\n              {profile && profile !== undefined ? profile?.intro : 0}\n            </p>\n          </div>\n        </section>\n        <section>\n          <ul className={cx(\"catalog-list\")}>\n            <li\n              className={idx === 0 ? cx(\"active\") : \"\"}\n              onClick={handleSetIdx(0)}\n            >\n              책\n            </li>\n            <li\n              className={idx === 1 ? cx(\"active\") : \"\"}\n              onClick={handleSetIdx(1)}\n            >\n              리뷰\n            </li>\n          </ul>\n          <section\n            style={idx === 0 ? { display: \"block\" } : { display: \"none\" }}\n          >\n            <section className={cx(\"uploaded\")}>\n              <div className={cx(\"uploaded-head\")}>\n                {from === \"/me\" ? (\n                  <Link\n                    to={\n                      profile && profile !== undefined\n                        ? `shelve/${profile?._id}`\n                        : `/`\n                    }\n                  >\n                    <h2>업로드 한 책</h2>\n                  </Link>\n                ) : (\n                  <h2>업로드 한 책</h2>\n                )}\n              </div>\n              <div\n                className={cx(\"uploaded-body\")}\n                style={{ marginLeft: \"5px\", marginTop: \"5px\" }}\n              >\n                {getList(from, profile, \"uploaded\")}\n              </div>\n            </section>\n            <section className={cx(\"want-read\")}>\n              <div className={cx(\"want-read-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                    읽을 책 (\n                    {profile && profile !== undefined\n                      ? profile?.want_read?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                    읽을 책 (\n                    {profile && profile !== undefined\n                      ? profile?.want_read?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"want-read-body\")}>\n                {getList(from, profile, \"want_read\")}\n              </div>\n              <div></div>\n            </section>\n            <section className={cx(\"currently-reading\")}>\n              <div className={cx(\"currently-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                    현재 읽고 있는 책 (\n                    {profile && profile !== undefined\n                      ? profile?.reading?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                    현재 읽고 있는 책 (\n                    {profile && profile !== undefined\n                      ? profile?.reading?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"currently-body\")}>\n                {getList(from, profile, \"reading\")}\n              </div>\n            </section>\n            <section className={cx(\"read\")}>\n              <div className={cx(\"read-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                    읽은 책 (\n                    {profile && profile !== undefined\n                      ? profile?.read?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                    읽은 책 (\n                    {profile && profile !== undefined\n                      ? profile?.read?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"read-body\")}>\n                {getList(from, profile, \"read\")}\n              </div>\n            </section>\n          </section>\n          <section\n            style={idx === 1 ? { display: \"block\" } : { display: \"none\" }}\n          >\n            <section className={cx(\"recent-update\")}>\n              <div className={cx(\"recent-head\")}>\n                <h2>리뷰</h2>\n              </div>\n              <div className={cx(\"recent-body\")}>\n                {profile && profile !== undefined ? (\n                  <UserReview key={v4()} profile={profile} isMe={isMe} />\n                ) : (\n                  \"리뷰 없음\"\n                )}\n              </div>\n            </section>\n          </section>\n        </section>\n      </section>\n      {openEdit(isOpen, handleCancel, profile)}\n    </>\n  );\n};\nexport default UserProfile;\n","import Profile from \"./Profile\";\nexport default Profile;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport UserProfile from \"../../components/UserProfile\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getUser } from \"../../reducer/user\";\nimport Helmet from \"../../components/Helmet\";\nimport Loading from \"../../components/Loading\";\nconst Profile = ({ history: { location } }) => {\n  const [loading, setIsLoading] = useState(true);\n  const { isLoggedIn, profile, pending } = useSelector((state) => state.login);\n  const { profile: user, pending: userPending } = useSelector(\n    (state) => state.user\n  );\n  const dispatch = useDispatch();\n  const getProfile = useCallback(\n    async (id) => {\n      try {\n        dispatch(getUser(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  useEffect(() => {\n    setIsLoading(true);\n    if (location.pathname !== \"/me\") {\n      const uid = location.pathname.substring(1).split(\"/\")[1];\n      getProfile(uid);\n    }\n    setIsLoading(false);\n  }, [getProfile, location.pathname]);\n  return (\n    <>\n      <Helmet title={`Profile | HappReads`} />\n      {loading || pending || userPending ? (\n        <Loading />\n      ) : (\n        <UserProfile\n          isLoggedIn={isLoggedIn}\n          profile={location.pathname === \"/me\" ? profile?.user : user}\n          from={location.pathname}\n        />\n      )}\n    </>\n  );\n};\nexport default Profile;\n","import React, { useCallback } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport style from \"./Rater.scss\";\nimport classnames from \"classnames/bind\";\nimport { useSelector } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst values = [\"1\", \"2\", \"3\", \"4\", \"5\"];\nconst starStyle = {\n  color: \"#f1c40f\",\n  cursor: \"pointer\",\n};\nconst Rater = ({ book, postVote, votes }) => {\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  const handleVote = useCallback(\n    async (vote) => {\n      const { _id } = book;\n      const {\n        user: { email },\n      } = profile;\n      await postVote(_id, email, vote);\n    },\n    [book, profile, postVote]\n  );\n  const handleOnClick = useCallback(\n    (e) => {\n      let currentItem = e.target;\n      while (currentItem.nodeName !== \"svg\") {\n        currentItem = currentItem.parentNode;\n      }\n      const rating = currentItem.dataset.rating;\n      if (isLoggedIn) handleVote(rating);\n      else alert(\"로그인 필요한 서비스 입니다\");\n    },\n    [isLoggedIn, handleVote]\n  );\n  return (\n    <div className={cx(\"rater\")}>\n      {values.map((value, idx) => {\n        return (\n          <FaStar\n            key={idx}\n            data-rating={idx + 1}\n            onClick={handleOnClick}\n            style={votes >= idx + 1 ? starStyle : {}}\n          />\n        );\n      })}\n    </div>\n  );\n};\nexport default Rater;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./Review.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FaHeart } from \"react-icons/fa\";\nimport { postReview, postLike } from \"../../reducer/review\";\nimport { check } from \"../../reducer/login\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classnames.bind(style);\nconst Review = () => {\n  const [input, setInput] = useState(\"\");\n  const [more, setMore] = useState(false);\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile: me } = useSelector((state) => state.login);\n  const { reviews } = useSelector((state) => state.review);\n  const { book } = useSelector((state) => state.books);\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handlePostReview = useCallback(\n    async (content) => {\n      const {\n        user: { email },\n      } = me;\n      try {\n        dispatch(postReview(book._id, email, content, book));\n        checkUser();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [book, checkUser, dispatch, me]\n  );\n  const handleChange = useCallback((e) => {\n    const { target } = e;\n    setInput(target.value);\n  }, []);\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        handlePostReview(input);\n        setInput(\"\");\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [isLoggedIn, input, handlePostReview]\n  );\n  //like 관련 작업 수정 진행 필요\n  const handlePostLike = useCallback(\n    async (type, id, target) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, me?.user?._id));\n        if (status === 200) {\n          target.style.fill = \"pink\";\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, checkUser]\n  );\n  const handleLike = useCallback(\n    (e) => {\n      const { currentTarget, target } = e;\n      const id = currentTarget.getAttribute(\"data-value\");\n      handlePostLike(\"like\", id, target);\n    },\n    [handlePostLike]\n  );\n  const toggleMore = useCallback(() => {\n    setMore((cur) => !cur);\n  }, []);\n  const reviewTag = (item) => {\n    return (\n      <article key={v4()} className={cx(\"review-item\")}>\n        <div>\n          <Link to={item.reviewer ? `/profile/${item.reviewer._id}` : \"\"}>\n            <img\n              className={cx(\"user-img\")}\n              src={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n              alt={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n            />\n            <span className={cx(\"user\")}>\n              {item.reviewer ? item.reviewer.email : \"\"}\n            </span>\n          </Link>\n        </div>\n        <span className={cx(\"date\")}>\n          {item.createdAt\n            ? moment(item.createdAt).format(`YYYY년 MM월 DD일 HH:MM:SS`)\n            : \"\"}\n        </span>\n        <article style={{ marginTop: \"10px\" }}>\n          <p className={cx(\"user-review\")}>\n            {!more && item.content.length > 30\n              ? `${item.content.substr(0, 30)}...`\n              : item.content}\n          </p>\n          {item.content.length > 20 && (\n            <p className={cx(\"more\")} onClick={toggleMore}>\n              {!more ? \"더보기\" : \"줄이기\"}\n            </p>\n          )}\n        </article>\n        <div className={cx(\"review-footer\")}>\n          <span\n            className={cx(\"heart\")}\n            onClick={handleLike}\n            data-value={item._id}\n          >\n            <FaHeart />\n          </span>\n          <span>{item.likes.length} 좋아요</span>\n        </div>\n      </article>\n    );\n  };\n  return (\n    <section className={cx(\"review\")}>\n      <p className={cx(\"review-title\")}>리뷰</p>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <textarea onChange={handleChange} value={input} />\n          <input type=\"submit\" value=\"등록\" />\n        </form>\n      </section>\n      <section className={cx(\"review-list-wrapper\")}>\n        {reviews\n          ? reviews.map((item) => {\n              return reviewTag(item);\n            })\n          : null}\n      </section>\n    </section>\n  );\n};\nexport default Review;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { FaPlusCircle, FaStar, FaAngleDown } from \"react-icons/fa\";\nimport style from \"./BookDetail.scss\";\nimport classnames from \"classnames/bind\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport Select from \"react-select\";\nimport Rater from \"../Rater\";\nimport Review from \"../Review\";\nimport { useDispatch } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport { formatAuthors, getAvg } from \"../../utills\";\nimport Notice from \"../Notice\";\n\nconst cx = classnames.bind(style);\nconst options = [\n  {\n    value: \"want_read\",\n    label: \"읽기\",\n  },\n  {\n    value: \"reading\",\n    label: \"읽는중\",\n  },\n  {\n    value: \"read\",\n    label: \"읽음\",\n  },\n];\nconst BookDetail = ({\n  profile: user,\n  votes,\n  id,\n  book,\n  postVote,\n  reviews,\n  postShelveError,\n  postShelveSuccess,\n  isLoggedIn,\n}) => {\n  const [selected, setSelected] = useState({\n    value: \"want_read\",\n    label: \"읽기\",\n  });\n  const [status, setStatus] = useState(\"읽기\");\n  const dispatch = useDispatch();\n  const getStatus = useCallback(() => {\n    const { profile } = user;\n    const { isbn } = id;\n    if (profile) {\n      if (this.checkStatus(profile.want_read, isbn)) {\n        setSelected(options[0]);\n        setStatus(options[0].label);\n        return;\n      }\n      if (this.checkStatus(profile.reading, isbn)) {\n        setSelected(options[1]);\n        setStatus(options[1].label);\n        return;\n      }\n      if (this.checkStatus(profile.read, isbn)) {\n        setSelected(options[2]);\n        setStatus(options[2].label);\n        return;\n      }\n    }\n  }, [id, user]);\n  const checkStatus = (arr, isbn) => {\n    if (arr.filter((item) => item.isbn === isbn).length > 0) return true;\n    return false;\n  };\n  const checkUserVote = () => {\n    const { profile } = user;\n    let cur = \"0\";\n    if (votes) {\n      for (let i = 0; i < votes.length; i++) {\n        if (votes[i]?._id === profile?._id) {\n          cur = String(votes[i].vote);\n          break;\n        }\n      }\n    }\n    return cur;\n  };\n\n  const handleOnClick = useCallback(() => {\n    const { value } = selected;\n    if (isLoggedIn) {\n      const {\n        user: { email },\n      } = user;\n      dispatch(postShelve(email, book._id, value));\n    } else {\n      alert(\"로그인이 필요한 서비스 입니다\");\n    }\n  }, [dispatch, book, user, selected, isLoggedIn]);\n\n  const handleRadio = (selected) => {\n    setSelected(selected);\n  };\n  useEffect(() => {\n    getStatus();\n  }, [getStatus]);\n  return (\n    <>\n      {book ? (\n        <>\n          {postShelveSuccess && (\n            <Notice\n              type={\"success\"}\n            >{`${selected.label}목록에 추가됬습니다`}</Notice>\n          )}\n          {postShelveError && (\n            <Notice type={\"error\"}>{`목록 추가에 실패했습니다`}</Notice>\n          )}\n          <section className={cx(\"book-detail\")}>\n            <section className={cx(\"book-rater-list\")}>\n              <ul>\n                <li className={\"star\"}>\n                  <FaStar />\n                </li>\n                {book &&\n                  book.votes &&\n                  book.votes.map((vote) => (\n                    <li key={v4()} className={\"book-rater\"}>\n                      <Link to={`/profile/${vote.voter._id}`}>\n                        <img\n                          src={vote.voter.avatarUrl}\n                          alt={vote.voter.emails}\n                        />\n                      </Link>\n                    </li>\n                  ))}\n              </ul>\n            </section>\n            <section className={cx(\"book-info-wrapper\")}>\n              <section className={cx(\"img-col\")}>\n                <img src={book.thumbnail} alt=\"geisha\" />\n              </section>\n              <section className={cx(\"book-content\")}>\n                <h2 className={cx(\"title\")}>{book.title}</h2>\n                <p className={cx(\"author\")}>\n                  <strong>저자 </strong>\n                  {formatAuthors(book.authors)}\n                </p>\n                <section className={cx(\"bookmeta\")}>\n                  <span className={cx(\"score\")}>\n                    <FaStar />\n                    {getAvg(votes)}\n                    <FaAngleDown className={cx(\"angle-down\")} />\n                  </span>\n                  <span className={cx(\"rate-cnt\")}>\n                    {votes ? votes.length : 0} 평가\n                  </span>\n                  <span className={cx(\"review-cnt\")}>\n                    {reviews ? reviews.length : 0} 리뷰\n                  </span>\n                </section>\n                <section className={cx(\"discription\")}>\n                  <h5>책 소개</h5>\n                  <p>\n                    {book.contents !== undefined ? book.contents : \"내용 없음\"}\n                  </p>\n                </section>\n                <div>\n                  <div className={cx(\"rate-wrapper\")}>\n                    <span>책 평가하기</span>\n                    <Rater\n                      postVote={postVote}\n                      book={book}\n                      id={id}\n                      votes={votes && votes.length > 0 ? checkUserVote() : \"0\"}\n                    />\n                  </div>\n                  <div className={cx(\"add\")}>\n                    <Select\n                      className={cx(\"select\")}\n                      options={options}\n                      onChange={handleRadio}\n                      value={selected}\n                      isSearchable={false}\n                      placeholder={status}\n                    />\n                    <button className={cx(\"want-read\")} onClick={handleOnClick}>\n                      <span>\n                        <FaPlusCircle />\n                      </span>\n                      등록\n                    </button>\n                  </div>\n                </div>\n              </section>\n            </section>\n          </section>\n          <Review />\n        </>\n      ) : (\n        <ChasingDots color=\"white\" size={60} />\n      )}\n    </>\n  );\n};\nexport default BookDetail;\n","import Detail from \"./Detail\";\nexport default Detail;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport BookDetail from \"../../components/BookDetail\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDetail, postRate } from \"../../reducer/books\";\nimport { getReview } from \"../../reducer/review\";\nimport Loading from \"../../components/Loading\";\nimport Helmet from \"../../components/Helmet\";\nconst Detail = ({ match }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  const { book, bookPending } = useSelector((state) => state.books);\n  const { reviews } = useSelector((state) => state.review);\n  const {\n    profile,\n    isLoggedIn,\n    postShelveSuccess,\n    postShelveError,\n  } = useSelector((state) => state.login);\n  const getBook = useCallback(\n    async (id) => {\n      try {\n        dispatch(getDetail(id));\n        dispatch(getReview(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const postVote = (id, name, vote) => {\n    dispatch(postRate(id, name, vote));\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    const {\n      params: { id },\n    } = match;\n    window.scrollTo(0, 0);\n    getBook(id);\n    setIsLoading(false);\n  }, [getBook, match]);\n  return (\n    <main className=\"main-container\">\n      <Helmet\n        title={`${book?.title} | HappReads`}\n        description={`${book?.contents}`}\n      />\n      {isLoading || bookPending ? (\n        <Loading />\n      ) : (\n        <BookDetail\n          book={book}\n          id={match.params.id}\n          postVote={postVote}\n          votes={book?.votes || []}\n          reviews={reviews}\n          profile={profile}\n          postShelveSuccess={postShelveSuccess}\n          postShelveError={postShelveError}\n          isLoggedIn={isLoggedIn}\n        />\n      )}\n    </main>\n  );\n};\nexport default Detail;\n","import React from \"react\";\nimport moment from \"moment\";\nimport style from \"./Footer.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Footer = () => {\n  return (\n    <footer className={cx(\"footer\")}>\n      <div className={cx(\"footer_icon\")}></div>\n      <span className={cx(\"footer_text\")}>\n        &copy; HappReads {moment().format(\"YYYY\")}\n      </span>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./Search.scss\";\nimport classnames from \"classnames/bind\";\nimport BookList from \"../../components/BookList\";\nimport { getBooks, getMore } from \"../../reducer/books\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nconst cx = classnames.bind(style);\nconst Search = ({ location }) => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const { books } = useSelector((state) => state.books);\n\n  const getMoreBooks = useCallback(\n    async (q, type, page = 1) => {\n      try {\n        dispatch(getMore(q, type, page));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const handleScroll = useCallback(() => {\n    const { innerHeight } = window;\n    const { scrollHeight } = document.body;\n    const scrollTop =\n      (document.documentElement && document.documentElement.scrollTop) ||\n      document.body.scrollTop;\n    const { search } = location;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    if (scrollHeight - innerHeight - scrollTop < 100) {\n      //스크롤링 했을때, 브라우저의 가장 밑에서 100정도 높이가 남았을때에 실행하기위함.\n      setPage(page + 1);\n      console.log(q);\n      //console.log(\"Search Next\");\n    }\n  }, [location, setPage, page]);\n  useEffect(() => {\n    const { search } = location;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    setQuery(q);\n    dispatch(getBooks(q, 0, page));\n  }, [dispatch, location, handleScroll, page]);\n  return (\n    <>\n      <Helmet title={`검색 | HappReads`} />\n      <section className={cx(\"search-result-container\")}>\n        <h1 className=\"search-keyword\">검색 키워드: {query}</h1>\n        <BookList booklist={books} from=\"search\" />\n      </section>\n    </>\n  );\n};\nexport default Search;\n","import Search from \"./Search\";\nexport default Search;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\nexport const UPLOAD = \"UPLOAD\";\nexport const UPLOAD_PENDING = \"UPLOAD_PENDING\";\nexport const UPLOAD_SUCCESS = \"UPLOAD_SUCCESS\";\nexport const UPLOAD_FAILURE = \"UPLOAD_FAILURE\";\nconst requestUpload = (data) => {\n  return axios.post(`upload`, data);\n};\nexport const postUpload = (data) => ({\n  type: UPLOAD,\n  payload: requestUpload(data),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  success: false,\n};\nexport default handleActions(\n  {\n    [UPLOAD_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [UPLOAD_SUCCESS]: (state, action) => {\n      return {\n        success: true,\n        pending: false,\n        error: false,\n      };\n    },\n    [UPLOAD_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./BookUpload.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 } from \"uuid\";\nimport { postUpload } from \"../../reducer/upload\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst cx = classnames.bind(style);\nconst BookUpload = () => {\n  const [content, setContent] = useState({\n    selected: null,\n    title: \"\",\n    authors: [],\n    author: \"\",\n    isbn: \"\",\n    contents: \"\",\n    genres: \"\",\n  });\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n  const { pending, error, success } = useSelector((state) => state.upload);\n  const handleAuthorChange = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        author: target.value,\n      });\n    },\n    [content]\n  );\n  const handleKeyPress = useCallback(\n    (e) => {\n      const { author, authors } = content;\n      const { keyCode } = e;\n      if (author !== \"\") {\n        if (keyCode === 13) {\n          setContent({\n            ...content,\n            authors: [...authors, author],\n            author: \"\",\n          });\n        }\n      }\n    },\n    [content]\n  );\n  const handleDeleteTag = (e) => {\n    const { authors } = content;\n    const target = e.target.previousSibling.innerHTML;\n    let newAuthors = authors.filter((author) => {\n      return author !== target;\n    });\n    //console.log(newAuthors);\n    setContent({\n      ...content,\n      authors: newAuthors,\n    });\n  };\n  const handleFile = (e) => {\n    const {\n      target: { files },\n    } = e;\n    setContent({\n      ...content,\n      selected: files[0],\n    });\n    const imgURL = URL.createObjectURL(files[0]);\n    document.querySelector(\".preview-img\").src = imgURL;\n  };\n  const handleTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        title: target.value,\n      });\n    },\n    [content]\n  );\n  const handleContents = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        contents: target.value,\n      });\n    },\n    [content]\n  );\n  const handleGenres = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        genres: target.value,\n      });\n    },\n    [content]\n  );\n  const handleSubmit = useCallback(\n    async (e) => {\n      e.preventDefault();\n      const {\n        user: { _id },\n      } = profile;\n      const { selected, contents, title, authors, genres } = content;\n      const formData = new FormData();\n      formData.append(\"thumbnail\", selected);\n      formData.append(\"title\", title);\n      formData.append(\"authors\", authors);\n      formData.append(\"contents\", contents);\n      formData.append(\"uid\", _id);\n      formData.append(\"genres\", genres);\n      const {\n        value: { status },\n      } = await dispatch(postUpload(formData));\n      if (status === 200) {\n        window.location.href = `${\n          process.env.NODE_ENV === \"development\" ? `/` : `/HappReads-front`\n        }`;\n      }\n    },\n    [content, profile, dispatch]\n  );\n  const authorTag = (authors, handleDeleteTag) => {\n    return authors?.map((author) => {\n      const uid = v4();\n      return (\n        <div className={cx(\"author-tag\")} key={uid}>\n          <span className={cx(\"author-name\")}>{author}</span>\n          <span className={cx(\"author-x\")} onClick={handleDeleteTag}>\n            x\n          </span>\n        </div>\n      );\n    });\n  };\n  const { title, authors, author, contents, genres } = content;\n  return (\n    <section className={cx(\"book-upload\")}>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <div className={cx(\"upload-btn-wrapper\")}>\n            <img className={cx(\"preview-img\")} alt=\"\" />\n            <div\n              className={cx(\"btn-container\")}\n              style={{ position: \"relative\" }}\n            >\n              <button className={cx(\"btn\")}>이미지 선택</button>\n              <input type=\"file\" onChange={handleFile} required />\n            </div>\n          </div>\n\n          <input\n            type=\"text\"\n            value={title}\n            onChange={handleTitle}\n            placeholder=\"책 이름\"\n            required\n          />\n          <div className={cx(\"authors\")}>\n            {authorTag(authors, handleDeleteTag)}\n            <input\n              className={cx(\"author-input\")}\n              type=\"text\"\n              placeholder=\"저자 +\"\n              value={author}\n              onChange={handleAuthorChange}\n              onKeyDown={handleKeyPress}\n            />\n          </div>\n          <input\n            type=\"text\"\n            value={genres}\n            placeholder=\"책 장르 ( ,구분진행)\"\n            onChange={handleGenres}\n            required\n          />\n          <textarea\n            placeholder=\"요약\"\n            value={contents}\n            onChange={handleContents}\n            required\n          />\n          <input type=\"submit\" value=\"제출\" />\n        </form>\n      </section>\n    </section>\n  );\n};\nexport default BookUpload;\n","import React from \"react\";\nimport BookUpload from \"../../components/BookUpload/BookUpload\";\nimport Helmet from \"../../components/Helmet\";\nconst Upload = () => {\n  return (\n    <>\n      <Helmet title={`Upload | HappReads`} />\n      <BookUpload />\n    </>\n  );\n};\n\nexport default Upload;\n","import React, { useState, useCallback } from \"react\";\nimport { withRouter } from \"react-router\";\nimport style from \"./SearchBar.scss\";\nimport classnames from \"classnames/bind\";\nimport { FaSearch } from \"react-icons/fa\";\nconst cx = classnames.bind(style);\nconst SearchBar = ({ history, getBooks }) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const handleChangeKeyword = useCallback((e) => {\n    setKeyword(e.target.value);\n  }, []);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    getBooks(keyword, 0, 1);\n    history.push(`/search?p=${keyword}`);\n  };\n  return (\n    <div className={cx(\"search-bar\")}>\n      <form className={cx(\"form-container\")} onSubmit={handleSubmit}>\n        <FaSearch className={cx(\"search-icon\")} onClick={handleSubmit} />\n        <input\n          type=\"input\"\n          placeholder=\"책 검색...\"\n          value={keyword}\n          name=\"q\"\n          onChange={handleChangeKeyword}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(SearchBar);\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport style from \"./Header.scss\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames/bind\";\nimport SearchBar from \"../SearchBar\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { check, logout } from \"../../reducer/login\";\nimport { getBooks } from \"../../reducer/books\";\nimport { getAtk } from \"../../utills\";\nimport {\n  FaBookReader,\n  FaSignOutAlt,\n  FaUpload,\n  FaUserAlt,\n  FaSignInAlt,\n  FaUserPlus,\n} from \"react-icons/fa\";\n\nconst cx = classnames.bind(style);\nconst Header = () => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [isLogOut, setIsLogOut] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handleLogout = useCallback(async () => {\n    const {\n      value: { status },\n    } = await dispatch(logout());\n    if (status === 200) {\n      localStorage.removeItem(\"atk\");\n      setIsLogOut(true);\n      window.location.reload();\n    }\n  }, [dispatch]);\n  const checkSize = (e) => {\n    const { innerWidth } = window;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      //console.log(\"isMobile\");\n      setIsMobile(true);\n    } else {\n      //console.log(\"not Mobile\");\n      setIsMobile(false);\n    }\n  };\n  useEffect(() => {\n    checkUser();\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, [checkUser]);\n\n  const clickMenu = useCallback(() => {\n    setShowMenu((cur) => !cur);\n  }, [setShowMenu]);\n  return (\n    <header className={cx(\"header\")}>\n      <nav className={cx([\"nav\", isMobile && \"mobile\"])}>\n        <div className={cx(\"title\")}>\n          <Link to={\"/\"}>\n            <span className={cx(\"fr\")}>Happ</span>\n            <span className={cx(\"en\")}>Reads</span>\n          </Link>\n        </div>\n        <SearchBar getBooks={getBooks} />\n        {isMobile && (\n          <ul className={cx(\"mobile-menu-bar\")} onClick={clickMenu}>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        )}\n        {isMobile === false && (\n          <div className={cx(\"menu-container\")}>\n            <div className={cx(\"community\")}>\n              <Link to={\"/community/reviews\"}>\n                <FaBookReader />\n                <p>책 리뷰</p>\n              </Link>\n            </div>\n            <ul className={cx(\"ul\")}>\n              {isLoggedIn ? (\n                <>\n                  <li>\n                    <span>\n                      <img\n                        src={profile.user ? profile.user.avatarUrl : \"\"}\n                        alt={\"me\"}\n                        onClick={clickMenu}\n                      />\n                    </span>\n                    <div className={cx(\"menu\", `${showMenu ? \"show\" : \"\"}`)}>\n                      <ul>\n                        <li>\n                          <Link to=\"/me\">프로필</Link>\n                        </li>\n                        <li>\n                          <Link to=\"/upload\">책 업로드</Link>\n                        </li>\n                        <li onClick={handleLogout}>로그아웃</li>\n                      </ul>\n                      <div className={cx(\"callout\")}></div>\n                    </div>\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className={cx(\"login\")}>\n                    <Link to={\"/login\"}>로그인</Link>\n                  </li>\n                  <li>\n                    <Link to={\"/signup\"}>가입</Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n        )}\n      </nav>\n      {isMobile && showMenu && (\n        <ul className={cx(\"mobile-menu-container\")} onClick={clickMenu}>\n          {isLoggedIn ? (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/me\">\n                  <FaUserAlt /> 프로필\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/upload\">\n                  <FaUpload /> 책 업로드\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader /> 책 리뷰\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")} onClick={handleLogout}>\n                <FaSignOutAlt /> 로그아웃\n              </li>\n            </>\n          ) : (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/login\"}>\n                  <FaSignInAlt /> 로그인\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/signup\"}>\n                  <FaUserPlus /> 가입\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader /> 책 리뷰\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      )}\n    </header>\n  );\n};\nexport default Header;\n","import React from \"react\";\nimport goBack from \"../../img/go_back.png\";\nimport classnames from \"classnames/bind\";\nimport style from \"./NoMatch.scss\";\nimport Helmet from \"../../components/Helmet\";\nconst cx = classnames.bind(style);\nconst NoMatch = () => {\n  return (\n    <>\n      <Helmet title={`404 Error | HappReads`} />\n      <section className={cx(\"nomatch-section\")}>\n        <h1>404 Not Found</h1>\n        <img src={goBack} alt={\"404\"} />\n      </section>\n    </>\n  );\n};\n\nexport default NoMatch;\n","import NoMatch from \"./NoMatch\";\nexport default NoMatch;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./BookShelve.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUser } from \"../../reducer/user\";\nimport { deleteShelve, check } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { getAvg, getAtk } from \"../../utills\";\nimport { editBook } from \"../../reducer/books\";\nimport Modal from \"../Modal\";\nconst cx = classnames.bind(style);\nconst BookShelve = () => {\n  const [shelve, setShelve] = useState({\n    type: 1,\n    openModal: false,\n    lastPos: 90,\n    item: {},\n    status: \"\",\n  });\n  const dispatch = useDispatch();\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const { profile: user } = useSelector((state) => state.user);\n  const loadUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      dispatch(check(atk));\n    }\n    const tmp = window.location.hash.split(\"/\");\n    const uid = tmp[tmp.length - 1]; //pathname.substring(1).split(\"/\")[1];\n    dispatch(getUser(uid));\n  }, [dispatch]);\n  useEffect(() => {\n    loadUser();\n    window.scrollTo(0, 0);\n    return () => {};\n  }, [loadUser]);\n\n  const getBooks = () => {\n    const { user } = profile;\n    if (user) {\n      const tags = user?.uploaded?.map((item) => {\n        return (\n          <tr key={item._id}>\n            <td>\n              <Link to={`/book/${item._id}`}>\n                <img src={item.thumbnail} alt={item.thumbnail}></img>\n              </Link>\n            </td>\n            <td>\n              <Link to={`/book/${item._id}`}>{item.title}</Link>\n            </td>\n            <td>\n              {item.authors.length > 1\n                ? `${item.authors[0]} *`\n                : item.authors[0]}\n            </td>\n            <td>{item.votes ? getAvg(item.votes) : 0.0}</td>\n            <td>{moment(item.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}</td>\n            <td className={cx(\"settings uploaded\")}>\n              <p onClick={handleOpen(item)}>수정</p>\n              <p onClick={onDeleteShelve}>X</p>\n            </td>\n          </tr>\n        );\n      });\n      return tags;\n    }\n    return null;\n  };\n  const onDeleteShelve = useCallback(\n    async (uid, bid, type) => {\n      try {\n        const response = await dispatch(deleteShelve(uid, bid, type)); //await deleteShelve(uid, bid, type);\n        const {\n          value: { status },\n        } = response;\n        if (status === 200) {\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, loadUser]\n  );\n\n  const handleOpen = useCallback(\n    (book) => (e) => {\n      setShelve({\n        ...shelve,\n        openModal: true,\n        item: book,\n      });\n    },\n    [shelve]\n  );\n  const handleCancel = useCallback(\n    (e) => {\n      setShelve({\n        ...shelve,\n        openModal: false,\n      });\n    },\n    [shelve]\n  );\n  const handleSubmit = useCallback(\n    (book) => async (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        try {\n          const response = await dispatch(\n            editBook({\n              ...book,\n            })\n          );\n          const {\n            value: { status },\n          } = response;\n          if (status === 200) {\n            loadUser();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    [dispatch, loadUser, isLoggedIn]\n  );\n  const { openModal, item } = shelve;\n  return (\n    <section className={cx(\"book-shelve\")}>\n      {openModal ? (\n        <Modal\n          handleCancel={handleCancel}\n          handleSubmit={handleSubmit}\n          item={item}\n        />\n      ) : null}\n      <div>\n        <p className={cx(\"shelve-header\")}>{user ? user.email : \"\"}의 책장</p>\n      </div>\n      <div>\n        <table>\n          <thead>\n            <tr>\n              <th>커버</th>\n              <th>제목</th>\n              <th>저자</th>\n              <th>평균</th>\n              <th>생성 날짜</th>\n              {profile?.user && user && user._id === profile.user._id ? (\n                <th>설정</th>\n              ) : null}\n            </tr>\n          </thead>\n          <tbody>{getBooks()}</tbody>\n        </table>\n      </div>\n    </section>\n  );\n};\nexport default BookShelve;\n","import React from \"react\";\nimport style from \"./Category.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nconst cx = classnames.bind(style);\nconst Category = ({ path }) => {\n  return (\n    <div className={cx(\"category\")}>\n      <ul>\n        <li>\n          <Link to={`/community/reviews`}>최근 책 리뷰</Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./CommunityContainer.scss\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\nimport Loading from \"../Loading\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nconst cx = classnames.bind(style);\nconst CommunityContainer = ({\n  path,\n  isLoading,\n  reviews,\n  loadReviewsPending,\n  loadReviewsDone,\n  loadMore,\n  toggleMore,\n  more,\n  handleLike,\n}) => {\n  const content = (path) => {\n    if (path === \"reviews\") {\n      return (\n        <>\n          {reviews.length === 0 && (\n            <p className={cx(\"empty\")}>최근 리뷰가 없습니다.</p>\n          )}\n          {\n            <>\n              {reviews.length > 0 &&\n                reviews.map((review) => {\n                  return (\n                    <section key={v4()} className={cx([\"card\", \"row\"])}>\n                      <section className={cx(\"first-col\")}>\n                        <Link\n                          to={`/book/${\n                            review && review.book && review.book._id\n                          }`}\n                        >\n                          <img\n                            src={review && review.book && review.book.thumbnail}\n                            alt={review && review.book && review.book.title}\n                          />\n                        </Link>\n                        <p className={cx(\"like\")}>\n                          <FontAwesomeIcon\n                            className={cx(\"heart\")}\n                            icon={faHeart}\n                            onClick={handleLike(review)}\n                          />{\" \"}\n                          {review && review.likes && review.likes.length} 좋아요\n                        </p>\n                      </section>\n                      <section className={cx(\"second-col\")}>\n                        <p className={cx(\"date\")}>\n                          {review &&\n                            moment(review.createdAt).format(\n                              \"YYYY/MM/DD HH:MM:DD\"\n                            )}\n                        </p>\n                        <p className={cx(\"reviewer\")}>\n                          <Link\n                            to={`/profile/${review && review.reviewer._id}`}\n                          >\n                            {review && review.reviewer.email.split(\"@\")[0]}\n                          </Link>\n                        </p>\n                        <h4 className={cx(\"title\")}>\n                          <Link\n                            to={`/book/${\n                              review && review.book && review.book._id\n                            }`}\n                          >\n                            {review && review.book && review.book.title}\n                          </Link>\n                        </h4>\n                        <section className={cx(\"content\")}>\n                          <img\n                            src={\n                              review &&\n                              review.reviewer &&\n                              review.reviewer.avatarUrl\n                            }\n                            alt={review && review.reviewer.email}\n                          />\n                          <article>\n                            <p className={cx(\"content-text\")}>\n                              {more === false &&\n                              review &&\n                              review.content &&\n                              review.content.length >= 50\n                                ? `${review.content.substring(0, 50)}...`\n                                : review.content}\n                            </p>\n                            {review &&\n                            review.content &&\n                            review.content.length >= 50 ? (\n                              <p className={cx(\"more\")} onClick={toggleMore}>\n                                {more ? \"줄이기\" : \"더보기\"}\n                              </p>\n                            ) : null}\n                          </article>\n                        </section>\n                      </section>\n                    </section>\n                  );\n                })}\n              {loadReviewsDone === false && (\n                <button className={cx(\"load-more-btn\")} onClick={loadMore}>\n                  더 보기\n                </button>\n              )}\n            </>\n          }\n        </>\n      );\n    }\n  };\n  return isLoading || loadReviewsPending ? (\n    <Loading />\n  ) : (\n    <section className={cx(\"community-container\")}>\n      {path === \"reviews\" && (\n        <section className={cx(\"reviews\")}>{content(\"reviews\")}</section>\n      )}\n    </section>\n  );\n};\nexport default CommunityContainer;\n","import Community from \"./Community\";\nexport default Community;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Category from \"../../components/Category\";\nimport CommunityContainer from \"../../components/CommunityContainer/CommunityContainer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getReviews, postLike } from \"../../reducer/review\";\nimport Helmet from \"../../components/Helmet\";\nconst Community = ({ history: { location } }) => {\n  const { pathname } = location;\n  const path = pathname.substr(1).split(\"/\")[1];\n  const [isLoading, setIsLoading] = useState(true);\n  const [more, setMore] = useState(false);\n  const [page, setPage] = useState(1);\n  const { reviews, loadReviewsPending, loadReviewsDone } = useSelector(\n    (state) => state.review\n  );\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n  const loadReviews = useCallback(\n    async (page = 1) => {\n      try {\n        dispatch(\n          getReviews({\n            limit: 5,\n            page,\n          })\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const toggleMore = useCallback(() => {\n    setMore((cur) => !cur);\n  }, []);\n  const loadMore = useCallback(\n    (e) => {\n      console.log(\"lood more\");\n      loadReviews(page + 1);\n      setPage((cur) => cur + 1);\n    },\n    [loadReviews, page]\n  );\n  const handleLike = useCallback(\n    (review) => () => {\n      const { user } = profile;\n      if (isLoggedIn) {\n        dispatch(postLike(\"like\", review._id, user._id));\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [profile, isLoggedIn, dispatch]\n  );\n  useEffect(() => {\n    setIsLoading(true);\n    loadReviews();\n    setIsLoading(false);\n  }, [loadReviews, dispatch, page]);\n  return (\n    <>\n      <Helmet\n        title={\"Book Reviews | HappReads\"}\n        keywords={\"책 리뷰, 리뷰, 최근 리뷰\"}\n      />\n      <Category path={path} />\n      <CommunityContainer\n        path={path}\n        isLoading={isLoading}\n        reviews={reviews}\n        loadingReviewsDone={loadReviewsDone}\n        loadReviewsPending={loadReviewsPending}\n        loadMore={loadMore}\n        more={more}\n        toggleMore={toggleMore}\n        handleLike={handleLike}\n      />\n    </>\n  );\n};\n\nexport default Community;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./FloatingButton.scss\";\nconst cx = classnames.bind(style);\nconst FloatingButton = () => {\n  const [hide, setHide] = useState(true);\n  const handleToTop = useCallback(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const handleScroll = useCallback(() => {\n    const pageYOffset = window.pageYOffset;\n    if (pageYOffset <= 600) {\n      setHide(true);\n    } else {\n      setHide(false);\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [handleScroll]);\n  return (\n    <button\n      className={cx([\"floating-button\", hide ? \"hide\" : \"show\"])}\n      onClick={handleToTop}\n    >\n      위로\n    </button>\n  );\n};\nexport default FloatingButton;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./route/Home\";\nimport Login from \"./route/Login/Login\";\nimport SignUp from \"./route/SignUp/SignUp\";\nimport Profile from \"./route/Profile\";\nimport Detail from \"./route/Detail\";\nimport Footer from \"./components/Footer\";\nimport Search from \"./route/Search\";\nimport Upload from \"./route/Upload/Upload\";\nimport Header from \"./components/Header\";\nimport NoMatch from \"./route/NoMatch\";\nimport BookShelve from \"./components/BookShelve/BookShelve\";\nimport Community from \"./route/Community\";\nimport FloatingButton from \"./components/FloatingButton/FloatingButton\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/\" exact component={Home}></Route>\n        <Route path=\"/book/:id\" component={Detail}></Route>\n        <Route path=\"/login\" component={Login}></Route>\n        <Route path=\"/search\" component={Search}></Route>\n        <Route path=\"/signup\" component={SignUp}></Route>\n        <Route path=\"/me\" component={Profile}></Route>\n        <Route path=\"/upload\" component={Upload}></Route>\n        <Route path=\"/community/reviews\" component={Community}></Route>\n        <Route path=\"/community/top-readers\" component={Community}></Route>\n        <Route path=\"/community/top-reviewers\" component={Community}></Route>\n        <Route path=\"/profile/:id\" component={Profile}></Route>\n        <Route path=\"/shelve/:id\" component={BookShelve}></Route>\n        <Route component={NoMatch} />\n      </Switch>\n      <FloatingButton />\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nconst POST_SHELVE = \"POST_SHELVE\";\nconst POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nconst POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nconst POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n};\nexport default handleActions(\n  {\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        pending: true,\n        error: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {},\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { combineReducers } from \"redux\";\nimport books from \"./books\";\nimport signup from \"./signup\";\nimport login from \"./login\";\nimport review from \"./review\";\nimport shelve from \"./shelve\";\nimport user from \"./user\";\nimport upload from \"./upload\";\nconst reducer = combineReducers({\n  books,\n  signup,\n  login,\n  review,\n  shelve,\n  user,\n  upload\n});\nexport default reducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport reducer from \"../reducer\";\nimport logger from \"redux-logger\";\n//import createSagaMiddleware from \"redux-saga\";\nimport { createPromise } from \"redux-promise-middleware\";\nconst customizePromiseMiddleware = createPromise({\n  promiseTypeSuffixes: [\"PENDING\", \"SUCCESS\", \"FAILURE\"],\n});\n//const sagaMiddleware = createSagaMiddleware();\nconst store = createStore(reducer, applyMiddleware(customizePromiseMiddleware));\n//sagaMiddleware.run();\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/go_back.62137145.png\";"],"sourceRoot":""}