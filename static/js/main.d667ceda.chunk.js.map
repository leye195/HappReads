{"version":3,"sources":["components/HomeSection/HomeSection.js","components/ScrollItem/ScrollItem.js","components/SlickList/SlickList.js","reducer/login.js","components/Modal/Modal.js","components/Book/Book.js","components/BookList/BookList.js","components/VerticalScroll/VerticalScroll.js","components/VerticalScroll/index.js","components/HomeContent/HomeContent.js","components/Helmet/index.js","components/Helmet/Helmet.js","reducer/books.js","components/Loading/Loading.js","components/Loading/index.js","route/Home/index.js","route/Home/Home.js","components/SocialLogin/SocialLogin.js","components/LoginForm/LoginForm.js","components/Notice/Notice.js","components/Notice/index.js","route/Login/Login.js","components/SignUpForm/SignUpForm.js","reducer/signup.js","route/SignUp/SignUp.js","utills.js","components/UserEdit/UserEdit.js","reducer/review.js","reducer/user.js","components/ReviewModal/ReviewModal.js","components/ReviewModal/index.js","components/UserReview/UserReview.js","components/UserProfile/UserProfile.js","route/Profile/index.js","route/Profile/Profile.js","components/Rater/Rater.js","components/Review/Review.js","components/BookDetail/BookDetail.js","route/Detail/index.js","route/Detail/Detail.js","components/Footer/Footer.js","route/Search/Search.js","route/Search/index.js","reducer/upload.js","components/BookUpload/BookUpload.js","route/Upload/Upload.js","components/SearchBar/SearchBar.js","components/Header/Header.js","route/NoMatch/NoMatch.js","route/NoMatch/index.js","components/BookShelve/BookShelve.js","components/Category/Category.js","components/CommunityContainer/CommunityContainer.js","route/Community/index.js","route/Community/Community.js","components/FloatingButton/FloatingButton.js","App.js","reducer/shelve.js","reducer/index.js","store/configure.js","index.js","img/go_back.png"],"names":["cx","classname","bind","style","HomeSection","className","classnames","ScrollItem","children","SlickList","books","useState","dots","infinite","speed","slidesToShow","slidesToScroll","adaptiveHeight","autoplay","autoplaySpeed","settings","setSettings","checkSize","useCallback","innerWidth","window","useEffect","addEventListener","removeEventListener","slice","map","book","key","v4","to","_id","src","thumbnail","alt","title","dotenv","config","axios","defaults","baseURL","requestLogin","id","pw","post","email","password","requestCheck","atk","create","headers","Authorization","requsetPostShelve","type","requestDeleteShelve","uid","console","log","delete","data","requestDeleteReview","rid","check","payload","postShelve","deleteShelve","bid","deleteReview","handleActions","state","action","loginPending","loginError","loginSuccess","profile","isLoggedIn","pending","error","logoutPending","logoutError","logoutSuccess","postShelvePending","postShelveSuccess","postShelveError","success","convertType","read","want_read","reading","Modal","handleSubmit","handleCancel","item","setTo","setBook","dispatch","useDispatch","useSelector","login","handleSelect","e","target","options","selectedIndex","value","handleChange","a","user","changeTitle","changeGenres","genres","changeContents","contents","role","aria-label","onClick","undefined","defaultValue","onChange","onSubmit","placeholder","connect","actions","props","from","isOpen","setOpen","authors","format","forEach","ele","formatAuthors","isMe","location","href","endsWith","handleEdit","cur","handleDelete","booklist","handleMore","done","length","filter","includes","color","size","VerticalScroll","icon","faBook","HomeContent","handleClick","sliderBooks","recentBooks","popularBooks","setIsMobile","hide","setHide","category","data-value","faAngleDown","faAngleUp","Helmet","keywords","description","name","content","property","URL","requestAllBooks","page","get","decodeURI","requestgetBooks","query","requestInfo","requestPostRate","vote","requestEditBook","put","getAllBooks","getBooks","getMore","getDetail","sliderPending","sliderError","sliderSuccess","allBookPending","allBookError","allBookDone","parseInt","morePending","moreError","documents","vote_pending","vote_error","vote_success","bookPending","bookError","bookSuccess","votes","recentPending","recentError","recentSuccess","popularPending","popularError","popularSuccess","editBookPending","editBookSuccess","editBookFailure","allBookPerror","total","term","bookFailure","Loading","Home","isLoading","setIsLoading","setType","setPage","dataset","SocialLogin","LoginForm","loginRequest","login_success","login_pending","setEmail","setPassword","preventDefault","handleEmail","handlePassword","required","Notice","Login","handleLogin","status","t","token","localStorage","setItem","SignUpForm","handleSignUp","p1","p2","handlePassword1","handlePassword2","requestSignUp","userSignup","signup_pending","signup_success","signup_error","SignUp","history","signup","p","getAtk","getItem","getAvg","i","toFixed","UserEdit","img","handleClose","seletedImg","avatarUrl","nickname","website","intro","interest","setContent","submitEdit","formData","FormData","append","handleFile","files","file","render","createObjectURL","document","querySelector","readURL","handleNickName","handleWebSite","handleInterest","handleIntro","position","requestGetReviews","limit","requestPostReview","requestEditReview","requestLikeReview","getReviews","getReview","isbn","postReview","editReview","postLike","loadReviewsPending","loadReviewsError","loadReviewsSuccess","loadReviewsDone","reviews","postReviewPending","postReviewSuccess","postReviewError","review","idx","updatedReviews","requestUser","getUser","readers","topReaders","reviewers","topReviewers","ReviewModal","checkUser","handleEditReview","UserReview","setReview","setIsOpen","me","userloading","loadUser","currentTarget","getAttribute","handleDeleteReview","handlePostLike","handleLike","alert","mid","moment","createdAt","likes","data-bid","UserProfile","setIdx","setIsMe","handleOpen","handleSetIdx","number","getList","uploaded","display","marginLeft","marginTop","openEdit","Profile","loading","userPending","getProfile","pathname","substring","split","values","starStyle","cursor","Rater","postVote","handleVote","handleOnClick","currentItem","nodeName","parentNode","rating","data-rating","Review","input","setInput","more","setMore","handlePostReview","fill","toggleMore","reviewer","substr","reviewTag","label","BookDetail","selected","setSelected","setStatus","getStatus","checkStatus","voter","emails","s","String","checkUserVote","isSearchable","Detail","match","getBook","params","scrollTo","postRate","Footer","Search","setQuery","handleScroll","q","innerHeight","scrollHeight","body","scrollTop","documentElement","search","replace","requestUpload","BookUpload","author","upload","handleAuthorChange","handleKeyPress","keyCode","handleTitle","handleContents","handleGenres","imgURL","handleDeleteTag","authorTag","previousSibling","innerHTML","newAuthors","onKeyDown","Upload","withRouter","keyword","setKeyword","handleChangeKeyword","push","Header","showMenu","setShowMenu","setIsLogOut","isMobile","handleLogout","removeItem","reload","clickMenu","NoMatch","goBack","BookShelve","openModal","lastPos","shelve","setShelve","tmp","hash","onDeleteShelve","response","Category","path","CommunityContainer","loadMore","faHeart","Community","loadReviews","loadingReviewsDone","FloatingButton","handleToTop","pageYOffset","App","exact","component","reducer","combineReducers","customizePromiseMiddleware","createPromise","promiseTypeSuffixes","store","createStore","applyMiddleware","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d667ceda.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./HomeSection.scss\";\nimport classname from \"classnames/bind\";\n\nconst cx = classname.bind(style);\nconst HomeSection = () => {\n  return (\n    <section className={cx(\"home-section\")}>\n      <section className={cx(\"words\")}>\n        <h3>With Happyness</h3>\n        <h4>   </h4>\n      </section>\n    </section>\n  );\n};\n\nexport default HomeSection;\n","import React from \"react\";\nimport style from \"./ScrollItem.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst ScrollItem = ({ children }) => {\n  return <div className={cx(\"scroll-item\")}>{children}</div>;\n};\nexport default ScrollItem;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./SlickList.scss\";\nimport classnames from \"classnames/bind\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ScrollItem from \"../ScrollItem\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nconst cx = classnames.bind(style);\nconst SlickList = ({ books }) => {\n  const [settings, setSettings] = useState({\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    adaptiveHeight: true,\n    autoplay: true,\n    autoplaySpeed: 4000,\n  });\n  const checkSize = useCallback(() => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      setSettings({\n        ...settings,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      });\n    } else {\n      setSettings({\n        ...settings,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n      });\n    }\n  }, [settings]);\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, []);\n  return (\n    <section className={cx(\"slider-container\")}>\n      <Slider {...settings}>\n        {books?.slice(0, 8)?.map((book) => (\n          <ScrollItem key={v4()}>\n            <Link to={`/book/${book._id}`}>\n              <img src={book.thumbnail} alt={book.title} />\n            </Link>\n          </ScrollItem>\n        ))}\n      </Slider>\n    </section>\n  );\n};\nexport default SlickList;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const USER_CHECK = \"USER_CHECK\";\nexport const USER_CHECK_PENDING = \"USER_CHECK_PENDING\";\nexport const USER_CHECK_SUCCESS = \"USER_CHECK_SUCCESS\";\nexport const USER_CHECK_FAILURE = \"USER_CHECK_FAILURE\";\n\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_PENDING = \"LOGIN_PENDING\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT = \"LOGOUT\";\nexport const LOGOUT_PENDING = \"LOGOUT_PENDING\";\nexport const LOGOUT_SUCCESS = \"LOGOUR_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const POST_SHELVE = \"POST_SHELVE\";\nexport const POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nexport const POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nexport const POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nexport const DELETE_SHELVE = \"DELETE_SHELVE\";\nexport const DELETE_SHELVE_PENDING = \"DELETE_SHELVE_PENDING\";\nexport const DELETE_SHELVE_SUCCESS = \"DELETE_SHELVE_SUCCESS\";\nexport const DELETE_SHELVE_FAILURE = \"DELETE_SHELVE_FAILURE\";\n\nexport const DELETE_REVIEW = \"DELETE_REVIEW\";\nexport const DELETE_REVIEW_PENDING = \"DELETE_REVIEW_PENDING\";\nexport const DELETE_REVIEW_SUCCESS = \"DELETE_REVIEW_SUCCESS\";\nexport const DELETE_REVIEW_FAILURE = \"DELETE_REVIEW_FAILURE\";\n\nconst requestLogin = (id, pw) => {\n  return axios.post(`login`, {\n    email: id,\n    password: pw,\n  });\n};\nconst requestLogout = () => {\n  return axios.post(`logout`);\n};\nconst requestCheck = (atk) => {\n  const api = axios.create({\n    headers: {\n      Authorization: `${atk}`,\n    },\n  });\n  return api.post(`profile`);\n};\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nconst requestDeleteShelve = (uid, id, type) => {\n  console.log(uid, id, type);\n  return axios.delete(`shelve`, {\n    data: { uid, id, type },\n  });\n};\nconst requestDeleteReview = (id, rid, uid) => {\n  return axios.delete(`book/${id}/review/${rid}`, {\n    data: {\n      uid,\n    },\n  });\n};\n\nexport const check = (atk) => ({\n  type: USER_CHECK,\n  payload: requestCheck(atk),\n});\nexport const logout = () => ({\n  type: LOGOUT,\n  payload: requestLogout(),\n});\nexport const login = (id, pw) => ({\n  type: LOGIN,\n  payload: requestLogin(id, pw),\n});\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nexport const deleteShelve = (uid, bid, type) => ({\n  type: DELETE_SHELVE,\n  payload: requestDeleteShelve(uid, bid, type),\n});\nexport const deleteReview = (id, rid, uid) => ({\n  type: DELETE_REVIEW,\n  payload: requestDeleteReview(id, rid, uid),\n});\n\nconst initialState = {\n  pending: true,\n  error: false,\n  success: false,\n  profile: {},\n  isLoggedIn: false,\n  loginPending: false,\n  loginError: false,\n  loginSuccess: false,\n  logoutPending: false,\n  logoutSuccess: false,\n  logoutError: false,\n  postShelvePending: false,\n  postShelveSuccess: false,\n  postShelveError: false,\n};\n\nexport default handleActions(\n  {\n    //LOGIN\n    [LOGIN_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loginPending: true,\n        loginError: false,\n        loginSuccess: false,\n      };\n    },\n    [LOGIN_SUCCESS]: (state, action) => {\n      return {\n        profile: action.payload.data,\n        loginPending: false,\n        loginError: false,\n        loginSuccess: true,\n        isLoggedIn: true,\n      };\n    },\n    [LOGIN_FAILURE]: (state, action) => {\n      console.log();\n      return {\n        ...state,\n        loginPending: false,\n        loginError: true,\n        loginSuccess: false,\n        isLoggedIn: false,\n      };\n    },\n    //USER_CHECK\n    [USER_CHECK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        isLoggedIn: false,\n      };\n    },\n    [USER_CHECK_SUCCESS]: (state, action) => {\n      // const { data } = action.payload;\n      return {\n        pending: false,\n        error: false,\n        isLoggedIn: true,\n        profile: action.payload.data,\n      };\n    },\n    [USER_CHECK_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n        isLoggedIn: false,\n      };\n    },\n    //LOGOUT\n    [LOGOUT_PENDING]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: true,\n        logoutError: false,\n        logoutSuccess: false,\n      };\n    },\n    [LOGOUT_SUCCESS]: (state, action) => {\n      //console.log(action.payload);\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: false,\n        logoutSuccess: true,\n        isLoggedIn: false,\n        profile: {},\n      };\n    },\n    [LOGOUT_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: true,\n        logoutSuccess: false,\n      };\n    },\n    //POST_SHELVE\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: true,\n        postShelveSuccess: false,\n        postShelveError: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveSuccess: true,\n        profile: data,\n      };\n    },\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveError: true,\n      };\n    },\n    [DELETE_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        profile: data,\n        pending: false,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [DELETE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_REVIEW_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        profile: data,\n      };\n    },\n    [DELETE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./Modal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\n\nconst cx = classnames.bind(style);\nconst convertType = {\n  read: \" \",\n  want_read: \" \",\n  reading: \"\",\n};\nconst Modal = ({ handleSubmit, handleCancel, item, type }) => {\n  const [to, setTo] = useState(convertType[type]);\n  const [book, setBook] = useState({ ...item });\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n  const handleSelect = useCallback((e) => {\n    const { target } = e;\n    setTo(target.options[target.selectedIndex].value);\n  }, []);\n  const handleChange = useCallback(\n    async (e) => {\n      const { user } = profile;\n      //    \n      try {\n        dispatch(postShelve(user.email, item._id, to));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [item, to, profile, dispatch]\n  );\n  const changeTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        title: target.value,\n      });\n    },\n    [book]\n  );\n  const changeGenres = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        genres: target.value,\n      });\n    },\n    [book]\n  );\n  const changeContents = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        contents: target.value,\n      });\n    },\n    [book]\n  );\n  return (\n    <div className=\"modal-container\">\n      <div className=\"modal-overlay\"></div>\n      <div className=\"modal\">\n        <p className={cx(\"exit\")}>\n          <span role=\"img\" aria-label=\"cancel\" onClick={handleCancel}>\n            \n          </span>\n        </p>\n        {type !== undefined ? (\n          <>\n            <img src={item.thumbnail} alt={item.id} />\n            <div className={cx(\"status-wrapper\")}>\n              <div className={cx(\"read-status\")}>\n                <span> :</span>\n                <p className={cx(\"current-status\")}>{convertType[type]}</p>\n              </div>\n              <select\n                className={cx(\"select\")}\n                defaultValue={to}\n                onChange={handleSelect}\n              >\n                <option value={\"want_read\"}> </option>\n                <option value={\"reading\"}>\b</option>\n                <option value={\"read\"}></option>\n              </select>\n              <div className={cx(\"button-container\")}>\n                <button className={cx(\"ok-btn\")} onClick={handleChange}>\n                  \n                </button>\n                <button className={cx(\"cancel-btn\")} onClick={handleCancel}>\n                  \n                </button>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className={cx(\"book-info-container\")}>\n            <div className={cx(\"img-container\")}>\n              <img src={book.thumbnail} alt={book.title} />\n            </div>\n            <form\n              className={cx(\"book-info-form\")}\n              onSubmit={handleSubmit(book)}\n            >\n              <input\n                value={book.title}\n                placeholder=\"\"\n                onChange={changeTitle}\n              />\n              <input\n                value={book.genres}\n                placeholder=\"\"\n                onChange={changeGenres}\n              />\n              <textarea\n                value={book.contents}\n                placeholder=\"\"\n                onChange={changeContents}\n              />\n              <button className={\"ok-btn\"}></button>\n            </form>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import React, { useState } from \"react\";\nimport style from \"./Book.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../reducer/login\";\nimport Modal from \"../Modal\";\nconst cx = classnames.bind(style);\nconst Book = (props) => {\n  const { from, type } = props;\n  const [isOpen, setOpen] = useState(false);\n  const formatAuthors = (authors) => {\n    let format = \"\";\n    authors.forEach((ele) => {\n      format += ele;\n    });\n    return format;\n  };\n  if (from === \"home\") {\n    const { book } = props;\n    return (\n      <div className={cx(\"book\")}>\n        <img src={book.thumbnail} alt=\"book\" />\n        <p>{book.title}</p>\n      </div>\n    );\n  } else if (from === \"search\") {\n    const { book } = props;\n    return (\n      <li className={cx(\"ser-bg\")}>\n        <div className={cx(\"ser-book\")}>\n          <Link to={`/book/${book._id}`}>\n            <img src={book.thumbnail} alt=\"book\" />\n          </Link>\n        </div>\n        <div className={cx(\"ser-info\")}>\n          <Link to={`/book/${book._id}`}>\n            <h3 className={cx(\"ser-title\")}>{book.title}</h3>\n          </Link>\n          <p className={cx(\"ser-author\")}>{formatAuthors(book.authors)}</p>\n          <p className={cx(\"ser-contents\")}>\n            {book && book.contents ? book.contents : \"  \"}\n          </p>\n        </div>\n      </li>\n    );\n  } else if (from === \"profile\") {\n    const {\n      book: { book },\n      profile: { user },\n    } = props;\n    const isMe = window.location.href.endsWith(\"/me\");\n    const handleDelete = (type) => () => {\n      const {\n        deleteShelve,\n        book,\n        profile: { user },\n      } = props;\n      deleteShelve(user._id, book._id, type);\n    };\n    const handleEdit = () => {\n      setOpen((cur) => !cur);\n    };\n    return (\n      <div className={cx(\"shelve\")}>\n        <Link to={`/book/${book?._id}`}>\n          <p className={cx(\"title\")}>{book?.title}</p>\n        </Link>\n        {isMe ? (\n          <div className={cx(\"setting-btns\")}>\n            <div className={cx(\"edit-container\")}>\n              <span className={cx(\"edit\")} onClick={handleEdit}>\n                <FaEdit />\n              </span>\n              {isOpen ? (\n                <Modal type={type} item={book} handleCancel={handleEdit} />\n              ) : null}\n            </div>\n            <div>\n              <span className={cx(\"delete\")} onClick={handleDelete(type)}>\n                <FaTrash />\n              </span>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n};\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.login.profile,\n    success: state.login.success,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    postShelve: (email, id, type) =>\n      dispatch(actions.postShelve(email, id, type)),\n    deleteShelve: (id, bid, type) =>\n      dispatch(actions.deleteShelve(id, bid, type)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React from \"react\";\nimport style from \"./BookList.scss\";\nimport classnames from \"classnames/bind\";\nimport Book from \"../Book/Book\";\nimport { Link } from \"react-router-dom\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport { v4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst BookList = ({ from, booklist, type, handleMore, done }) => {\n  if (from === \"home\") {\n    return (\n      <section className={cx(\"book-list\")}>\n        {booklist ? (\n          type === \"\" && booklist.length > 0 ? (\n            <>\n              {booklist.map((book) => {\n                return (\n                  <Link to={`/book/${book._id}`} key={v4()}>\n                    <Book book={book} from={from} />\n                  </Link>\n                );\n              })}\n              {done === false && (\n                <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                  <p>  +</p>\n                </div>\n              )}\n            </>\n          ) : (\n            <>\n              {booklist\n                .filter((book) => book?.genres?.includes(type))\n                .map((book) => {\n                  return (\n                    <Link to={`/book/${book._id}`} key={v4()}>\n                      <Book book={book} from={from} />\n                    </Link>\n                  );\n                })}\n              {booklist.filter((book) => book?.genres?.includes(type)).length >\n                0 &&\n                done === false && (\n                  <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                    <p>  +</p>\n                  </div>\n                )}\n            </>\n          )\n        ) : (\n          <ChasingDots color=\"white\" size={60} />\n        )}\n      </section>\n    );\n  } else if (from === \"search\") {\n    return (\n      <section className={cx(\"ser-container\")}>\n        <ul className={cx(\"ser-ul\")}>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} />;\n          })}\n        </ul>\n      </section>\n    );\n  } else if (from === \"profile\") {\n    return (\n      <section>\n        <ul>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} type={type} />;\n          })}\n        </ul>\n      </section>\n    );\n  }\n};\n\nexport default connect(null, null)(BookList);\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./VerticalScroll.scss\";\nimport Book from \"../Book/Book\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\nconst cx = classnames.bind(style);\nconst VerticalScroll = ({ title, books }) => {\n  return (\n    <section className={cx(\"vertical\")}>\n      <p className={cx(\"title\")}>\n        {title}\n        <FontAwesomeIcon className={cx(\"book-icon\")} icon={faBook} />\n      </p>\n      <section className={cx(\"list\")}>\n        {books?.map((book) => (\n          <Link key={v4()} to={`/book/${book._id}`}>\n            <Book book={book} from={\"home\"} />\n          </Link>\n        ))}\n      </section>\n    </section>\n  );\n};\nexport default VerticalScroll;\n","import VerticalScroll from \"./VerticalScroll\";\nexport default VerticalScroll;\n","import React, { useEffect, useState } from \"react\";\nimport style from \"./HomeContent.scss\";\nimport classnames from \"classnames/bind\";\nimport SlickList from \"../SlickList\";\nimport BookList from \"../BookList\";\nimport VerticalScroll from \"../VerticalScroll\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { v4 } from \"uuid\";\n\nconst cx = classnames.bind(style);\nconst HomeContent = ({\n  booklist,\n  handleClick,\n  handleMore,\n  sliderBooks,\n  recentBooks,\n  popularBooks,\n  type,\n  done,\n}) => {\n  const [isMobile, setIsMobile] = useState(false);\n  const [hide, setHide] = useState(true);\n  const [category, setCategory] = useState([\n    \"\",\n    \"\",\n    \"IT\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n  ]);\n  const checkSize = () => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  };\n  const toggleHide = () => {\n    setHide((cur) => !cur);\n  };\n\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  });\n  return (\n    <section className={cx(\"home-content\")}>\n      <SlickList books={sliderBooks} />\n      <VerticalScroll\n        title={\"  \"}\n        books={recentBooks.slice(0, 15)}\n      />\n      <VerticalScroll title={\"  \"} books={popularBooks} />\n      <section className={cx(\"books-wrapper\")}>\n        <section className={cx(\"book-category-section\")}>\n          <div className={cx(\"book-category-div\")}>\n            <ul className={cx(\"book-category-ul\")}>\n              {hide\n                ? category.slice(0, 7).map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))\n                : category.map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))}\n            </ul>\n          </div>\n          <div className={cx(\"more-container\")} onClick={toggleHide}>\n            {hide ? \" \" : \"\"}\n            <FontAwesomeIcon\n              className={cx(\"more\")}\n              icon={hide ? faAngleDown : faAngleUp}\n            />\n          </div>\n        </section>\n        <BookList\n          booklist={booklist}\n          handleMore={handleMore}\n          from={\"home\"}\n          type={type}\n          done={done}\n        />\n      </section>\n    </section>\n  );\n};\n\nexport default HomeContent;\n","import Helmet from \"./Helmet\";\nexport default Helmet;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst ReactHelmet = ({ title, keywords, description }) => {\n  return (\n    <Helmet>\n      {description && <meta name=\"description\" content={description} />}\n      {keywords && <meta name=\"keywords\" content={keywords} />}\n      <title>{title}</title>\n      <meta property=\"og:title\" content={title} />\n      <meta name=\"twitter:title\" content={title} />\n    </Helmet>\n  );\n};\nexport default ReactHelmet;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst URL =\n  //process.env.NODE_ENV === \"development\"\n  //? \"http://localhost:8080/\"\n  \"https://happread.herokuapp.com/\";\n\nexport const GET_BOOKS = \"GET_BOOKS\"; // \nexport const GET_BOOKS_PENGIND = \"GET_BOOKS_PENDING\";\nexport const GET_BOOKS_SUCCESS = \"GET_BOOKS_SUCCESS\";\nexport const GET_BOOKS_FAILURE = \"GET_BOOKS_FAILURE\";\n\nexport const GET_SLIDER_BOOKS = \"GET_SLIDER_BOOKS\";\nexport const GET_SLIDER_BOOKS_PENGIND = \"GET_SLIDER_BOOKS_PENDING\";\nexport const GET_SLIDER_BOOKS_SUCCESS = \"GET_SLIDER_BOOKS_SUCCESS\";\nexport const GET_SLIDER_BOOKS_FAILURE = \"GET_SLIDER_BOOKS_FAILURE\";\n\nexport const GET_POPULAR_BOOKS = \"GET_POPULAR_BOOKS\"; //  \nexport const GET_POPULAR_BOOKS_PENGIND = \"GET_POPULAR_BOOKS_PENDING\";\nexport const GET_POPULAR_BOOKS_SUCCESS = \"GET_POPULAR_BOOKS_SUCCESS\";\nexport const GET_POPULAR_BOOKS_FAILURE = \"GET_POPULAR_BOOKS_FAILURE\";\n\nexport const GET_RECENT_BOOKS = \"GET_RECENT_BOOKS\"; //  \nexport const GET_RECENT_BOOKS_PENGIND = \"GET_RECENT_BOOKS_PENDING\";\nexport const GET_RECENT_BOOKS_SUCCESS = \"GET_RECENT_BOOKS_SUCCESS\";\nexport const GET_RECENT_BOOKS_FAILURE = \"GET_RECENT_BOOKS_FAILURE\";\n\nexport const GET_SEARCH_BOOKS = \"GET_SEARCH_BOOKS\"; // \nexport const GET_SEARCH_BOOKS_PENGIND = \"GET_SEARCH_BOOKS_PENDING\";\nexport const GET_SEARCH_BOOKS_SUCCESS = \"GET_SEARCH_BOOKS_SUCCESS\";\nexport const GET_SEARCH_BOOKS_FAILURE = \"GET_SEARCH_BOOKS_FAILURE\";\n\nexport const GET_MORE_BOOKS = \"GET_MORE_BOOKS\";\nexport const GET_MORE_BOOKS_PENGIND = \"GET_MORE_BOOKS_PENDING\";\nexport const GET_MORE_BOOKS_SUCCESS = \"GET_MORE_BOOKS_SUCCESS\";\nexport const GET_MORE_BOOKS_FAILURE = \"GET_MORE_BOOKS_FAILURE\";\n\nexport const POST_BOOK = \"POST_BOOK\"; // \nexport const POST_BOOK_PENDING = \"POST_BOOK_PENDING\";\nexport const POST_BOOK_SUCCESS = \"POST_BOOK_SUCCESS\";\nexport const POST_BOOK_FAILURE = \"POST_BOOK_FAILURE\";\n\nexport const EDIT_BOOK = \"EDIT_BOOK\"; // \nexport const EDIT_BOOK_PENDING = \"EDIT_BOOK_PENDING\";\nexport const EDIT_BOOK_SUCCESS = \"EDIT_BOOK_SUCCESS\";\nexport const EDIT_BOOK_FAILURE = \"EDIT_BOOK_FAILURE\";\n\nexport const GET_VOTE_REVIEW = \"GET_VOTE_REVIEW\"; // \nexport const GET_VOTE_REVIEW_PENDING = \"GET_VOTE_REVIEW_PENDING\";\nexport const GET_VOTE_REVIEW_SUCCESS = \"GET_VOTE_REVIEW_SUCCESS\";\nexport const GET_VOTE_REVIEW_FAILURE = \"GET_VOTE_REVIEW_FAILURE\";\n\nexport const GET_DETAIL = \"GET_DETAIL\"; //\nexport const GET_DETAIL_PENDING = \"GET_DETAIL_PENDING\";\nexport const GET_DETAIL_SUCCESS = \"GET_DETAIL_SUCCESS\";\nexport const GET_DETAIL_FAILURE = \"GET_DETAIL_FAILURE\";\n\nexport const POST_RATE = \"POST_RATE\"; //\nexport const POST_RATE_PENDING = \"POST_RATE_PENDING\";\nexport const POST_RATE_SUCCESS = \"POST_RATE_SUCCESS\";\nexport const POST_RATE_FAILURE = \"POST_RATE_FAILURE\";\n\nconsole.log(URL);\nconst requestAllBooks = (type, page) => {\n  return axios.get(`${URL}books/type/${decodeURI(type)}?page=${page}`);\n};\nconst requestSliderBooks = () => {\n  return axios.get(`${URL}book/sliders`);\n};\nconst requestgetBooks = (query, type, page) => {\n  return axios.get(`${URL}book/search?q=${decodeURI(query)}&type=${0}`);\n};\nconst requestInfo = (id) => {\n  return axios.get(`${URL}book/${id}`);\n};\nconst requestPostRate = (id, name, vote) => {\n  return axios.post(`${URL}book/${id}`, {\n    vote,\n    name,\n  });\n};\nconst requestRecentBooks = () => {\n  return axios.get(`${URL}books/recent`);\n};\nconst requestPopularBooks = () => {\n  return axios.get(`${URL}books/popular`);\n};\nconst requestEditBook = (data) => {\n  const { _id, title, contents, genres } = data;\n  return axios.put(`${URL}book/${_id}`, {\n    title,\n    contents,\n    genres,\n  });\n};\n\nexport const getAllBooks = (type, page) => ({\n  type: GET_BOOKS,\n  payload: requestAllBooks(type, page),\n});\nexport const getSliderBooks = () => ({\n  type: GET_SLIDER_BOOKS,\n  payload: requestSliderBooks(),\n});\nexport const getRecentBooks = () => ({\n  type: GET_RECENT_BOOKS,\n  payload: requestRecentBooks(),\n});\nexport const getPopularBooks = () => ({\n  type: GET_POPULAR_BOOKS,\n  payload: requestPopularBooks(),\n});\nexport const editBook = (data) => ({\n  type: EDIT_BOOK,\n  payload: requestEditBook(data),\n});\nexport const getBooks = (query = \" \", type = 0, page = 1) => ({\n  type: GET_SEARCH_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getMore = (query = \"\", type = 0, page = 1) => ({\n  type: GET_MORE_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getDetail = (id) => ({\n  type: GET_DETAIL,\n  payload: requestInfo(id),\n});\nexport const postRate = (id, name, vote) => ({\n  type: POST_RATE,\n  payload: requestPostRate(id, name, vote),\n});\n\nconst initialState = {\n  allBookPending: false,\n  allBookPerror: false,\n  allBookDone: false,\n  books: [],\n  morePending: false,\n  moreError: \"\",\n  sliderBooks: [],\n  sliderPending: false,\n  sliderError: false,\n  sliderSuccess: false,\n  total: 0,\n  vote_pending: false,\n  vote_error: false,\n  vote_success: false,\n  term: \"\",\n  book: {},\n  bookPending: false,\n  bookSuccess: false,\n  bookFailure: false,\n  recentBooks: [],\n  recentPending: false,\n  recentError: false,\n  recentSuccess: false,\n  popularBooks: [],\n  popularPending: false,\n  popularError: false,\n  popularSuccess: false,\n  editBookPending: false,\n  editBookSuccess: false,\n  editBookFailure: false,\n};\n\nexport default handleActions(\n  {\n    [GET_SLIDER_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: true,\n        sliderError: false,\n        sliderSuccess: false,\n      };\n    },\n    [GET_SLIDER_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        sliderBooks: books,\n        sliderPending: false,\n        sliderSuccess: true,\n      };\n    },\n    [GET_SLIDER_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: false,\n        sliderError: true,\n      };\n    },\n\n    [GET_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books, page },\n      } = action.payload;\n      return {\n        ...state,\n        allBookPending: false,\n        allBookError: false,\n        allBookDone: books.length < 15 ? true : false,\n        books:\n          state.books === undefined || parseInt(page, 10) === 1\n            ? books\n            : [...state.books, ...books],\n      };\n    },\n    [GET_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_SEARCH_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_SEARCH_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        books: books,\n      };\n    },\n    [GET_MORE_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        morePending: true,\n        moreError: false,\n      };\n    },\n    [GET_MORE_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { documents },\n      } = action.payload;\n      return {\n        ...state,\n        morePending: false,\n        moreError: false,\n        books: [...state.books, ...documents],\n      };\n    },\n    [GET_MORE_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        morePending: false,\n        moreError: true,\n      };\n    },\n    [POST_RATE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: true,\n        vote_error: false,\n        vote_success: false,\n      };\n    },\n    [POST_RATE_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      //console.log(book);\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: false,\n        vote_success: true,\n        book,\n      };\n    },\n    [POST_RATE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: true,\n        vote_success: false,\n      };\n    },\n    [GET_DETAIL_PENDING]: (state, action) => {\n      return {\n        ...state,\n        bookPending: true,\n        bookError: false,\n      };\n    },\n    [GET_DETAIL_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      return {\n        ...state,\n        bookPending: false,\n        bookSuccess: true,\n        book,\n        votes: book.votes,\n      };\n    },\n    [GET_DETAIL_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        bookPending: false,\n        bookError: true,\n      };\n    },\n    [GET_RECENT_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: false,\n        recentSuccess: false,\n      };\n    },\n    [GET_RECENT_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      //console.log(\",\", data);\n      return {\n        ...state,\n        recentBooks: data,\n        recentPending: false,\n        recentSuccess: true,\n      };\n    },\n    [GET_RECENT_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: false,\n        popularSuccess: false,\n      };\n    },\n    [GET_POPULAR_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        popularBooks: data,\n        popularPending: false,\n        popularSuccess: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: true,\n      };\n    },\n    [EDIT_BOOK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: true,\n        editBookSuccess: false,\n        editBookFailure: false,\n      };\n    },\n    [EDIT_BOOK_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookSuccess: true,\n      };\n    },\n    [EDIT_BOOK_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookFailure: true,\n      };\n    },\n  },\n  initialState\n);\n","import React from \"react\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport style from \"./Loading.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Loading = () => {\n  return (\n    <section className={cx(\"loading\")}>\n      <ChasingDots color=\"white\" size={60} />\n    </section>\n  );\n};\nexport default Loading;\n","import Loading from \"./Loading\";\nexport default Loading;\n","import Home from \"./Home\";\nexport default Home;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport HomeSection from \"../../components/HomeSection\";\nimport HomeContent from \"../../components/HomeContent\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\n\nimport {\n  getAllBooks,\n  getSliderBooks,\n  getRecentBooks,\n  getPopularBooks,\n} from \"../../reducer/books\";\nimport Loading from \"../../components/Loading\";\nconst Home = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [type, setType] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const {\n    allBookDone,\n    allBookPending,\n    sliderPending,\n    recentPending,\n    popularPending,\n    books,\n    sliderBooks,\n    recentBooks,\n    popularBooks,\n  } = useSelector((state) => state.books);\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(getAllBooks(\"\", 1));\n    dispatch(getSliderBooks());\n    dispatch(getRecentBooks());\n    dispatch(getPopularBooks());\n    setIsLoading(false);\n  }, [dispatch]);\n  const handleClick = useCallback(\n    (e) => {\n      const {\n        target: { dataset },\n      } = e;\n      setType(dataset.value);\n    },\n    [setType]\n  );\n  const handleMore = useCallback(() => {\n    if (!allBookDone) {\n      dispatch(getAllBooks(\"\", page + 1));\n      setPage(page + 1);\n    }\n  }, [dispatch, page, allBookDone]);\n  return (\n    <main>\n      <Helmet\n        title={`Home | HappReads`}\n        description={\n          \"        !!\"\n        }\n        keywords={`,  ,  , HappReads, happreads`}\n      />\n      {isLoading ||\n      allBookPending ||\n      sliderPending ||\n      recentPending ||\n      popularPending ? (\n        <Loading />\n      ) : (\n        <>\n          <HomeSection />\n          <HomeContent\n            booklist={books}\n            sliderBooks={sliderBooks}\n            recentBooks={recentBooks}\n            popularBooks={popularBooks}\n            handleClick={handleClick}\n            handleMore={handleMore}\n            done={allBookDone}\n            type={type}\n            page={page}\n          />\n        </>\n      )}\n    </main>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport { FaGithubSquare } from \"react-icons/fa\";\nimport style from \"./SocialLogin.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst SocialLogin = ({ type }) => {\n  return (\n    <div className={cx(\"social-login\")}>\n      <h2>\n        {type === \"login\" ? \"Login to HappReads\" : \"Sign up for HappReads\"}\n      </h2>\n      <button className={cx(\"github\", \"button\")}>\n        <span className={cx(\"icon\")}>\n          <FaGithubSquare />\n        </span>\n        Github \n      </button>\n    </div>\n  );\n};\n\nexport default SocialLogin;\n","import React, { useState, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport style from \"./LoginForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nconst LoginForm = ({ loginRequest, login_success, login_pending }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      loginRequest(email, password);\n    },\n    [email, password, loginRequest]\n  );\n  const handleEmail = useCallback((e) => {\n    setEmail(e.target.value);\n  }, []);\n  const handlePassword = useCallback((e) => {\n    setPassword(e.target.value);\n  }, []);\n  return (\n    <>\n      <div className={cx(\"login-form\", \"form-container\")}>\n        <SocialLogin type=\"login\" />\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={handleEmail}\n            placeholder=\"\"\n            required\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePassword}\n            placeholder=\"\"\n            required\n          />\n          <input type=\"submit\" value=\"\" />\n        </form>\n        <Link to=\"/signup\">\n          <button></button>\n        </Link>\n      </div>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport style from \"./Notice.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Notice = ({ type, children }) => {\n  return <div className={cx([\"notice-container\", type])}>{children}</div>;\n};\nexport default Notice;\n","import Notice from \"./Notice\";\nexport default Notice;\n","import React from \"react\";\nimport LoginForm from \"../../components/LoginForm\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nimport { login } from \"../../reducer/login\";\nimport { Redirect } from \"react-router\";\nimport Notice from \"../../components/Notice\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst Login = () => {\n  const { isLoggedIn, loginPending, loginSuccess, loginError } = useSelector(\n    (state) => state.login\n  );\n  const dispatch = useDispatch();\n  const saveATK = (t) => {\n    localStorage.setItem(\"atk\", t);\n  };\n  const handleLogin = async (email, password) => {\n    try {\n      const {\n        value: { data, status },\n      } = await dispatch(login(email, password));\n      if (status === 200) {\n        saveATK(data.token);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  if (isLoggedIn === true) {\n    return <Redirect to={\"/\"} />;\n  }\n  return (\n    <>\n      <Helmet title={`Login | HappReads`} />\n      {loginError && (\n        <Notice type={\"error\"}>\n               \n        </Notice>\n      )}\n      <LoginForm\n        loginRequest={handleLogin}\n        login_pending={loginPending}\n        login_success={loginSuccess}\n      />\n    </>\n  );\n};\nexport default Login;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./SignUpForm.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\nconst cx = classnames.bind(style);\nconst SignUpForm = ({ handleSignUp }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState({\n    p1: \"\",\n    p2: \"\",\n  });\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { p1, p2 } = password;\n    if (p1 === p2) {\n      handleSignUp(email, p1);\n    }\n  };\n  const handleEmail = useCallback((e) => {\n    const { target } = e;\n    setEmail(target.value);\n  }, []);\n  const handlePassword1 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p1: target.value,\n      });\n    },\n    [password]\n  );\n  const handlePassword2 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p2: target.value,\n      });\n    },\n    [password]\n  );\n  return (\n    <section className={cx(\"signup-form\", \"form-container\")}>\n      <SocialLogin type=\"signup\" />\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          value={email}\n          onChange={handleEmail}\n          placeholder=\"\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p1}\n          onChange={handlePassword1}\n          placeholder=\"\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p2}\n          onChange={handlePassword2}\n          placeholder=\" \"\n          required\n        />\n        <input type=\"submit\" value=\"\" />\n      </form>\n    </section>\n  );\n};\n\nexport default SignUpForm;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const SIGNUP = \"SIGNUP\";\nexport const SIGNUP_PENDING = \"SIGNUP_PENDING\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\n\nconst requestSignUp = (email, password) => {\n  return axios.post(\"signup\", {\n    email: email,\n    password: password,\n  });\n};\nexport const userSignup = (email, password) => ({\n  type: SIGNUP,\n  payload: requestSignUp(email, password),\n});\nconst initialState = {\n  signup_pending: false,\n  signup_success: false,\n  signup_error: false,\n};\nexport default handleActions(\n  {\n    [SIGNUP_PENDING]: (state, action) => {\n      return {\n        signup_pending: true,\n        signup_success: false,\n        signup_error: false,\n      };\n    },\n    [SIGNUP_SUCCESS]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_success: true,\n      };\n    },\n    [SIGNUP_FAILURE]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React from \"react\";\nimport SignUpForm from \"../../components/SignUpForm\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userSignup } from \"../../reducer/signup\";\nimport { Redirect } from \"react-router\";\nimport Helmet from \"../../components/Helmet\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst SignUp = ({ history }) => {\n  const dispatch = useDispatch();\n  const { signup_pending, signup_success, signup_error } = useSelector(\n    (state) => state.signup\n  );\n  const { isLoggedIn } = useSelector((state) => state.login);\n  const handleSignUp = async (email, p) => {\n    dispatch(userSignup(email, p));\n  };\n  if (isLoggedIn) {\n    return (\n      <Redirect\n        to={process.env.NODE_ENV === \"development\" ? \"/\" : \"/HappReads-front\"}\n      />\n    );\n  }\n  if (signup_success) {\n    return <Redirect to=\"/login\" />;\n  }\n  return (\n    <>\n      <Helmet title={`SignUp | HappReads`} />\n      <SignUpForm\n        history={history}\n        handleSignUp={handleSignUp}\n        signup_pending={signup_pending}\n        signup_success={signup_success}\n        signup_error={signup_error}\n      />\n    </>\n  );\n};\nexport default SignUp;\n","export const getAtk = () => {\n  const atk = localStorage.getItem(\"atk\");\n  return atk;\n};\n\nexport const getAvartUrl = (img) => {\n  return img === undefined\n    ? \"https://wetuberbucket.s3.ap-northeast-2.amazonaws.com/avatars/58c11a401956bab841de5f227c337c43\"\n    : img;\n};\n\nexport const formatAuthors = (authors) => {\n  let s = \"\";\n  if (authors) {\n    for (let i = 0; i < authors.length; i++) {\n      s += `${authors[i]} `;\n    }\n  }\n  return s;\n};\n\nexport const getAvg = (votes) => {\n  if (votes) {\n    let total = 0;\n    if (votes.length > 0) {\n      for (let i = 0; i < votes.length; i++) {\n        total += parseInt(votes[i].vote);\n      }\n      return (total / votes.length).toFixed(2);\n    }\n    return 0;\n  }\n  return 0;\n};\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./UserEdit.scss\";\nimport classnames from \"classnames/bind\";\nimport axios from \"axios\";\nimport { getAvartUrl } from \"../../utills\";\n\nconst cx = classnames.bind(style);\nconst readURL = (file) => {\n  const render = URL.createObjectURL(file);\n  document.querySelector(\".preview-img\").src = render;\n};\nconst UserEdit = ({ profile, isOpen, handleClose }) => {\n  const [content, setContent] = useState({\n    seletedImg: null,\n    avatarUrl: profile ? profile.avatarUrl : undefined,\n    nickname: profile ? profile.name : \"\",\n    website: profile ? profile.website : \"\",\n    intro: profile ? profile.intro : \"\",\n    interest: profile ? profile.interest : \"\",\n  });\n\n  const submitEdit = async () => {\n    const { seletedImg, nickname, website, interest, intro } = content;\n    const formData = new FormData();\n    formData.append(\"avatar\", seletedImg);\n    formData.append(\"email\", profile.email);\n    formData.append(\"nickname\", nickname);\n    formData.append(\"website\", website);\n    formData.append(\"interest\", interest);\n    formData.append(\"intro\", intro);\n    try {\n      await axios.post(`http://localhost:8080/edit`, formData);\n      window.location.href = \"/me\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    submitEdit();\n  };\n  const handleFile = useCallback(\n    (e) => {\n      const {\n        target: { files },\n      } = e;\n      setContent({\n        ...content,\n        seletedImg: files[0],\n      });\n      readURL(files[0]);\n    },\n    [content, setContent]\n  );\n  const handleNickName = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        nickname: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleWebSite = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        website: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleInterest = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        interest: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleIntro = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        intro: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  return (\n    <section className={cx(\"user-edit\", isOpen ? \"close\" : \"open\")}>\n      <div className={cx(\"x-button\")}>\n        <p onClick={handleClose}>\n          <span role=\"img\" aria-label=\"close\">\n            \n          </span>\n        </p>\n      </div>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <div className={cx(\"upload-btn-wrapper\")}>\n            <img\n              className={cx(\"preview-img\")}\n              alt=\" \"\n              src={getAvartUrl(content?.avatarUrl)}\n            />\n            <div style={{ position: \"relative\" }}>\n              <button className={cx(\"btn\")}>\n                {content?.seletedImg?.name === undefined\n                  ? \" \"\n                  : content.seletedImg.name}\n              </button>\n              <input type=\"file\" name=\"avatar\" onChange={handleFile} />\n            </div>\n          </div>\n          <input\n            type=\"text\"\n            name=\"nickname\"\n            value={content?.nickname}\n            placeholder={\"\"}\n            onChange={handleNickName}\n          />\n          <input\n            type=\"email\"\n            name=\"website\"\n            placeholder=\"  ex) http://www.example.com\"\n            value={content?.website}\n            onChange={handleWebSite}\n          />\n          <input\n            type=\"text\"\n            name=\"interest\"\n            placeholder=\"\"\n            value={content?.interest}\n            onChange={handleInterest}\n          />\n          <textarea\n            name=\"intro\"\n            placeholder=\"\"\n            value={content?.intro}\n            onChange={handleIntro}\n          />\n          <input type=\"submit\" value=\"\" />\n        </form>\n        <button onClick={handleClose}></button>\n      </section>\n    </section>\n  );\n};\n\nexport default UserEdit;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_REVIEWS = \"GET_REVIEWS\";\nexport const GET_REVIEWS_PENDING = \"GET_REVIEWS_PENDING\";\nexport const GET_REVIEWS_SUCCESS = \"GET_REVIEWS_SUCCESS\";\nexport const GET_REVIEWS_FAILURE = \"GET_REVIEWS_FAILURE\";\n\nexport const GET_REVIEW = \"GET_REVIEW\";\nexport const GET_REVIEW_PENDING = \"GET_REVIEW_PENDING\";\nexport const GET_REVIEW_SUCCESS = \"GET_REVIEW_SUCCESS\";\nexport const GET_REVIEW_FAILURE = \"GET_REVIEW_FAILURE\";\n\nexport const POST_REVIEW = \"POST_REVIEW\";\nexport const POST_REVIEW_PENDING = \"POST_REVIEW_PENDING\";\nexport const POST_REVIEW_SUCCESS = \"POST_REVIEW_SUCCESS\";\nexport const POST_REVIEW_FAILURE = \"POST_REVIEW_FAILURE\";\n\nexport const EDIT_REVIEW = \"EDIT_REVIEW\";\nexport const EDIT_REVIEW_PENDING = \"EDIT_REVIEW_PENDING\";\nexport const EDIT_REVIEW_SUCCESS = \"EDIT_REVIEW_SUCCESS\";\nexport const EDIT_REVIEW_FAILURE = \"EDIT_REVIEW_FAILURE\";\n\nexport const LIKE_REVIEW = \"LIKE_REVIEW\";\nexport const LIKE_REVIEW_PENDING = \"LIKE_REVIEW_PENDING\";\nexport const LIKE_REVIEW_SUCCESS = \"LIKE_REVIEW_SUCCESS\";\nexport const LIKE_REVIEW_FAILURE = \"LIKE_REVIEW_FAILURE\";\n\nconst requestGetReviews = (limit = 1, page = 1) => {\n  return axios.get(`reviews?limit=${limit}&page=${page}`);\n};\nconst requestGetReview = (id) => {\n  //console.log(id);\n  return axios.get(`book/${id}/review`);\n};\nconst requestPostReview = (id, name, content, book) => {\n  //console.log(isbn, name, content);\n  return axios.post(`book/${id}/review`, {\n    name,\n    content,\n    book,\n  });\n};\n\nconst requestEditReview = (rid, content) => {\n  return axios.post(`book/review/${rid}`, {\n    content,\n  });\n};\n\nconst requestLikeReview = (type, id, uid) => {\n  return axios.post(`review/like`, {\n    type,\n    id,\n    uid,\n  });\n};\nexport const getReviews = (data) => ({\n  type: GET_REVIEWS,\n  payload: requestGetReviews(data.limit, data.page),\n});\nexport const getReview = (isbn) => ({\n  type: GET_REVIEW,\n  payload: requestGetReview(isbn),\n});\nexport const postReview = (isbn, name, content, book) => ({\n  type: POST_REVIEW,\n  payload: requestPostReview(isbn, name, content, book),\n});\n\nexport const editReview = (rid, content) => ({\n  type: EDIT_REVIEW,\n  payload: requestEditReview(rid, content),\n});\nexport const postLike = (type, id, uid) => ({\n  type: LIKE_REVIEW,\n  payload: requestLikeReview(type, id, uid),\n});\n\nconst initialState = {\n  reviews: [],\n  pending: false,\n  success: false,\n  error: false,\n  loadReviewsPending: false,\n  loadReviewsError: false,\n  loadReviewsSuccess: false,\n  loadReviewsDone: false,\n  postReviewPending: false,\n  postReviewSuccess: false,\n  postReviewError: false,\n};\nexport default handleActions(\n  {\n    [GET_REVIEWS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: true,\n        loadReviewsError: false,\n        loadReviewsSuccess: false,\n        loadReviewsDone: false,\n      };\n    },\n    [GET_REVIEWS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviews, page },\n      } = action.payload;\n      return {\n        ...state,\n        reviews:\n          parseInt(page) !== 1 ? [...state.reviews, ...reviews] : [...reviews],\n        loadReviewsPending: false,\n        loadReviewsSuccess: true,\n        loadReviewsDone: reviews.length % 5 !== 0 ? true : false,\n      };\n    },\n    [GET_REVIEWS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: false,\n        loadReviewsError: true,\n        loadReviewsDone: false,\n      };\n    },\n    [POST_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: true,\n        postReviewSuccess: false,\n        postReviewError: false,\n      };\n    },\n    [POST_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        postReviewPending: false,\n        postReviewSuccess: true,\n      };\n    },\n    [POST_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: false,\n        postReviewError: true,\n      };\n    },\n    [GET_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        error: false,\n        pending: true,\n        success: false,\n      };\n    },\n    [GET_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        error: false,\n        pending: false,\n        success: true,\n      };\n    },\n    [GET_REVIEW_FAILURE]: (state, action) => {\n      return {\n        error: true,\n        pending: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        pending: false,\n        error: false,\n        success: true,\n      };\n    },\n    [EDIT_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false,\n      };\n    },\n    ///LIKE_REVIEW\n    [LIKE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [LIKE_REVIEW_SUCCESS]: (state, action) => {\n      const {\n        data: { review },\n      } = action.payload;\n      //console.log(data.profile);\n      let idx = -1;\n      state.reviews.forEach((item, i) => {\n        if (item._id === review._id) {\n          idx = i;\n        }\n      });\n      state.reviews[idx] = review;\n      const updatedReviews = state.reviews;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        success: true,\n        reviews: [...updatedReviews],\n      };\n    },\n    [LIKE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_USER = \"GET_USER\";\nexport const GET_USER_PENDING = \"GET_USER_PENDING\";\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport const GET_USER_FAILURE = \"GET_USER_FAILURE\";\n\nexport const GET_TOP_READERS = \"GET_TOP_READERS\";\nexport const GET_TOP_READERS_PENDING = \"GET_TOP_READERS_PENDING\";\nexport const GET_TOP_READERS_SUCCESS = \"GET_TOP_READERS_SUCCESS\";\nexport const GET_TOP_READERS_FAILURE = \"GET_TOP_READERS_FAILURE\";\n\nexport const GET_TOP_REVIEWERS = \"GET_TOP_REVIEWERS\";\nexport const GET_TOP_REVIEWERS_PENDING = \"GET_TOP_REVIEWERS_PENDING\";\nexport const GET_TOP_REVIEWERS_SUCCESS = \"GET_TOP_REVIEWERS_SUCCESS\";\nexport const GET_TOP_REVIEWERS_FAILURE = \"GET_TOP_REVIEWERS_FAILURE\";\n\nconst requestUser = (id) => {\n  return axios.get(`profile/${id}`);\n};\nconst requestTopReaders = (type) => {\n  return axios.get(`rank/reader/${type}`);\n};\nconst requestTopReviewers = (type) => {\n  return axios.get(`rank/reviewer/${type}`);\n};\n\nexport const getUser = (id) => ({\n  type: GET_USER,\n  payload: requestUser(id),\n});\nexport const getTopReaders = (type = 0) => ({\n  type: GET_TOP_READERS,\n  payload: requestTopReaders(type),\n});\nexport const getTopReviewers = (type) => ({\n  type: GET_TOP_REVIEWERS,\n  payload: requestTopReviewers(type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  profile: {},\n  topReaders: [],\n  topReviewers: [],\n};\nexport default handleActions(\n  {\n    [GET_USER_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_USER_SUCCESS]: (state, action) => {\n      //console.log(action.payload.data.user);\n      return {\n        pending: false,\n        error: false,\n        profile: action.payload.data.user,\n      };\n    },\n    [GET_USER_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_READERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_SUCCESS]: (state, action) => {\n      const {\n        data: { readers },\n      } = action.payload;\n      return {\n        ...state,\n        topReaders: readers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_REVIEWERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviewers },\n      } = action.payload;\n      return {\n        ...state,\n        topReviewers: reviewers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport classname from \"classnames/bind\";\nimport style from \"./ReviewModal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { check } from \"../../reducer/login\";\nimport { editReview } from \"../../reducer/review\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classname.bind(style);\nconst ReviewModal = ({ review, handleClose }) => {\n  const [content, setContent] = useState(review?.content || \"\");\n  const dispatch = useDispatch();\n  const { isLoggedIn } = useSelector((state) => state.login);\n\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handleEditReview = useCallback(\n    async (rid, content) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(editReview(rid, content)); //await editReview(rid, content);\n        if (status === 200) {\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [checkUser, dispatch]\n  );\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        handleEditReview(review._id, content);\n      }\n    },\n    [content, isLoggedIn, review, handleEditReview]\n  );\n  const handleChange = (e) => {\n    const { target } = e;\n    setContent(target.value);\n  };\n  useEffect(() => {\n    return () => {};\n  });\n  return (\n    <section className={cx([\"review-modal\", \"modal-container\"])}>\n      <section className=\"modal-overlay\">\n        <div className=\"modal\">\n          <div className={cx(\"form-container\")}>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n            <form onSubmit={handleSubmit}>\n              <textarea value={content} onChange={handleChange}>\n                {content}\n              </textarea>\n              <input type=\"submit\" value=\"\" />\n              <button className={cx(\"cancel\")} onClick={handleClose}>\n                \n              </button>\n            </form>\n          </div>\n        </div>\n      </section>\n    </section>\n  );\n};\nexport default ReviewModal;\n","import ReviewModal from \"./ReviewModal\";\n\nexport default ReviewModal;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport style from \"./UserReview.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postLike } from \"../../reducer/review\";\nimport { deleteReview, check } from \"../../reducer/login\";\nimport { getUser } from \"../../reducer/user\";\nimport { FaHeart, FaTrash, FaEdit } from \"react-icons/fa\";\nimport ReviewModal from \"../ReviewModal\";\nimport { getAtk } from \"../../utills\";\nimport { Link } from \"react-router-dom\";\nconst cx = classnames.bind(style);\nconst UserReview = ({ profile, isMe }) => {\n  const [review, setReview] = useState(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n  const { profile: me, pending: userloading, isLoggedIn } = useSelector(\n    (state) => state.login\n  );\n  useEffect(() => {\n    return () => {};\n  });\n  const loadUser = useCallback(() => {\n    if (isMe) {\n      const atk = getAtk();\n      if (atk) {\n        dispatch(check(atk));\n      }\n    } else {\n      dispatch(getUser(profile._id));\n    }\n  }, [dispatch, isMe, profile]);\n  const handleDelete = (e) => {\n    const { currentTarget } = e;\n    const bid = currentTarget.getAttribute(\"data-bid\"),\n      rid = currentTarget.getAttribute(\"data-value\"),\n      uid = me.user._id;\n    handleDeleteReview(bid, rid, uid);\n  };\n  const handleDeleteReview = async (bid, rid, uid) => {\n    try {\n      const {\n        value: { status },\n      } = await dispatch(deleteReview(bid, rid, uid));\n      if (status === 200) {\n        loadUser();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handlePostLike = useCallback(\n    async (type, id) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, profile._id, me.user._id));\n        if (status === 200) {\n          console.log(status);\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, profile, loadUser]\n  );\n  const handleLike = useCallback(\n    (id) => (e) => {\n      //const { currentTarget } = e;\n      //const id = currentTarget.getAttribute(\"data-value\");\n      if (isLoggedIn) {\n        handlePostLike(\"like\", id);\n      } else {\n        alert(\" \");\n      }\n    },\n    [handlePostLike, isLoggedIn]\n  );\n  const handleEdit = useCallback(\n    (review) => (e) => {\n      setIsOpen(true);\n      setReview(review);\n    },\n    []\n  );\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    setReview(null);\n  }, []);\n  const getReview = (\n    review,\n    handleLike,\n    handleDelete,\n    handleEdit,\n    mid, //\n    uid //user.id\n  ) => {\n    return (\n      <section className={cx(\"review-container\")} id={review._id} key={v4()}>\n        <div>\n          <Link to={`/book/${review.book?._id}`}>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n          </Link>\n        </div>\n        <div>\n          <div>\n            <p className={cx(\"review-book\")}>\n              {review.book !== undefined ? review.book.title : \"\"}\n            </p>\n            <p className={cx(\"review-text\")}>\n              {review.book !== undefined ? review.content : \"\"}\n            </p>\n            <p className={cx(\"review-date\")}>\n              {moment(review.createdAt).format(\"YYYY MM DD HH:MM:SS\")}\n            </p>\n            <p className={cx(\"like-container\")}>\n              <span className={cx(\"review-like\")}>\n                {review.likes.length} likes\n              </span>\n              <span className={cx(\"likebtn\")} onClick={handleLike(review._id)}>\n                <FaHeart />\n              </span>\n            </p>\n          </div>\n        </div>\n        {uid === mid ? (\n          <>\n            <span\n              className={cx(\"review-edit\")}\n              data-value={review._id}\n              onClick={handleEdit(review)}\n            >\n              <FaEdit />\n            </span>\n            <span\n              className={cx(\"review-remove\")}\n              data-value={review._id}\n              data-bid={review.book._id}\n              onClick={handleDelete}\n            >\n              <FaTrash />\n            </span>\n          </>\n        ) : null}\n      </section>\n    );\n  };\n  return (\n    <div className={cx(\"user-review\")}>\n      {userloading === false &&\n        profile &&\n        profile.reviews &&\n        profile.reviews.map((review) => {\n          return getReview(\n            review,\n            handleLike,\n            handleDelete,\n            handleEdit,\n            me.user._id,\n            profile._id\n          );\n        })}\n      {isOpen && <ReviewModal review={review} handleClose={handleClose} />}\n    </div>\n  );\n};\nexport default UserReview;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport BookList from \"../BookList\";\nimport style from \"./UserProfile.scss\";\nimport classnames from \"classnames/bind\";\nimport UserEdit from \"../UserEdit\";\nimport UserReview from \"../UserReview/UserReview\";\n\nconst cx = classnames.bind(style);\nconst UserProfile = ({ profile, from }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [idx, setIdx] = useState(0);\n  const [isMe, setIsMe] = useState(from === \"/me\");\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, []);\n  const handleCancel = useCallback(() => {\n    setIsOpen(false);\n  }, []);\n  const handleSetIdx = useCallback(\n    (number) => (e) => {\n      setIdx(number);\n    },\n    []\n  );\n  useEffect(() => {\n    setIsMe(from === \"/me\");\n    return () => {};\n  }, [from]);\n  const getList = (from, profile, type) => {\n    if (type !== \"uploaded\") {\n      return from === \"/me\" ? (\n        profile && profile[type]?.length > 0 ? (\n          <div>\n            <BookList booklist={profile[type]} from=\"profile\" type={type} />\n          </div>\n        ) : (\n          <p className={cx(\"recent-empty\")}>   .</p>\n        )\n      ) : profile && profile[type]?.length > 0 ? (\n        <div>\n          <BookList booklist={profile[type]} from=\"profile\" />\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>   .</p>\n      );\n    } else {\n      return from === \"/me\" ? (\n        profile && profile?.uploaded?.length > 0 ? (\n          <div className={cx(\"uploaded-list\")}>\n            {profile?.uploaded?.map((book) => {\n              return (\n                <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n                  <img\n                    className={cx(\"uploaded-img\")}\n                    src={book.thumbnail}\n                    alt={book.thumbnail}\n                  />\n                  <div className={cx(\"to-detail\")}>\n                    <Link to={`/book/${book._id}`}>{book.title}</Link>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <p className={cx(\"recent-empty\")}>   .</p>\n        )\n      ) : profile && profile?.uploaded?.length > 0 ? (\n        <div className={cx(\"uploaded-list\")}>\n          {profile?.uploaded?.map((book) => {\n            return (\n              <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n                <img\n                  className={cx(\"uploaded-img\")}\n                  src={book.thumbnail}\n                  alt={book.thumbnail}\n                />\n                <div className={cx(\"to-detail\")}>\n                  <Link to={`/book/${book._id}`}> </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>   .</p>\n      );\n    }\n  };\n  const openEdit = (isOpen, handleClose, profile) => {\n    return (\n      <>\n        <div\n          className={cx(\"modal-overay\", isOpen ? \"open-modal\" : \"close-modal\")}\n        />\n        <div className={cx(isOpen ? \"open-modal\" : \"close-modal\")}>\n          <UserEdit\n            handleClose={handleClose}\n            profile={profile}\n            isOpen={!isOpen}\n          />\n        </div>\n      </>\n    );\n  };\n  return (\n    <>\n      <section className={cx(\"user-profile\")}>\n        <section className={cx(\"profile-wrapper\")}>\n          <div className={cx(\"info\")}>\n            <img\n              src={profile && profile !== undefined ? profile.avatarUrl : \"\"}\n              alt={profile && profile !== undefined ? profile.email : \"\"}\n            />\n            <h1>{profile && profile !== undefined ? profile.email : \"\"}</h1>\n            <div className={cx(\"profile-edit\")}>\n              {from === \"/me\" ? (\n                <p to={\"/edit\"} onClick={handleOpen}>\n                   \n                </p>\n              ) : null}\n            </div>\n            <div className={cx(\"rate-review\")}>\n              <p>\n                {profile && profile !== undefined ? profile?.votes?.length : 0}\n                \n              </p>\n              <p>\n                {profile && profile !== undefined\n                  ? profile?.reviews?.length\n                  : 0}\n                \n              </p>\n            </div>\n            <p className={cx(\"intro\")}>\n              {profile && profile !== undefined ? profile?.intro : 0}\n            </p>\n          </div>\n        </section>\n        <section>\n          <ul className={cx(\"catalog-list\")}>\n            <li\n              className={idx === 0 ? cx(\"active\") : \"\"}\n              onClick={handleSetIdx(0)}\n            >\n              \n            </li>\n            <li\n              className={idx === 1 ? cx(\"active\") : \"\"}\n              onClick={handleSetIdx(1)}\n            >\n              \n            </li>\n          </ul>\n          <section\n            style={idx === 0 ? { display: \"block\" } : { display: \"none\" }}\n          >\n            <section className={cx(\"uploaded\")}>\n              <div className={cx(\"uploaded-head\")}>\n                {from === \"/me\" ? (\n                  <Link\n                    to={\n                      profile && profile !== undefined\n                        ? `shelve/${profile?._id}`\n                        : `/`\n                    }\n                  >\n                    <h2>  </h2>\n                  </Link>\n                ) : (\n                  <h2>  </h2>\n                )}\n              </div>\n              <div\n                className={cx(\"uploaded-body\")}\n                style={{ marginLeft: \"5px\", marginTop: \"5px\" }}\n              >\n                {getList(from, profile, \"uploaded\")}\n              </div>\n            </section>\n            <section className={cx(\"want-read\")}>\n              <div className={cx(\"want-read-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                      (\n                    {profile && profile !== undefined\n                      ? profile?.want_read?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                      (\n                    {profile && profile !== undefined\n                      ? profile?.want_read?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"want-read-body\")}>\n                {getList(from, profile, \"want_read\")}\n              </div>\n              <div></div>\n            </section>\n            <section className={cx(\"currently-reading\")}>\n              <div className={cx(\"currently-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                        (\n                    {profile && profile !== undefined\n                      ? profile?.reading?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                        (\n                    {profile && profile !== undefined\n                      ? profile?.reading?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"currently-body\")}>\n                {getList(from, profile, \"reading\")}\n              </div>\n            </section>\n            <section className={cx(\"read\")}>\n              <div className={cx(\"read-head\")}>\n                {from === \"/me\" ? (\n                  <h2>\n                      (\n                    {profile && profile !== undefined\n                      ? profile?.read?.length\n                      : 0}\n                    )\n                  </h2>\n                ) : (\n                  <h2>\n                      (\n                    {profile && profile !== undefined\n                      ? profile?.read?.length\n                      : 0}\n                    )\n                  </h2>\n                )}\n              </div>\n              <div className={cx(\"read-body\")}>\n                {getList(from, profile, \"read\")}\n              </div>\n            </section>\n          </section>\n          <section\n            style={idx === 1 ? { display: \"block\" } : { display: \"none\" }}\n          >\n            <section className={cx(\"recent-update\")}>\n              <div className={cx(\"recent-head\")}>\n                <h2></h2>\n              </div>\n              <div className={cx(\"recent-body\")}>\n                {profile && profile !== undefined ? (\n                  <UserReview key={v4()} profile={profile} isMe={isMe} />\n                ) : (\n                  \" \"\n                )}\n              </div>\n            </section>\n          </section>\n        </section>\n      </section>\n      {openEdit(isOpen, handleCancel, profile)}\n    </>\n  );\n};\nexport default UserProfile;\n","import Profile from \"./Profile\";\nexport default Profile;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport UserProfile from \"../../components/UserProfile\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getUser } from \"../../reducer/user\";\nimport Helmet from \"../../components/Helmet\";\nimport Loading from \"../../components/Loading\";\nconst Profile = ({ history: { location } }) => {\n  const [loading, setIsLoading] = useState(true);\n  const { isLoggedIn, profile, pending } = useSelector((state) => state.login);\n  const { profile: user, pending: userPending } = useSelector(\n    (state) => state.user\n  );\n  const dispatch = useDispatch();\n  const getProfile = useCallback(\n    async (id) => {\n      try {\n        dispatch(getUser(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  useEffect(() => {\n    setIsLoading(true);\n    if (location.pathname !== \"/me\") {\n      const uid = location.pathname.substring(1).split(\"/\")[1];\n      getProfile(uid);\n    }\n    setIsLoading(false);\n  }, [getProfile, location.pathname]);\n  return (\n    <>\n      <Helmet title={`Profile | HappReads`} />\n      {loading || pending || userPending ? (\n        <Loading />\n      ) : (\n        <UserProfile\n          isLoggedIn={isLoggedIn}\n          profile={location.pathname === \"/me\" ? profile?.user : user}\n          from={location.pathname}\n        />\n      )}\n    </>\n  );\n};\nexport default Profile;\n","import React, { useCallback } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport style from \"./Rater.scss\";\nimport classnames from \"classnames/bind\";\nimport { useSelector } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst values = [\"1\", \"2\", \"3\", \"4\", \"5\"];\nconst starStyle = {\n  color: \"#f1c40f\",\n  cursor: \"pointer\",\n};\nconst Rater = ({ book, postVote, votes }) => {\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  const handleVote = useCallback(\n    async (vote) => {\n      const { _id } = book;\n      const {\n        user: { email },\n      } = profile;\n      await postVote(_id, email, vote);\n    },\n    [book, profile, postVote]\n  );\n  const handleOnClick = useCallback(\n    (e) => {\n      let currentItem = e.target;\n      while (currentItem.nodeName !== \"svg\") {\n        currentItem = currentItem.parentNode;\n      }\n      const rating = currentItem.dataset.rating;\n      if (isLoggedIn) handleVote(rating);\n      else alert(\"   \");\n    },\n    [isLoggedIn, handleVote]\n  );\n  return (\n    <div className={cx(\"rater\")}>\n      {values.map((value, idx) => {\n        return (\n          <FaStar\n            key={idx}\n            data-rating={idx + 1}\n            onClick={handleOnClick}\n            style={votes >= idx + 1 ? starStyle : {}}\n          />\n        );\n      })}\n    </div>\n  );\n};\nexport default Rater;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./Review.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FaHeart } from \"react-icons/fa\";\nimport { postReview, postLike } from \"../../reducer/review\";\nimport { check } from \"../../reducer/login\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classnames.bind(style);\nconst Review = () => {\n  const [input, setInput] = useState(\"\");\n  const [more, setMore] = useState(false);\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile: me } = useSelector((state) => state.login);\n  const { reviews } = useSelector((state) => state.review);\n  const { book } = useSelector((state) => state.books);\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handlePostReview = useCallback(\n    async (content) => {\n      const {\n        user: { email },\n      } = me;\n      try {\n        dispatch(postReview(book._id, email, content, book));\n        checkUser();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [book, checkUser, dispatch, me]\n  );\n  const handleChange = useCallback((e) => {\n    const { target } = e;\n    setInput(target.value);\n  }, []);\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        handlePostReview(input);\n        setInput(\"\");\n      } else {\n        alert(\" \");\n      }\n    },\n    [isLoggedIn, input, handlePostReview]\n  );\n  //like     \n  const handlePostLike = useCallback(\n    async (type, id, target) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, me?.user?._id));\n        if (status === 200) {\n          target.style.fill = \"pink\";\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, checkUser]\n  );\n  const handleLike = useCallback(\n    (e) => {\n      const { currentTarget, target } = e;\n      const id = currentTarget.getAttribute(\"data-value\");\n      handlePostLike(\"like\", id, target);\n    },\n    [handlePostLike]\n  );\n  const toggleMore = useCallback(() => {\n    setMore((cur) => !cur);\n  }, []);\n  const reviewTag = (item) => {\n    return (\n      <article key={v4()} className={cx(\"review-item\")}>\n        <div>\n          <Link to={item.reviewer ? `/profile/${item.reviewer._id}` : \"\"}>\n            <img\n              className={cx(\"user-img\")}\n              src={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n              alt={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n            />\n            <span className={cx(\"user\")}>\n              {item.reviewer ? item.reviewer.email : \"\"}\n            </span>\n          </Link>\n        </div>\n        <span className={cx(\"date\")}>\n          {item.createdAt\n            ? moment(item.createdAt).format(`YYYY MM DD HH:MM:SS`)\n            : \"\"}\n        </span>\n        <article style={{ marginTop: \"10px\" }}>\n          <p className={cx(\"user-review\")}>\n            {!more && item.content.length > 30\n              ? `${item.content.substr(0, 30)}...`\n              : item.content}\n          </p>\n          {item.content.length > 20 && (\n            <p className={cx(\"more\")} onClick={toggleMore}>\n              {!more ? \"\" : \"\"}\n            </p>\n          )}\n        </article>\n        <div className={cx(\"review-footer\")}>\n          <span\n            className={cx(\"heart\")}\n            onClick={handleLike}\n            data-value={item._id}\n          >\n            <FaHeart />\n          </span>\n          <span>{item.likes.length} </span>\n        </div>\n      </article>\n    );\n  };\n  return (\n    <section className={cx(\"review\")}>\n      <p className={cx(\"review-title\")}></p>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <textarea onChange={handleChange} value={input} />\n          <input type=\"submit\" value=\"\" />\n        </form>\n      </section>\n      <section className={cx(\"review-list-wrapper\")}>\n        {reviews\n          ? reviews.map((item) => {\n              return reviewTag(item);\n            })\n          : null}\n      </section>\n    </section>\n  );\n};\nexport default Review;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { FaPlusCircle, FaStar, FaAngleDown } from \"react-icons/fa\";\nimport style from \"./BookDetail.scss\";\nimport classnames from \"classnames/bind\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport Select from \"react-select\";\nimport Rater from \"../Rater\";\nimport Review from \"../Review\";\nimport { useDispatch } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport { formatAuthors, getAvg } from \"../../utills\";\nimport Notice from \"../Notice\";\n\nconst cx = classnames.bind(style);\nconst options = [\n  {\n    value: \"want_read\",\n    label: \"\",\n  },\n  {\n    value: \"reading\",\n    label: \"\",\n  },\n  {\n    value: \"read\",\n    label: \"\",\n  },\n];\nconst BookDetail = ({\n  profile: user,\n  votes,\n  id,\n  book,\n  postVote,\n  reviews,\n  postShelveError,\n  postShelveSuccess,\n  isLoggedIn,\n}) => {\n  const [selected, setSelected] = useState({\n    value: \"want_read\",\n    label: \"\",\n  });\n  const [status, setStatus] = useState(\"\");\n  const dispatch = useDispatch();\n  const getStatus = useCallback(() => {\n    const { profile } = user;\n    const { isbn } = id;\n    if (profile) {\n      if (this.checkStatus(profile.want_read, isbn)) {\n        setSelected(options[0]);\n        setStatus(options[0].label);\n        return;\n      }\n      if (this.checkStatus(profile.reading, isbn)) {\n        setSelected(options[1]);\n        setStatus(options[1].label);\n        return;\n      }\n      if (this.checkStatus(profile.read, isbn)) {\n        setSelected(options[2]);\n        setStatus(options[2].label);\n        return;\n      }\n    }\n  }, [id, user]);\n  const checkStatus = (arr, isbn) => {\n    if (arr.filter((item) => item.isbn === isbn).length > 0) return true;\n    return false;\n  };\n  const checkUserVote = () => {\n    const { profile } = user;\n    let cur = \"0\";\n    if (votes) {\n      for (let i = 0; i < votes.length; i++) {\n        if (votes[i]?._id === profile?._id) {\n          cur = String(votes[i].vote);\n          break;\n        }\n      }\n    }\n    return cur;\n  };\n\n  const handleOnClick = useCallback(() => {\n    const { value } = selected;\n    if (isLoggedIn) {\n      const {\n        user: { email },\n      } = user;\n      dispatch(postShelve(email, book._id, value));\n    } else {\n      alert(\"   \");\n    }\n  }, [dispatch, book, user, selected, isLoggedIn]);\n\n  const handleRadio = (selected) => {\n    setSelected(selected);\n  };\n  useEffect(() => {\n    getStatus();\n  }, [getStatus]);\n  return (\n    <>\n      {book ? (\n        <>\n          {postShelveSuccess && (\n            <Notice\n              type={\"success\"}\n            >{`${selected.label} `}</Notice>\n          )}\n          {postShelveError && (\n            <Notice type={\"error\"}>{`  `}</Notice>\n          )}\n          <section className={cx(\"book-detail\")}>\n            <section className={cx(\"book-rater-list\")}>\n              <ul>\n                <li className={\"star\"}>\n                  <FaStar />\n                </li>\n                {book &&\n                  book.votes &&\n                  book.votes.map((vote) => (\n                    <li key={v4()} className={\"book-rater\"}>\n                      <Link to={`/profile/${vote.voter._id}`}>\n                        <img\n                          src={vote.voter.avatarUrl}\n                          alt={vote.voter.emails}\n                        />\n                      </Link>\n                    </li>\n                  ))}\n              </ul>\n            </section>\n            <section className={cx(\"book-info-wrapper\")}>\n              <section className={cx(\"img-col\")}>\n                <img src={book.thumbnail} alt=\"geisha\" />\n              </section>\n              <section className={cx(\"book-content\")}>\n                <h2 className={cx(\"title\")}>{book.title}</h2>\n                <p className={cx(\"author\")}>\n                  <strong> </strong>\n                  {formatAuthors(book.authors)}\n                </p>\n                <section className={cx(\"bookmeta\")}>\n                  <span className={cx(\"score\")}>\n                    <FaStar />\n                    {getAvg(votes)}\n                    <FaAngleDown className={cx(\"angle-down\")} />\n                  </span>\n                  <span className={cx(\"rate-cnt\")}>\n                    {votes ? votes.length : 0} \n                  </span>\n                  <span className={cx(\"review-cnt\")}>\n                    {reviews ? reviews.length : 0} \n                  </span>\n                </section>\n                <section className={cx(\"discription\")}>\n                  <h5> </h5>\n                  <p>\n                    {book.contents !== undefined ? book.contents : \" \"}\n                  </p>\n                </section>\n                <div>\n                  <div className={cx(\"rate-wrapper\")}>\n                    <span> </span>\n                    <Rater\n                      postVote={postVote}\n                      book={book}\n                      id={id}\n                      votes={votes && votes.length > 0 ? checkUserVote() : \"0\"}\n                    />\n                  </div>\n                  <div className={cx(\"add\")}>\n                    <Select\n                      className={cx(\"select\")}\n                      options={options}\n                      onChange={handleRadio}\n                      value={selected}\n                      isSearchable={false}\n                      placeholder={status}\n                    />\n                    <button className={cx(\"want-read\")} onClick={handleOnClick}>\n                      <span>\n                        <FaPlusCircle />\n                      </span>\n                      \n                    </button>\n                  </div>\n                </div>\n              </section>\n            </section>\n          </section>\n          <Review />\n        </>\n      ) : (\n        <ChasingDots color=\"white\" size={60} />\n      )}\n    </>\n  );\n};\nexport default BookDetail;\n","import Detail from \"./Detail\";\nexport default Detail;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport BookDetail from \"../../components/BookDetail\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDetail, postRate } from \"../../reducer/books\";\nimport { getReview } from \"../../reducer/review\";\nimport Loading from \"../../components/Loading\";\nimport Helmet from \"../../components/Helmet\";\nconst Detail = ({ match }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  const { book, bookPending } = useSelector((state) => state.books);\n  const { reviews } = useSelector((state) => state.review);\n  const {\n    profile,\n    isLoggedIn,\n    postShelveSuccess,\n    postShelveError,\n  } = useSelector((state) => state.login);\n  const getBook = useCallback(\n    async (id) => {\n      try {\n        dispatch(getDetail(id));\n        dispatch(getReview(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const postVote = (id, name, vote) => {\n    dispatch(postRate(id, name, vote));\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    const {\n      params: { id },\n    } = match;\n    window.scrollTo(0, 0);\n    getBook(id);\n    setIsLoading(false);\n  }, [getBook, match]);\n  return (\n    <main className=\"main-container\">\n      <Helmet\n        title={`${book?.title} | HappReads`}\n        description={`${book?.contents}`}\n      />\n      {isLoading || bookPending ? (\n        <Loading />\n      ) : (\n        <BookDetail\n          book={book}\n          id={match.params.id}\n          postVote={postVote}\n          votes={book?.votes || []}\n          reviews={reviews}\n          profile={profile}\n          postShelveSuccess={postShelveSuccess}\n          postShelveError={postShelveError}\n          isLoggedIn={isLoggedIn}\n        />\n      )}\n    </main>\n  );\n};\nexport default Detail;\n","import React from \"react\";\nimport moment from \"moment\";\nimport style from \"./Footer.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Footer = () => {\n  return (\n    <footer className={cx(\"footer\")}>\n      <div className={cx(\"footer_icon\")}></div>\n      <span className={cx(\"footer_text\")}>\n        &copy; HappReads {moment().format(\"YYYY\")}\n      </span>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./Search.scss\";\nimport classnames from \"classnames/bind\";\nimport BookList from \"../../components/BookList\";\nimport { getBooks, getMore } from \"../../reducer/books\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nconst cx = classnames.bind(style);\nconst Search = ({ location }) => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const { books } = useSelector((state) => state.books);\n\n  const getMoreBooks = useCallback(\n    async (q, type, page = 1) => {\n      try {\n        dispatch(getMore(q, type, page));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const handleScroll = useCallback(() => {\n    const { innerHeight } = window;\n    const { scrollHeight } = document.body;\n    const scrollTop =\n      (document.documentElement && document.documentElement.scrollTop) ||\n      document.body.scrollTop;\n    const { search } = location;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    if (scrollHeight - innerHeight - scrollTop < 100) {\n      // ,    100   .\n      setPage(page + 1);\n      console.log(q);\n      //console.log(\"Search Next\");\n    }\n  }, [location, setPage, page]);\n  useEffect(() => {\n    const { search } = location;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    setQuery(q);\n    dispatch(getBooks(q, 0, page));\n  }, [dispatch, location, handleScroll, page]);\n  return (\n    <>\n      <Helmet title={` | HappReads`} />\n      <section className={cx(\"search-result-container\")}>\n        <h1 className=\"search-keyword\"> : {query}</h1>\n        <BookList booklist={books} from=\"search\" />\n      </section>\n    </>\n  );\n};\nexport default Search;\n","import Search from \"./Search\";\nexport default Search;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\nexport const UPLOAD = \"UPLOAD\";\nexport const UPLOAD_PENDING = \"UPLOAD_PENDING\";\nexport const UPLOAD_SUCCESS = \"UPLOAD_SUCCESS\";\nexport const UPLOAD_FAILURE = \"UPLOAD_FAILURE\";\nconst requestUpload = (data) => {\n  return axios.post(`upload`, data);\n};\nexport const postUpload = (data) => ({\n  type: UPLOAD,\n  payload: requestUpload(data),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  success: false,\n};\nexport default handleActions(\n  {\n    [UPLOAD_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [UPLOAD_SUCCESS]: (state, action) => {\n      return {\n        success: true,\n        pending: false,\n        error: false,\n      };\n    },\n    [UPLOAD_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./BookUpload.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 } from \"uuid\";\nimport { postUpload } from \"../../reducer/upload\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst cx = classnames.bind(style);\nconst BookUpload = () => {\n  const [content, setContent] = useState({\n    selected: null,\n    title: \"\",\n    authors: [],\n    author: \"\",\n    isbn: \"\",\n    contents: \"\",\n    genres: \"\",\n  });\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n  const { pending, error, success } = useSelector((state) => state.upload);\n  const handleAuthorChange = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        author: target.value,\n      });\n    },\n    [content]\n  );\n  const handleKeyPress = useCallback(\n    (e) => {\n      const { author, authors } = content;\n      const { keyCode } = e;\n      if (author !== \"\") {\n        if (keyCode === 13) {\n          setContent({\n            ...content,\n            authors: [...authors, author],\n            author: \"\",\n          });\n        }\n      }\n    },\n    [content]\n  );\n  const handleDeleteTag = (e) => {\n    const { authors } = content;\n    const target = e.target.previousSibling.innerHTML;\n    let newAuthors = authors.filter((author) => {\n      return author !== target;\n    });\n    //console.log(newAuthors);\n    setContent({\n      ...content,\n      authors: newAuthors,\n    });\n  };\n  const handleFile = (e) => {\n    const {\n      target: { files },\n    } = e;\n    setContent({\n      ...content,\n      selected: files[0],\n    });\n    const imgURL = URL.createObjectURL(files[0]);\n    document.querySelector(\".preview-img\").src = imgURL;\n  };\n  const handleTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        title: target.value,\n      });\n    },\n    [content]\n  );\n  const handleContents = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        contents: target.value,\n      });\n    },\n    [content]\n  );\n  const handleGenres = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        genres: target.value,\n      });\n    },\n    [content]\n  );\n  const handleSubmit = useCallback(\n    async (e) => {\n      e.preventDefault();\n      const {\n        user: { _id },\n      } = profile;\n      const { selected, contents, title, authors, genres } = content;\n      const formData = new FormData();\n      formData.append(\"thumbnail\", selected);\n      formData.append(\"title\", title);\n      formData.append(\"authors\", authors);\n      formData.append(\"contents\", contents);\n      formData.append(\"uid\", _id);\n      formData.append(\"genres\", genres);\n      const {\n        value: { status },\n      } = await dispatch(postUpload(formData));\n      if (status === 200) {\n        window.location.href = `${\n          process.env.NODE_ENV === \"development\" ? `/` : `/HappReads-front`\n        }`;\n      }\n    },\n    [content, profile, dispatch]\n  );\n  const authorTag = (authors, handleDeleteTag) => {\n    return authors?.map((author) => {\n      const uid = v4();\n      return (\n        <div className={cx(\"author-tag\")} key={uid}>\n          <span className={cx(\"author-name\")}>{author}</span>\n          <span className={cx(\"author-x\")} onClick={handleDeleteTag}>\n            x\n          </span>\n        </div>\n      );\n    });\n  };\n  const { title, authors, author, contents, genres } = content;\n  return (\n    <section className={cx(\"book-upload\")}>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <div className={cx(\"upload-btn-wrapper\")}>\n            <img className={cx(\"preview-img\")} alt=\"\" />\n            <div\n              className={cx(\"btn-container\")}\n              style={{ position: \"relative\" }}\n            >\n              <button className={cx(\"btn\")}> </button>\n              <input type=\"file\" onChange={handleFile} required />\n            </div>\n          </div>\n\n          <input\n            type=\"text\"\n            value={title}\n            onChange={handleTitle}\n            placeholder=\" \"\n            required\n          />\n          <div className={cx(\"authors\")}>\n            {authorTag(authors, handleDeleteTag)}\n            <input\n              className={cx(\"author-input\")}\n              type=\"text\"\n              placeholder=\" +\"\n              value={author}\n              onChange={handleAuthorChange}\n              onKeyDown={handleKeyPress}\n            />\n          </div>\n          <input\n            type=\"text\"\n            value={genres}\n            placeholder=\"  ( ,)\"\n            onChange={handleGenres}\n            required\n          />\n          <textarea\n            placeholder=\"\"\n            value={contents}\n            onChange={handleContents}\n            required\n          />\n          <input type=\"submit\" value=\"\" />\n        </form>\n      </section>\n    </section>\n  );\n};\nexport default BookUpload;\n","import React from \"react\";\nimport BookUpload from \"../../components/BookUpload/BookUpload\";\nimport Helmet from \"../../components/Helmet\";\nconst Upload = () => {\n  return (\n    <>\n      <Helmet title={`Upload | HappReads`} />\n      <BookUpload />\n    </>\n  );\n};\n\nexport default Upload;\n","import React, { useState, useCallback } from \"react\";\nimport { withRouter } from \"react-router\";\nimport style from \"./SearchBar.scss\";\nimport classnames from \"classnames/bind\";\nimport { FaSearch } from \"react-icons/fa\";\nconst cx = classnames.bind(style);\nconst SearchBar = ({ history, getBooks }) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const handleChangeKeyword = useCallback((e) => {\n    setKeyword(e.target.value);\n  }, []);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    getBooks(keyword, 0, 1);\n    history.push(`/search?p=${keyword}`);\n  };\n  return (\n    <div className={cx(\"search-bar\")}>\n      <form className={cx(\"form-container\")} onSubmit={handleSubmit}>\n        <FaSearch className={cx(\"search-icon\")} onClick={handleSubmit} />\n        <input\n          type=\"input\"\n          placeholder=\" ...\"\n          value={keyword}\n          name=\"q\"\n          onChange={handleChangeKeyword}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(SearchBar);\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport style from \"./Header.scss\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames/bind\";\nimport SearchBar from \"../SearchBar\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { check, logout } from \"../../reducer/login\";\nimport { getBooks } from \"../../reducer/books\";\nimport { getAtk } from \"../../utills\";\nimport {\n  FaBookReader,\n  FaSignOutAlt,\n  FaUpload,\n  FaUserAlt,\n  FaSignInAlt,\n  FaUserPlus,\n} from \"react-icons/fa\";\n\nconst cx = classnames.bind(style);\nconst Header = () => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [isLogOut, setIsLogOut] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handleLogout = useCallback(async () => {\n    const {\n      value: { status },\n    } = await dispatch(logout());\n    if (status === 200) {\n      localStorage.removeItem(\"atk\");\n      setIsLogOut(true);\n      window.location.reload();\n    }\n  }, [dispatch]);\n  const checkSize = (e) => {\n    const { innerWidth } = window;\n    if (innerWidth >= 320 && innerWidth <= 425) {\n      //console.log(\"isMobile\");\n      setIsMobile(true);\n    } else {\n      //console.log(\"not Mobile\");\n      setIsMobile(false);\n    }\n  };\n  useEffect(() => {\n    checkUser();\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, [checkUser]);\n\n  const clickMenu = useCallback(() => {\n    setShowMenu((cur) => !cur);\n  }, [setShowMenu]);\n  return (\n    <header className={cx(\"header\")}>\n      <nav className={cx([\"nav\", isMobile && \"mobile\"])}>\n        <div className={cx(\"title\")}>\n          <Link to={\"/\"}>\n            <span className={cx(\"fr\")}>Happ</span>\n            <span className={cx(\"en\")}>Reads</span>\n          </Link>\n        </div>\n        <SearchBar getBooks={getBooks} />\n        {isMobile && (\n          <ul className={cx(\"mobile-menu-bar\")} onClick={clickMenu}>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        )}\n        {isMobile === false && (\n          <div className={cx(\"menu-container\")}>\n            <div className={cx(\"community\")}>\n              <Link to={\"/community/reviews\"}>\n                <FaBookReader />\n                <p> </p>\n              </Link>\n            </div>\n            <ul className={cx(\"ul\")}>\n              {isLoggedIn ? (\n                <>\n                  <li>\n                    <span>\n                      <img\n                        src={profile.user ? profile.user.avatarUrl : \"\"}\n                        alt={\"me\"}\n                        onClick={clickMenu}\n                      />\n                    </span>\n                    <div className={cx(\"menu\", `${showMenu ? \"show\" : \"\"}`)}>\n                      <ul>\n                        <li>\n                          <Link to=\"/me\"></Link>\n                        </li>\n                        <li>\n                          <Link to=\"/upload\"> </Link>\n                        </li>\n                        <li onClick={handleLogout}></li>\n                      </ul>\n                      <div className={cx(\"callout\")}></div>\n                    </div>\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className={cx(\"login\")}>\n                    <Link to={\"/login\"}></Link>\n                  </li>\n                  <li>\n                    <Link to={\"/signup\"}></Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n        )}\n      </nav>\n      {isMobile && showMenu && (\n        <ul className={cx(\"mobile-menu-container\")} onClick={clickMenu}>\n          {isLoggedIn ? (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/me\">\n                  <FaUserAlt /> \n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/upload\">\n                  <FaUpload />  \n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader />  \n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")} onClick={handleLogout}>\n                <FaSignOutAlt /> \n              </li>\n            </>\n          ) : (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/login\"}>\n                  <FaSignInAlt /> \n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/signup\"}>\n                  <FaUserPlus /> \n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader />  \n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      )}\n    </header>\n  );\n};\nexport default Header;\n","import React from \"react\";\nimport goBack from \"../../img/go_back.png\";\nimport classnames from \"classnames/bind\";\nimport style from \"./NoMatch.scss\";\nimport Helmet from \"../../components/Helmet\";\nconst cx = classnames.bind(style);\nconst NoMatch = () => {\n  return (\n    <>\n      <Helmet title={`404 Error | HappReads`} />\n      <section className={cx(\"nomatch-section\")}>\n        <h1>404 Not Found</h1>\n        <img src={goBack} alt={\"404\"} />\n      </section>\n    </>\n  );\n};\n\nexport default NoMatch;\n","import NoMatch from \"./NoMatch\";\nexport default NoMatch;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./BookShelve.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUser } from \"../../reducer/user\";\nimport { deleteShelve, check } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { getAvg, getAtk } from \"../../utills\";\nimport { editBook } from \"../../reducer/books\";\nimport Modal from \"../Modal\";\nconst cx = classnames.bind(style);\nconst BookShelve = () => {\n  const [shelve, setShelve] = useState({\n    type: 1,\n    openModal: false,\n    lastPos: 90,\n    item: {},\n    status: \"\",\n  });\n  const dispatch = useDispatch();\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const { profile: user } = useSelector((state) => state.user);\n  const loadUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      dispatch(check(atk));\n    }\n    const tmp = window.location.hash.split(\"/\");\n    const uid = tmp[tmp.length - 1]; //pathname.substring(1).split(\"/\")[1];\n    dispatch(getUser(uid));\n  }, [dispatch]);\n  useEffect(() => {\n    loadUser();\n    window.scrollTo(0, 0);\n    return () => {};\n  }, [loadUser]);\n\n  const getBooks = () => {\n    const { user } = profile;\n    if (user) {\n      const tags = user?.uploaded?.map((item) => {\n        return (\n          <tr key={item._id}>\n            <td>\n              <Link to={`/book/${item._id}`}>\n                <img src={item.thumbnail} alt={item.thumbnail}></img>\n              </Link>\n            </td>\n            <td>\n              <Link to={`/book/${item._id}`}>{item.title}</Link>\n            </td>\n            <td>\n              {item.authors.length > 1\n                ? `${item.authors[0]} *`\n                : item.authors[0]}\n            </td>\n            <td>{item.votes ? getAvg(item.votes) : 0.0}</td>\n            <td>{moment(item.createdAt).format(\"YYMMDD HH:MM:SS\")}</td>\n            <td className={cx(\"settings uploaded\")}>\n              <p onClick={handleOpen(item)}></p>\n              <p onClick={onDeleteShelve}>X</p>\n            </td>\n          </tr>\n        );\n      });\n      return tags;\n    }\n    return null;\n  };\n  const onDeleteShelve = useCallback(\n    async (uid, bid, type) => {\n      try {\n        const response = await dispatch(deleteShelve(uid, bid, type)); //await deleteShelve(uid, bid, type);\n        const {\n          value: { status },\n        } = response;\n        if (status === 200) {\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, loadUser]\n  );\n\n  const handleOpen = useCallback(\n    (book) => (e) => {\n      setShelve({\n        ...shelve,\n        openModal: true,\n        item: book,\n      });\n    },\n    [shelve]\n  );\n  const handleCancel = useCallback(\n    (e) => {\n      setShelve({\n        ...shelve,\n        openModal: false,\n      });\n    },\n    [shelve]\n  );\n  const handleSubmit = useCallback(\n    (book) => async (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        try {\n          const response = await dispatch(\n            editBook({\n              ...book,\n            })\n          );\n          const {\n            value: { status },\n          } = response;\n          if (status === 200) {\n            loadUser();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    [dispatch, loadUser, isLoggedIn]\n  );\n  const { openModal, item } = shelve;\n  return (\n    <section className={cx(\"book-shelve\")}>\n      {openModal ? (\n        <Modal\n          handleCancel={handleCancel}\n          handleSubmit={handleSubmit}\n          item={item}\n        />\n      ) : null}\n      <div>\n        <p className={cx(\"shelve-header\")}>{user ? user.email : \"\"} </p>\n      </div>\n      <div>\n        <table>\n          <thead>\n            <tr>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th> </th>\n              {profile?.user && user && user._id === profile.user._id ? (\n                <th></th>\n              ) : null}\n            </tr>\n          </thead>\n          <tbody>{getBooks()}</tbody>\n        </table>\n      </div>\n    </section>\n  );\n};\nexport default BookShelve;\n","import React from \"react\";\nimport style from \"./Category.scss\";\nimport classnames from \"classnames/bind\";\nimport { Link } from \"react-router-dom\";\nconst cx = classnames.bind(style);\nconst Category = ({ path }) => {\n  return (\n    <div className={cx(\"category\")}>\n      <ul>\n        <li>\n          <Link to={`/community/reviews`}>  </Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./CommunityContainer.scss\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\nimport Loading from \"../Loading\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nconst cx = classnames.bind(style);\nconst CommunityContainer = ({\n  path,\n  isLoading,\n  reviews,\n  loadReviewsPending,\n  loadReviewsDone,\n  loadMore,\n  toggleMore,\n  more,\n  handleLike,\n}) => {\n  const content = (path) => {\n    if (path === \"reviews\") {\n      return (\n        <>\n          {reviews.length === 0 && (\n            <p className={cx(\"empty\")}>  .</p>\n          )}\n          {\n            <>\n              {reviews.length > 0 &&\n                reviews.map((review) => {\n                  return (\n                    <section key={v4()} className={cx([\"card\", \"row\"])}>\n                      <section className={cx(\"first-col\")}>\n                        <Link\n                          to={`/book/${\n                            review && review.book && review.book._id\n                          }`}\n                        >\n                          <img\n                            src={review && review.book && review.book.thumbnail}\n                            alt={review && review.book && review.book.title}\n                          />\n                        </Link>\n                        <p className={cx(\"like\")}>\n                          <FontAwesomeIcon\n                            className={cx(\"heart\")}\n                            icon={faHeart}\n                            onClick={handleLike(review)}\n                          />{\" \"}\n                          {review && review.likes && review.likes.length} \n                        </p>\n                      </section>\n                      <section className={cx(\"second-col\")}>\n                        <p className={cx(\"date\")}>\n                          {review &&\n                            moment(review.createdAt).format(\n                              \"YYYY/MM/DD HH:MM:DD\"\n                            )}\n                        </p>\n                        <p className={cx(\"reviewer\")}>\n                          <Link\n                            to={`/profile/${review && review.reviewer._id}`}\n                          >\n                            {review && review.reviewer.email.split(\"@\")[0]}\n                          </Link>\n                        </p>\n                        <h4 className={cx(\"title\")}>\n                          <Link\n                            to={`/book/${\n                              review && review.book && review.book._id\n                            }`}\n                          >\n                            {review && review.book && review.book.title}\n                          </Link>\n                        </h4>\n                        <section className={cx(\"content\")}>\n                          <img\n                            src={\n                              review &&\n                              review.reviewer &&\n                              review.reviewer.avatarUrl\n                            }\n                            alt={review && review.reviewer.email}\n                          />\n                          <article>\n                            <p className={cx(\"content-text\")}>\n                              {more === false &&\n                              review &&\n                              review.content &&\n                              review.content.length >= 50\n                                ? `${review.content.substring(0, 50)}...`\n                                : review.content}\n                            </p>\n                            {review &&\n                            review.content &&\n                            review.content.length >= 50 ? (\n                              <p className={cx(\"more\")} onClick={toggleMore}>\n                                {more ? \"\" : \"\"}\n                              </p>\n                            ) : null}\n                          </article>\n                        </section>\n                      </section>\n                    </section>\n                  );\n                })}\n              {loadReviewsDone === false && (\n                <button className={cx(\"load-more-btn\")} onClick={loadMore}>\n                   \n                </button>\n              )}\n            </>\n          }\n        </>\n      );\n    }\n  };\n  return isLoading || loadReviewsPending ? (\n    <Loading />\n  ) : (\n    <section className={cx(\"community-container\")}>\n      {path === \"reviews\" && (\n        <section className={cx(\"reviews\")}>{content(\"reviews\")}</section>\n      )}\n    </section>\n  );\n};\nexport default CommunityContainer;\n","import Community from \"./Community\";\nexport default Community;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Category from \"../../components/Category\";\nimport CommunityContainer from \"../../components/CommunityContainer/CommunityContainer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getReviews, postLike } from \"../../reducer/review\";\nimport Helmet from \"../../components/Helmet\";\nconst Community = ({ history: { location } }) => {\n  const { pathname } = location;\n  const path = pathname.substr(1).split(\"/\")[1];\n  const [isLoading, setIsLoading] = useState(true);\n  const [more, setMore] = useState(false);\n  const [page, setPage] = useState(1);\n  const { reviews, loadReviewsPending, loadReviewsDone } = useSelector(\n    (state) => state.review\n  );\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n  const loadReviews = useCallback(\n    async (page = 1) => {\n      try {\n        dispatch(\n          getReviews({\n            limit: 5,\n            page,\n          })\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const toggleMore = useCallback(() => {\n    setMore((cur) => !cur);\n  }, []);\n  const loadMore = useCallback(\n    (e) => {\n      console.log(\"lood more\");\n      loadReviews(page + 1);\n      setPage((cur) => cur + 1);\n    },\n    [loadReviews, page]\n  );\n  const handleLike = useCallback(\n    (review) => () => {\n      const { user } = profile;\n      if (isLoggedIn) {\n        dispatch(postLike(\"like\", review._id, user._id));\n      } else {\n        alert(\" \");\n      }\n    },\n    [profile, isLoggedIn, dispatch]\n  );\n  useEffect(() => {\n    setIsLoading(true);\n    loadReviews();\n    setIsLoading(false);\n  }, [loadReviews, dispatch, page]);\n  return (\n    <>\n      <Helmet\n        title={\"Book Reviews | HappReads\"}\n        keywords={\" , ,  \"}\n      />\n      <Category path={path} />\n      <CommunityContainer\n        path={path}\n        isLoading={isLoading}\n        reviews={reviews}\n        loadingReviewsDone={loadReviewsDone}\n        loadReviewsPending={loadReviewsPending}\n        loadMore={loadMore}\n        more={more}\n        toggleMore={toggleMore}\n        handleLike={handleLike}\n      />\n    </>\n  );\n};\n\nexport default Community;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./FloatingButton.scss\";\nconst cx = classnames.bind(style);\nconst FloatingButton = () => {\n  const [hide, setHide] = useState(true);\n  const handleToTop = useCallback(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const handleScroll = useCallback(() => {\n    const pageYOffset = window.pageYOffset;\n    if (pageYOffset <= 600) {\n      setHide(true);\n    } else {\n      setHide(false);\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [handleScroll]);\n  return (\n    <button\n      className={cx([\"floating-button\", hide ? \"hide\" : \"show\"])}\n      onClick={handleToTop}\n    >\n      \n    </button>\n  );\n};\nexport default FloatingButton;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./route/Home\";\nimport Login from \"./route/Login/Login\";\nimport SignUp from \"./route/SignUp/SignUp\";\nimport Profile from \"./route/Profile\";\nimport Detail from \"./route/Detail\";\nimport Footer from \"./components/Footer\";\nimport Search from \"./route/Search\";\nimport Upload from \"./route/Upload/Upload\";\nimport Header from \"./components/Header\";\nimport NoMatch from \"./route/NoMatch\";\nimport BookShelve from \"./components/BookShelve/BookShelve\";\nimport Community from \"./route/Community\";\nimport FloatingButton from \"./components/FloatingButton/FloatingButton\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/\" exact component={Home}></Route>\n        <Route path=\"/book/:id\" component={Detail}></Route>\n        <Route path=\"/login\" component={Login}></Route>\n        <Route path=\"/search\" component={Search}></Route>\n        <Route path=\"/signup\" component={SignUp}></Route>\n        <Route path=\"/me\" component={Profile}></Route>\n        <Route path=\"/upload\" component={Upload}></Route>\n        <Route path=\"/community/reviews\" component={Community}></Route>\n        <Route path=\"/community/top-readers\" component={Community}></Route>\n        <Route path=\"/community/top-reviewers\" component={Community}></Route>\n        <Route path=\"/profile/:id\" component={Profile}></Route>\n        <Route path=\"/shelve/:id\" component={BookShelve}></Route>\n        <Route component={NoMatch} />\n      </Switch>\n      <FloatingButton />\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nconst POST_SHELVE = \"POST_SHELVE\";\nconst POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nconst POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nconst POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n};\nexport default handleActions(\n  {\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        pending: true,\n        error: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {},\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { combineReducers } from \"redux\";\nimport books from \"./books\";\nimport signup from \"./signup\";\nimport login from \"./login\";\nimport review from \"./review\";\nimport shelve from \"./shelve\";\nimport user from \"./user\";\nimport upload from \"./upload\";\nconst reducer = combineReducers({\n  books,\n  signup,\n  login,\n  review,\n  shelve,\n  user,\n  upload\n});\nexport default reducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport reducer from \"../reducer\";\nimport logger from \"redux-logger\";\n//import createSagaMiddleware from \"redux-saga\";\nimport { createPromise } from \"redux-promise-middleware\";\nconst customizePromiseMiddleware = createPromise({\n  promiseTypeSuffixes: [\"PENDING\", \"SUCCESS\", \"FAILURE\"],\n});\n//const sagaMiddleware = createSagaMiddleware();\nconst store = createStore(reducer, applyMiddleware(customizePromiseMiddleware));\n//sagaMiddleware.run();\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/go_back.62137145.png\";"],"sourceRoot":""}