{"version":3,"sources":["img/go_back.png","components/SearchBar/SearchBar.jsx","reducer/login.js","reducer/books.js","utills.js","components/Header/Header.jsx","components/Footer/Footer.jsx","components/FloatingButton/FloatingButton.jsx","reducer/user.js","components/Modal/Modal.jsx","components/BookShelve/BookShelve.jsx","components/Helmet/index.jsx","components/Helmet/Helmet.jsx","components/Home/HomeSection/HomeSection.jsx","components/ScrollItem/ScrollItem.jsx","components/SlickList/SlickList.jsx","components/Book/Book.jsx","components/LoadMore/LoadMore.jsx","components/BookList/BookList.jsx","components/VerticalScroll/VerticalScroll.jsx","components/VerticalScroll/index.jsx","components/Home/HomeContent/HomeContent.jsx","components/Loading/Loading.jsx","components/Loading/index.jsx","pages/Home/index.jsx","pages/Home/Home.jsx","components/SocialLogin/SocialLogin.jsx","components/User/LoginForm/LoginForm.jsx","components/Notice/Notice.jsx","components/Notice/index.jsx","pages/Login/Login.jsx","components/User/SignUpForm/SignUpForm.jsx","reducer/signup.js","pages/SignUp/SignUp.jsx","pages/Profile/Profile.jsx","pages/Profile/index.jsx","components/Rater/Rater.jsx","reducer/review.js","components/Review/Review.jsx","components/RateAnalysis/RateAnalysis.jsx","components/BookDetail/BookDetail.jsx","pages/Detail/index.jsx","pages/Detail/Detail.jsx","pages/Search/Search.jsx","pages/Search/index.jsx","reducer/upload.js","components/BookUpload/BookUpload.jsx","pages/Upload/Upload.jsx","pages/NoMatch/NoMatch.jsx","pages/NoMatch/index.jsx","components/Category/Category.jsx","components/CommunityContainer/CommunityContainer.jsx","pages/Community/index.jsx","pages/Community/Community.jsx","components/UserEdit/UserEdit.jsx","components/UserProfile/UserProfile.jsx","pages/ProfileRoute/ProfileRoute.jsx","components/ReviewModal/ReviewModal.jsx","components/ReviewModal/index.jsx","components/UserReview/UserReview.jsx","components/UserReview/index.jsx","pages/MyReview/index.jsx","pages/MyReview/MyReview.jsx","App.js","reducer/shelve.js","reducer/index.js","store/configure.js","index.js"],"names":["module","exports","cx","classnames","bind","style","withRouter","history","getBooks","useState","keyword","setKeyword","handleChangeKeyword","useCallback","e","target","value","handleSubmit","preventDefault","push","className","onSubmit","onClick","type","placeholder","name","onChange","dotenv","config","axios","defaults","baseURL","requestLogin","id","pw","post","email","password","requestCheck","atk","create","headers","Authorization","requsetPostShelve","requestDeleteShelve","uid","delete","data","requestDeleteReview","rid","requestEditProfile","check","payload","postShelve","deleteShelve","bid","deleteReview","handleActions","state","action","loginPending","loginError","loginSuccess","profile","isLoggedIn","console","log","pending","error","logoutPending","logoutError","logoutSuccess","postShelveSuccess","postShelveError","postShelvePending","success","URL","requestAllBooks","page","get","decodeURI","requestgetBooks","query","requestInfo","requestPostRate","vote","requestEditBook","_id","title","contents","genres","put","getAllBooks","getDetail","sliderPending","sliderError","sliderSuccess","books","sliderBooks","allBookPending","allBookError","allBookSuccess","allBookDone","length","undefined","parseInt","searchPending","searchSuccess","searchFailure","morePending","moreError","moreDone","vote_pending","vote_error","vote_success","book","bookPending","bookError","bookSuccess","votes","recentPending","recentError","recentSuccess","recentBooks","popularPending","popularError","popularSuccess","popularBooks","editBookPending","editBookSuccess","editBookFailure","total","term","bookFailure","getAtk","localStorage","getItem","getAvg","i","toFixed","Header","showMenu","setShowMenu","isMobile","setIsMobile","dispatch","useDispatch","useSelector","login","checkUser","a","handleLogout","status","removeItem","window","location","href","checkSize","innerWidth","useEffect","addEventListener","removeEventListener","clickMenu","cur","to","src","user","avatarUrl","alt","Footer","moment","format","FloatingButton","hide","setHide","handleToTop","scrollTo","handleScroll","pageYOffset","requestUser","getUser","readers","topReaders","reviewers","topReviewers","convertType","read","want_read","reading","Modal","handleCancel","item","setTo","setBook","handleSelect","options","selectedIndex","handleClick","changeTitle","changeGenres","changeContents","role","aria-label","thumbnail","BookShelve","openModal","lastPos","shelve","setShelve","loadUser","tmp","hash","split","onDeleteShelve","response","handleOpen","uploaded","map","key","authors","createdAt","Helmet","keywords","description","content","property","classname","HomeSection","ScrollItem","children","SlickList","dots","infinite","speed","slidesToShow","slidesToScroll","adaptiveHeight","autoplay","autoplaySpeed","settings","setSettings","slice","v4","isMe","includes","connect","actions","props","from","isOpen","setOpen","forEach","ele","formatAuthors","substr","handleEdit","handleDelete","LoadMore","forwardRef","ref","text","BookList","booklist","handleMore","done","filter","color","size","VerticalScroll","icon","faBook","category","HomeContent","setPage","loadMoreRef","useRef","data-value","faAngleDown","faAngleUp","current","blur","Loading","Home","isLoading","setIsLoading","setType","dataset","SocialLogin","LoginForm","loginRequest","login_success","login_pending","setEmail","setPassword","handleEmail","handlePassword","required","Notice","Login","handleLogin","t","token","setItem","SignUpForm","handleSignUp","p1","p2","handlePassword1","handlePassword2","requestSignUp","userSignup","signup_pending","signup_success","signup_error","SignUp","signup","p","UserBookList","Profile","loading","userPending","getProfile","pathname","substring","values","starStyle","cursor","Rater","postVote","handleVote","handleOnClick","currentItem","nodeName","parentNode","rating","alert","idx","data-rating","requestGetReviews","limit","requestPostReview","requestEditReview","requestLikeReview","getReviews","getReview","isbn","postReview","editReview","postLike","loadReviewsPending","loadReviewsError","loadReviewsSuccess","loadReviewsDone","reviews","hasMore","postReviewPending","postReviewSuccess","postReviewError","review","updatedReviews","Review","input","setInput","more","setMore","submitRef","me","handlePostReview","handleChange","handlePostLike","fill","handleLike","currentTarget","getAttribute","toggleMore","ReviewTag","reviewer","marginTop","likes","onInput","height","scrollHeight","maxLength","RateAnalysis","svgRef","device","setDevice","render","margin","width","baseVal","innerHeight","v","rate","count","xScale","scaleBand","range","domain","paddingInner","yScale","scaleLinear","max","d","g","select","append","attr","transition","duration","call","axisBottom","axisRight","rects","selectAll","enter","bandwidth","exit","remove","innerHTML","hasChildNodes","rectContainer","document","querySelector","label","BookDetail","selected","setSelected","setStatus","isAddSuccess","setIsAddSuccess","getStatus","checkStatus","voter","emails","s","String","checkUserVote","isSearchable","Detail","match","getBook","params","postRate","Search","setQuery","search","q","replace","getMore","requestUpload","onUploadProgress","loaded","progress","Math","floor","uploadProgress","postUpload","isUploaded","BookUpload","author","setContent","previewRef","progressRef","titleRef","authorRef","genresRef","contentsRef","upload","handleAuthorChange","handleKeyPress","keyCode","classList","handleTitle","handleContents","handleGenres","formData","FormData","add","useLayoutEffect","position","files","imgURL","createObjectURL","handleDeleteTag","authorTag","previousSibling","newAuthors","onKeyDown","Upload","NoMatch","goBack","Category","CommunityContainer","path","loadMore","faHeart","data-id","Community","loadReviews","UserEdit","img","handleClose","seletedImg","nickname","website","intro","interest","submitEdit","handleFile","file","readURL","handleNickName","handleWebSite","handleInterest","handleIntro","UserProfile","useLocation","setIsOpen","OpenEdit","startsWith","ProfileRoute","Component","component","ReviewModal","handleEditReview","Reviews","mid","data-bid","UserReview","setReview","userloading","handleDeleteReview","MyReview","App","exact","reducer","combineReducers","customizePromiseMiddleware","createPromise","promiseTypeSuffixes","store","createStore","applyMiddleware","ReactDOM","getElementById"],"mappings":"mWAAAA,EAAOC,QAAU,IAA0B,qC,yZCOrCC,EAAKC,IAAWC,KAAKC,KA8BZC,eA5BG,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAAe,EACbC,mBAAS,IADI,mBACpCC,EADoC,KAC3BC,EAD2B,KAGrCC,EAAsBC,uBAAY,SAACC,GACvCH,EAAWG,EAAEC,OAAOC,SACnB,IACGC,EAAe,SAACH,GACpBA,EAAEI,iBACFV,EAASE,EAAS,EAAG,GACrBH,EAAQY,KAAR,oBAA0BT,KAG5B,OACE,yBAAKU,UAAWlB,EAAG,eACjB,0BAAMkB,UAAWlB,EAAG,kBAAmBmB,SAAUJ,GAC/C,kBAAC,IAAD,CAAUG,UAAWlB,EAAG,eAAgBoB,QAASL,IACjD,2BACEM,KAAK,QACLC,YAAY,yBACZR,MAAON,EACPe,KAAK,IACLC,SAAUd,S,wDC3BpBe,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,I,EAoCDC,EAAe,SAACC,EAAIC,GACxB,OAAOL,IAAMM,KAAN,QAAoB,CACzBC,MAAOH,EACPI,SAAUH,KAMRI,EAAe,SAACC,GAMpB,OALYV,IAAMW,OAAO,CACvBC,QAAS,CACPC,cAAc,GAAD,OAAKH,MAGXJ,KAAJ,YAGHQ,EAAoB,SAACP,EAAOH,EAAIV,GACpC,OAAOM,IAAMM,KAAN,SAAqB,CAC1BC,QACAH,KACAV,UAGEqB,EAAsB,SAACC,EAAKZ,GAAqB,IAAjBV,EAAgB,uDAAT,KAE3C,OAAOM,IAAMiB,OAAN,SAAuB,CAC5BC,KAAM,CAAEF,MAAKZ,KAAIV,WAGfyB,EAAsB,SAACf,EAAIgB,EAAKJ,GACpC,OAAOhB,IAAMiB,OAAN,eAAqBb,EAArB,mBAAkCgB,GAAO,CAC9CF,KAAM,CACJF,UAIAK,EAAqB,SAACH,GAC1B,OAAOlB,IAAMM,KAAN,OAAmBY,IAGfI,EAAQ,SAACZ,GAAD,MAAU,CAC7BhB,KA/EwB,aAgFxB6B,QAASd,EAAaC,KAcXc,EAAa,SAACjB,EAAOH,EAAIV,GAAZ,MAAsB,CAC9CA,KA/EyB,cAgFzB6B,QAAST,EAAkBP,EAAOH,EAAIV,KAE3B+B,EAAe,SAACT,EAAKU,EAAKhC,GAAX,MAAqB,CAC/CA,KA9E2B,gBA+E3B6B,QAASR,EAAoBC,EAAKU,EAAKhC,KAE5BiC,EAAe,SAACvB,EAAIgB,EAAKJ,GAAV,MAAmB,CAC7CtB,KA7E2B,gBA8E3B6B,QAASJ,EAAoBf,EAAIgB,EAAKJ,KA4BzBY,eAAa,mBA9HC,iBAiIR,SAACC,EAAOC,GACvB,OAAO,2BACFD,GADL,IAEEE,cAAc,EACdC,YAAY,EACZC,cAAc,OARM,cA7HC,iBAwIR,SAACJ,EAAOC,GACvB,MAAO,CACLI,QAASJ,EAAOP,QAAQL,KACxBa,cAAc,EACdC,YAAY,EACZC,cAAc,EACdE,YAAY,MAjBQ,cA5HC,iBAgJR,SAACN,EAAOC,GAEvB,OADAM,QAAQC,MACD,2BACFR,GADL,IAEEE,cAAc,EACdC,YAAY,EACZC,cAAc,EACdE,YAAY,OA3BQ,cAnIM,sBAkKR,SAACN,EAAOC,GAC5B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,EACPJ,YAAY,OApCQ,cAlIM,sBAyKR,SAACN,EAAOC,GAE5B,MAAO,CACLQ,SAAS,EACTC,OAAO,EACPJ,YAAY,EACZD,QAASJ,EAAOP,QAAQL,SA7CJ,cAjIM,sBAiLR,SAACW,EAAOC,GAC5B,MAAO,CACLQ,SAAS,EACTC,OAAO,EACPJ,YAAY,MApDQ,cAzHE,kBAiLR,SAACN,EAAOC,GACxB,OAAO,2BACFD,GADL,IAEEW,eAAe,EACfC,aAAa,EACbC,eAAe,OA7DK,cAxHE,kBAwLR,SAACb,EAAOC,GAExB,OAAO,2BACFD,GADL,IAEEW,eAAe,EACfC,aAAa,EACbC,eAAe,EACfP,YAAY,EACZD,QAAS,QAxEW,cAvHE,kBAkMR,SAACL,EAAOC,GACxB,OAAO,2BACFD,GADL,IAEEW,eAAe,EACfC,aAAa,EACbC,eAAe,OAhFK,cArHI,oBAwMR,SAACb,EAAOC,GAE1B,OADAM,QAAQC,IAAIP,EAAOP,SACZ,2BACFM,GADL,IAEEc,mBAAmB,EACnBC,iBAAiB,EACjBC,mBAAmB,OAzFC,cAnHO,uBAgNR,SAAChB,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEgB,mBAAmB,EACnBF,mBAAmB,EACnBC,iBAAiB,OAlGG,cAlHO,uBAuNR,SAACf,EAAOC,GAAY,IACjCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,2BACFW,GADL,IAEEgB,mBAAmB,EACnBF,mBAAmB,EACnBT,QAAShB,OA3GW,cAjHO,uBA+NR,SAACW,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEgB,mBAAmB,EACnBD,iBAAiB,OAlHG,cA9GS,yBAmOR,SAACf,EAAOC,GAC/B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAzHa,cA7GS,yBAyOR,SAACV,EAAOC,GAAY,IACnCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,2BACFW,GADL,IAEEK,QAAShB,EACToB,SAAS,EACTC,OAAO,OAlIa,cA5GS,yBAiPR,SAACV,EAAOC,GAC/B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAzIa,cAzGS,yBAqPR,SAACV,EAAOC,GAC/B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAhJa,cAxGS,yBA2PR,SAACV,EAAOC,GAAY,IACnCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,2BACFW,GADL,IAEES,SAAS,EACTC,OAAO,EACPL,QAAShB,OAzJW,cAvGS,yBAmQR,SAACW,EAAOC,GAC/B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAhKa,GAjBP,CACnBD,SAAS,EACTC,OAAO,EACPO,SAAS,EACTZ,QAAS,GACTC,YAAY,EACZJ,cAAc,EACdC,YAAY,EACZC,cAAc,EACdO,eAAe,EACfE,eAAe,EACfD,aAAa,EACbI,mBAAmB,EACnBF,mBAAmB,EACnBC,iBAAiB,I,QCvInB9C,IAAOC,SACP,IAAMgD,EAGA,kCAyDNX,QAAQC,IAAIU,GACZ,I,EAAMC,EAAkB,SAACtD,EAAMuD,GAC7B,OAAOjD,IAAMkD,IAAN,UAAaH,EAAb,sBAA8BI,UAAUzD,GAAxC,iBAAsDuD,KAKzDG,EAAkB,SAACC,GAA2B,IAApB3D,EAAmB,uDAAd,EAAGuD,EAAW,uDAAN,EAC3C,OAAOjD,IAAMkD,IAAN,UAAaH,EAAb,yBAAiCI,UAAUE,GAA3C,iBAA0D3D,EAA1D,iBAAuEuD,KAE1EK,EAAc,SAAClD,GACnB,OAAOJ,IAAMkD,IAAN,UAAaH,EAAb,gBAAwB3C,KAE3BmD,EAAkB,SAACnD,EAAIR,EAAM4D,GACjC,OAAOxD,IAAMM,KAAN,UAAcyC,EAAd,gBAAyB3C,GAAM,CACpCoD,OACA5D,UASE6D,EAAkB,SAACvC,GAAU,IACzBwC,EAAiCxC,EAAjCwC,IAAKC,EAA4BzC,EAA5ByC,MAAOC,EAAqB1C,EAArB0C,SAAUC,EAAW3C,EAAX2C,OAC9B,OAAO7D,IAAM8D,IAAN,UAAaf,EAAb,gBAAwBW,GAAO,CACpCC,QACAC,WACAC,YAISE,EAAc,SAACrE,EAAMuD,GAAP,MAAiB,CAC1CvD,KA1FuB,YA2FvB6B,QAASyB,EAAgBtD,EAAMuD,KAkBpBtE,EAAW,eAAC0E,EAAD,uDAAS,IAAK3D,EAAd,uDAAqB,EAAGuD,EAAxB,uDAA+B,EAA/B,MAAsC,CAC5DvD,KA1F8B,mBA2F9B6B,QAAS6B,EAAgBC,EAAO3D,EAAMuD,KAM3Be,EAAY,SAAC5D,GAAD,MAAS,CAChCV,KAzEwB,aA0ExB6B,QAAS+B,EAAYlD,KA6CRwB,eAAa,iBAAC,EA9JW,4BAgKR,SAACC,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEEoC,eAAe,EACfC,aAAa,EACbC,eAAe,OAPK,YAAC,EA7JW,4BAuKR,SAACtC,EAAOC,GAAY,IAEpCsC,EACNtC,EAAOP,QADTL,KAAQkD,MAEV,OAAO,2BACFvC,GADL,IAEEwC,YAAaD,EACbH,eAAe,EACfE,eAAe,OAlBK,YAAC,EA5JW,4BAiLR,SAACtC,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEEoC,eAAe,EACfC,aAAa,OAzBO,YAAC,EAnKI,qBAgMR,SAACrC,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEyC,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,EAChBC,aAAa,OAnCO,YAAC,EAlKI,qBAwMR,SAAC5C,EAAOC,GAAY,IAAD,EAGlCA,EAAOP,QADTL,KAAQkD,EAF4B,EAE5BA,MAAOnB,EAFqB,EAErBA,KAEjB,OAAO,2BACFpB,GADL,IAEEyC,gBAAgB,EAChBE,gBAAgB,EAChBC,YAAaL,EAAMM,OAAS,GAC5BN,WACkBO,IAAhB9C,EAAMuC,OAA8C,IAAvBQ,SAAS3B,EAAM,IACxCmB,EADJ,sBAEQvC,EAAMuC,OAFd,YAEwBA,SAlDN,YAAC,EAjKI,qBAsNR,SAACvC,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEyC,gBAAgB,EAChBC,cAAc,OAzDM,YAAC,EA/IW,4BA2MR,SAAC1C,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEEuC,MAAO,GACPS,eAAe,EACfC,eAAe,EACfC,eAAe,OAlEK,YAAC,EA9IW,4BAmNR,SAAClD,EAAOC,GAAY,IAEpCsC,EACNtC,EAAOP,QADTL,KAAQkD,MAEV,OAAO,2BACFvC,GADL,IAEEgD,eAAe,EACfC,eAAe,EACfV,MAAOA,OA7Ea,YAAC,EA7IW,4BA6NR,SAACvC,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEEgD,eAAe,EACfE,eAAe,OApFK,YAAC,EA1IS,0BAiOR,SAAClD,EAAOC,GAChC,OAAO,2BACFD,GADL,IAEEmD,aAAa,EACbC,WAAW,OA3FS,YAAC,EAzIS,0BAuOR,SAACpD,EAAOC,GAAY,IAElCsC,EACNtC,EAAOP,QADTL,KAAQkD,MAGV,OAAO,2BACFvC,GADL,IAEEmD,aAAa,EACbC,WAAW,EACXC,SAAUd,EAAMM,OAAS,GACzBN,MAAM,GAAD,mBAAMvC,EAAMuC,OAAZ,YAAsBA,SAxGP,YAAC,EAxIS,0BAmPR,SAACvC,EAAOC,GAChC,OAAO,2BACFD,GADL,IAEEmD,aAAa,EACbC,WAAW,OA/GS,YAAC,EAjHI,qBAmOR,SAACpD,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEsD,cAAc,EACdC,YAAY,EACZC,cAAc,OAvHM,YAAC,EAhHI,qBA0OR,SAACxD,EAAOC,GAAY,IAE7BwD,EACNxD,EAAOP,QADTL,KAAQoE,KAGV,OAAO,2BACFzD,GADL,IAEEsD,cAAc,EACdC,YAAY,EACZC,cAAc,EACdC,YApIoB,YAAC,EA/GI,qBAsPR,SAACzD,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEsD,cAAc,EACdC,YAAY,EACZC,cAAc,OA5IM,YAAC,EAtHK,sBAqQR,SAACxD,EAAOC,GAC5B,OAAO,2BACFD,GADL,IAEE0D,aAAa,EACbC,WAAW,OAnJS,YAAC,EArHK,sBA2QR,SAAC3D,EAAOC,GAAY,IAE9BwD,EACNxD,EAAOP,QADTL,KAAQoE,KAEV,OAAO,2BACFzD,GADL,IAEE0D,aAAa,EACbE,aAAa,EACbH,OACAI,MAAOJ,EAAKI,WA/JQ,YAAC,EApHK,sBAsRR,SAAC7D,EAAOC,GAC5B,OAAO,2BACFD,GADL,IAEE0D,aAAa,EACbC,WAAW,OAtKS,YAAC,EApJW,4BA6TR,SAAC3D,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEE8D,eAAe,EACfC,aAAa,EACbC,eAAe,OA9KK,YAAC,EAnJW,4BAoUR,SAAChE,EAAOC,GAAY,IACtCZ,EAASY,EAAOP,QAAhBL,KAER,OAAO,2BACFW,GADL,IAEEiE,YAAa5E,EACbyE,eAAe,EACfE,eAAe,OAxLK,YAAC,EAlJW,4BA6UR,SAAChE,EAAOC,GAClC,OAAO,2BACFD,GADL,IAEE8D,eAAe,EACfC,aAAa,OA/LO,YAAC,EAzJY,6BA2VR,SAAC/D,EAAOC,GACnC,OAAO,2BACFD,GADL,IAEEkE,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,OAvMI,YAAC,EAxJY,6BAkWR,SAACpE,EAAOC,GAAY,IACvCZ,EAASY,EAAOP,QAAhBL,KACR,OAAO,2BACFW,GADL,IAEEqE,aAAchF,EACd6E,gBAAgB,EAChBE,gBAAgB,OAhNI,YAAC,EAvJY,6BA0WR,SAACpE,EAAOC,GACnC,OAAO,2BACFD,GADL,IAEEkE,gBAAgB,EAChBC,cAAc,OAvNM,YAAC,EAhII,qBA0VR,SAACnE,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEsE,iBAAiB,EACjBC,iBAAiB,EACjBC,iBAAiB,OA/NG,YAAC,EA/HI,qBAiWR,SAACxE,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEsE,iBAAiB,EACjBC,iBAAiB,OAtOG,YAAC,EA9HI,qBAuWR,SAACvE,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEEsE,iBAAiB,EACjBE,iBAAiB,OA7OG,GAtCP,CACnB/B,gBAAgB,EAChBE,gBAAgB,EAChBD,cAAc,EACdE,aAAa,EACbL,MAAO,GACPY,aAAa,EACbC,UAAW,GACXC,UAAU,EACVb,YAAa,GACbJ,eAAe,EACfC,aAAa,EACbC,eAAe,EACfmC,MAAO,EACPnB,cAAc,EACdC,YAAY,EACZC,cAAc,EACdkB,KAAM,GACNjB,KAAM,GACNC,aAAa,EACbE,aAAa,EACbe,aAAa,EACbV,YAAa,GACbH,eAAe,EACfC,aAAa,EACbC,eAAe,EACfK,aAAc,GACdH,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,EAChBE,iBAAiB,EACjBC,iBAAiB,EACjBC,iBAAiB,EACjBxB,eAAe,EACfC,eAAe,EACfC,eAAe,IC1KJ0B,EAAS,WAEpB,OADYC,aAAaC,QAAQ,QAoBtBC,GAAS,SAAClB,GACrB,GAAIA,EAAO,CACT,IAAIY,EAAQ,EACZ,GAAIZ,EAAMhB,OAAS,EAAG,CACpB,IAAK,IAAImC,EAAI,EAAGA,EAAInB,EAAMhB,OAAQmC,IAChCP,GAAS1B,SAASc,EAAMmB,GAAGrD,MAE7B,OAAQ8C,EAAQZ,EAAMhB,QAAQoC,QAAQ,GAExC,OAAO,EAET,OAAO,G,oBCZHzI,GAAKC,IAAWC,KAAKC,MAgLZuI,GA9KA,WAAO,IAAD,EACanI,oBAAS,GADtB,mBACZoI,EADY,KACFC,EADE,OAEarI,oBAAS,GAFtB,mBAEZsI,EAFY,KAEFC,EAFE,KAGbC,EAAWC,cAHE,EAIaC,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDpF,EAJW,EAIXA,WAAYD,EAJD,EAICA,QAEdsF,EAAYxI,sBAAW,sBAAC,4BAAAyI,EAAA,sDAE5B,GADM/G,EAAM+F,IAEV,IACEW,EAAS9F,EAAMZ,IACf,MAAO6B,GACPH,QAAQC,IAAIE,GANY,2CAS3B,CAAC6E,IAEEM,EAAe1I,sBAAW,sBAAC,4BAAAyI,EAAA,sEAGrBL,EHqDe,CAC3B1H,KA7EoB,SA8EpB6B,QA7COvB,IAAMM,KAAN,YGb0B,gBAIhB,MAJgB,EAE7BnB,MAASwI,SAGTjB,aAAakB,WAAW,OACxBC,OAAOC,SAASC,KAAO,KANM,2CAQ9B,CAACX,IAEEY,EAAY,SAAC/I,GAAO,IAChBgJ,EAAeJ,OAAfI,WAGNd,EAFEc,EAAa,MASnBC,qBAAU,WACRV,MACA,CAACA,IAEHU,qBAAU,WAGR,OAFAF,IACAH,OAAOM,iBAAiB,SAAUH,GAC3B,WACLH,OAAOO,oBAAoB,SAAUJ,MAEtC,IAEH,IAAMK,EAAYrJ,uBAAY,WAC5BiI,GAAY,SAACqB,GAAD,OAAUA,OACrB,CAACrB,IAEJ,OACE,4BAAQ1H,UAAWlB,GAAG,WACpB,yBAAKkB,UAAWlB,GAAG,CAAC,MAAO6I,GAAY,YACrC,yBAAK3H,UAAWlB,GAAG,cACjB,kBAAC,IAAD,CAAMkK,GAAI,KACR,0BAAMhJ,UAAWlB,GAAG,OAApB,QACA,0BAAMkB,UAAWlB,GAAG,OAApB,WAGJ,kBAAC,EAAD,CAAWM,SAAUA,IACpBuI,GACC,wBAAI3H,UAAWlB,GAAG,mBAAoBoB,QAAS4I,GAC7C,6BACA,6BACA,+BAGU,IAAbnB,GACC,yBAAK3H,UAAWlB,GAAG,uBACjB,yBAAKkB,UAAWlB,GAAG,kBACjB,kBAAC,IAAD,CAAMkK,GAAI,cACR,kBAAC,IAAD,MACA,4CAEF,kBAAC,IAAD,CAAMA,GAAI,sBACR,kBAAC,IAAD,MACA,oDAGJ,wBAAIhJ,UAAWlB,GAAG,eACf8D,EACC,oCACE,4BACE,8BACE,yBACEqG,IAAKtG,EAAQuG,KAAOvG,EAAQuG,KAAKC,UAAY,GAC7CC,IAAK,KACLlJ,QAAS4I,KAGb,yBAAK9I,UAAWlB,GAAG,gBAAD,UAAqB2I,EAAW,OAAS,MACzD,4BACE,wBAAIzH,UAAWlB,GAAG,kBAChB,kBAAC,IAAD,CAAMkK,GAAG,aAAT,uBAEF,wBAAIhJ,UAAWlB,GAAG,kBAChB,kBAAC,IAAD,CAAMkK,GAAG,WAAT,8BAEF,wBAAIhJ,UAAWlB,GAAG,iBAAkBoB,QAASiI,GAA7C,6BAEF,yBAAKnI,UAAWlB,GAAG,gBAKzB,oCACE,wBAAIkB,UAAWlB,GAAG,UAChB,kBAAC,IAAD,CAAMkK,GAAI,UAAV,uBAEF,4BACE,kBAAC,IAAD,CAAMA,GAAI,WAAV,qBAQbrB,GAAYF,GACX,wBAAIzH,UAAWlB,GAAG,yBAA0BoB,QAAS4I,GAClDlG,EACC,oCACE,wBAAI5C,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAG,aACP,kBAAC,IAAD,MADF,wBAIF,wBAAIhJ,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAG,WACP,kBAAC,IAAD,MADF,+BAIF,wBAAIhJ,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAI,cACR,kBAAC,IAAD,MADF,kBAIF,wBAAIhJ,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAI,sBACR,kBAAC,IAAD,MADF,yBAIF,wBAAIhJ,UAAWlB,GAAG,oBAAqBoB,QAASiI,GAC9C,kBAAC,IAAD,MADF,8BAKF,oCACE,wBAAInI,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAI,UACR,kBAAC,IAAD,MADF,wBAIF,wBAAIhJ,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAI,WACR,kBAAC,IAAD,MADF,kBAIF,wBAAIhJ,UAAWlB,GAAG,qBAChB,kBAAC,IAAD,CAAMkK,GAAI,sBACR,kBAAC,IAAD,MADF,6B,wCCpLVlK,GAAKC,IAAWC,KAAKC,MAaZoK,GAXA,WACb,OACE,4BAAQrJ,UAAWlB,GAAG,WACpB,yBAAKkB,UAAWlB,GAAG,iBACnB,0BAAMkB,UAAWlB,GAAG,gBAApB,kBACoBwK,OAASC,OAAO,W,oBCTpCzK,GAAKC,IAAWC,KAAKC,MA6BZuK,GA5BQ,WAAO,IAAD,EACHnK,oBAAS,GADN,mBACpBoK,EADoB,KACdC,EADc,KAErBC,EAAclK,uBAAY,WAC9B6I,OAAOsB,SAAS,EAAG,KAClB,IACGC,EAAepK,uBAAY,WAC/B,IAAMqK,EAAcxB,OAAOwB,YAEzBJ,EADEI,GAAe,OAKlB,IAOH,OANAnB,qBAAU,WAER,OADAL,OAAOM,iBAAiB,SAAUiB,GAC3B,WACLvB,OAAOO,oBAAoB,SAAUgB,MAEtC,CAACA,IAEF,4BACE7J,UAAWlB,GAAG,CAAC,kBAAmB2K,EAAO,OAAS,SAClDvJ,QAASyJ,GAFX,iB,oBCrBJpJ,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,IAeDoJ,GAAc,SAAClJ,GACnB,OAAOJ,IAAMkD,IAAN,kBAAqB9C,KASjBmJ,GAAU,SAACnJ,GAAD,MAAS,CAC9BV,KA1BsB,WA2BtB6B,QAAS+H,GAAYlJ,KAiBRwB,gBAAa,iBAAC,EA3CG,oBA6CR,SAACC,EAAOC,GAC1B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OANa,YAAC,EA1CG,oBAmDR,SAACV,EAAOC,GAE1B,MAAO,CACLQ,SAAS,EACTC,OAAO,EACPL,QAASJ,EAAOP,QAAQL,KAAKuH,SAdT,YAAC,EAzCG,oBA0DR,SAAC5G,EAAOC,GAC1B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OArBa,YAAC,EAtCU,2BA8DR,SAACV,EAAOC,GACjC,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OA5Ba,YAAC,EArCU,2BAoER,SAACV,EAAOC,GAAY,IAEnC0H,EACN1H,EAAOP,QADTL,KAAQsI,QAEV,OAAO,2BACF3H,GADL,IAEE4H,WAAYD,EACZlH,SAAS,EACTC,OAAO,OAvCa,YAAC,EApCU,2BA8ER,SAACV,EAAOC,GACjC,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OA9Ca,YAAC,EAjCY,6BAkFR,SAACV,EAAOC,GACnC,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OArDa,YAAC,EAhCY,6BAwFR,SAACV,EAAOC,GAAY,IAErC4H,EACN5H,EAAOP,QADTL,KAAQwI,UAEV,OAAO,2BACF7H,GADL,IAEE8H,aAAcD,EACdpH,SAAS,EACTC,OAAO,OAhEa,YAAC,EA/BY,6BAkGR,SAACV,EAAOC,GACnC,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAvEa,GAPP,CACnBD,SAAS,EACTC,OAAO,EACPL,QAAS,GACTuH,WAAY,GACZE,aAAc,K,oBC7CVtL,GAAKC,IAAWC,KAAKC,MACrBoL,GAAc,CAClBC,KAAM,sBACNC,UAAW,sBACXC,QAAS,sBA+HIC,GA5HD,SAAC,GAAgD,IAA9C5K,EAA6C,EAA7CA,aAAc6K,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,KAAMxK,EAAW,EAAXA,KAAW,EACxCd,mBAASc,GAD+B,mBACrD6I,EADqD,KACjD4B,EADiD,OAEpCvL,mBAAS,eAAKsL,IAFsB,mBAErD5E,EAFqD,KAE/C8E,EAF+C,KAGtDhD,EAAWC,cACTnF,EAAYoF,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAAzCrF,QAEFmI,EAAerL,uBAAY,SAACC,GAAO,IAC/BC,EAAWD,EAAXC,OACRiL,EAAMjL,EAAOoL,QAAQpL,EAAOqL,eAAepL,SAC1C,IAEGqL,EAAcxL,sBAAW,sBAC7B,4BAAAyI,EAAA,sDACUgB,EAASvG,EAATuG,KACR,IACErB,EAAS5F,EAAWiH,EAAKlI,MAAO2J,EAAKxG,IAAK6E,IAC1C,MAAOhG,GACPH,QAAQC,IAAIE,GALhB,2CAQA,CAAC2H,EAAM3B,EAAIrG,EAASkF,IAGhBqD,EAAczL,uBAClB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACRkL,EAAQ,2BACH9E,GADE,IAEL3B,MAAOzE,EAAOC,WAGlB,CAACmG,IAGGoF,EAAe1L,uBACnB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACRkL,EAAQ,2BACH9E,GADE,IAELzB,OAAQ3E,EAAOC,WAGnB,CAACmG,IAGGqF,EAAiB3L,uBACrB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACRkL,EAAQ,2BACH9E,GADE,IAEL1B,SAAU1E,EAAOC,WAGrB,CAACmG,IAGH,OACE,yBAAK/F,UAAU,mBACb,yBAAKA,UAAU,kBACf,yBAAKA,UAAU,SACb,uBAAGA,UAAWlB,GAAG,SACf,0BAAMuM,KAAK,MAAMC,aAAW,SAASpL,QAASwK,GAA9C,WAIDvK,EACC,oCACE,yBAAK8I,IAAK0B,EAAKY,UAAWnC,IAAKuB,EAAK9J,KACpC,yBAAKb,UAAWlB,GAAG,mBACjB,yBAAKkB,UAAWlB,GAAG,gBACjB,4DACA,uBAAGkB,UAAWlB,GAAG,mBAAoBuL,GAAYlK,KAEnD,4BACEH,UAAWlB,GAAG,UACdc,MAAOoJ,EACP1I,SAAUwK,GAEV,4BAAQlL,MAAO,aAAf,uBACA,4BAAQA,MAAO,WAAf,wBACA,4BAAQA,MAAO,QAAf,iBAEF,yBAAKI,UAAWlB,GAAG,qBACjB,4BAAQkB,UAAWlB,GAAG,UAAWoB,QAAS+K,GAA1C,gBAGA,4BAAQjL,UAAWlB,GAAG,cAAeoB,QAASwK,GAA9C,mBAON,yBAAK1K,UAAWlB,GAAG,wBACjB,yBAAKkB,UAAWlB,GAAG,kBACjB,yBAAKmK,IAAKlD,EAAKwF,UAAWnC,IAAKrD,EAAK3B,SAEtC,0BACEpE,UAAWlB,GAAG,kBACdmB,SAAUJ,EAAakG,IAEvB,2BACEnG,MAAOmG,EAAK3B,MACZhE,YAAY,eACZE,SAAU4K,IAEZ,2BACEtL,MAAOmG,EAAKzB,OACZlE,YAAY,eACZE,SAAU6K,IAEZ,8BACEvL,MAAOmG,EAAK1B,SACZjE,YAAY,eACZE,SAAU8K,IAEZ,4BAAQpL,UAAW,SAAUG,KAAK,UAAlC,qBCtHRrB,GAAKC,IAAWC,KAAKC,MAuJZuM,GAtJI,WAAO,IAAD,EACKnM,mBAAS,CACnCc,KAAM,EACNsL,WAAW,EACXC,QAAS,GACTf,KAAM,GACNvC,OAAQ,KANa,mBAChBuD,EADgB,KACRC,EADQ,KAQjB/D,EAAWC,cARM,EASSC,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDrF,EATe,EASfA,QAASC,EATM,EASNA,WACAsG,EAASnB,aAAY,SAACzF,GAAD,OAAWA,EAAM4G,QAA/CvG,QACFkJ,EAAWpM,sBAAW,sBAAC,gCAAAyI,EAAA,uDACrB/G,EAAM+F,MAEVW,EAAS9F,EAAMZ,IAEX2K,EAAMxD,OAAOC,SAASwD,KAAKC,MAAM,KACjCvK,EAAMqK,EAAIA,EAAI3G,OAAS,GAC7B0C,EAASmC,GAAQvI,IAPU,2CAQ1B,CAACoG,IACJc,qBAAU,WAGR,OAFAkD,IACAvD,OAAOsB,SAAS,EAAG,GACZ,eACN,CAACiC,IAEJ,IAgCMI,EAAiBxM,uBACrB,SAACgC,EAAKU,EAAKhC,GAAX,8CAAoB,WAAOT,GAAP,eAAAwI,EAAA,+EAEOL,EAAS3F,EAAaT,EAAKU,EAAKhC,IAFvC,OAEV+L,EAFU,OAMD,MADXA,EADFtM,MAASwI,QAGTyD,IAPc,gDAUhBhJ,QAAQC,IAAR,MAVgB,yDAApB,wDAaA,CAAC+E,EAAUgE,IAGPM,EAAa1M,uBACjB,SAACsG,GAAD,OAAU,SAACrG,GACTkM,EAAU,2BACLD,GADI,IAEPF,WAAW,EACXd,KAAM5E,QAGV,CAAC4F,IAEGjB,EAAejL,uBACnB,SAACC,GACCkM,EAAU,2BACLD,GADI,IAEPF,WAAW,OAGf,CAACE,IAEG9L,EAAeJ,uBACnB,SAACsG,GAAD,8CAAU,WAAOrG,GAAP,eAAAwI,EAAA,yDACRxI,EAAEI,kBACE8C,EAFI,0CAImBiF,GPGRlG,EOFJ,eACJoE,GPCkB,CACjC5F,KAvEuB,YAwEvB6B,QAASkC,EAAgBvC,MOTb,OAIEuK,EAJF,OAYW,MADXA,EADFtM,MAASwI,QAGTyD,IAbE,kDAgBJhJ,QAAQC,IAAR,MAhBI,kCPOU,IAACnB,IOPX,qBAAV,wDAoBA,CAACkG,EAAUgE,EAAUjJ,IAEf6I,EAAoBE,EAApBF,UAAWd,EAASgB,EAAThB,KACnB,OACE,6BAAS3K,UAAWlB,GAAG,gBACpB2M,EACC,kBAAC,GAAD,CACEf,aAAcA,EACd7K,aAAcA,EACd8K,KAAMA,IAEN,KACJ,6BACE,uBAAG3K,UAAWlB,GAAG,kBAAmBoK,EAAOA,EAAKlI,MAAQ,GAAxD,wBAEF,6BACE,+BACE,+BACE,4BACE,4CACA,4CACA,4CACA,4CACA,0DACQ,OAAP2B,QAAO,IAAPA,OAAA,EAAAA,EAASuG,OAAQA,GAAQA,EAAK/E,MAAQxB,EAAQuG,KAAK/E,IAClD,4CACE,OAGR,+BAtHS,WAAO,IAEZ,EADF+E,EAASvG,EAATuG,KACR,OAAIA,EACQ,OAAGA,QAAH,IAAGA,GAAH,UAAGA,EAAMkD,gBAAT,aAAG,EAAgBC,KAAI,SAAC1B,GAChC,OACE,wBAAI2B,IAAK3B,EAAKxG,KACZ,4BACE,kBAAC,IAAD,CAAM6E,GAAE,gBAAW2B,EAAKxG,MACtB,yBAAK8E,IAAK0B,EAAKY,UAAWnC,IAAKuB,EAAKY,cAGxC,4BACE,kBAAC,IAAD,CAAMvC,GAAE,gBAAW2B,EAAKxG,MAAQwG,EAAKvG,QAEvC,4BACGuG,EAAK4B,QAAQpH,OAAS,EAAtB,UACMwF,EAAK4B,QAAQ,GADnB,MAEG5B,EAAK4B,QAAQ,IAEnB,4BAAK5B,EAAKxE,MAAQkB,GAAOsD,EAAKxE,OAAS,GACvC,4BAAKmD,KAAOqB,EAAK6B,WAAWjD,OAAO,sCACnC,wBAAIvJ,UAAWlB,GAAG,sBAChB,uBAAGoB,QAASiM,EAAWxB,IAAvB,gBACA,uBAAGzK,QAAS+L,EAAe/C,EAAK/E,IAAKwG,EAAKxG,MAA1C,UAOH,KAwFO/E,Q,SC3JHqN,GCEK,SAAC,GAAsC,IAApCrI,EAAmC,EAAnCA,MAAOsI,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YACtC,OACE,kBAACF,GAAA,EAAD,KACGE,GAAe,0BAAMtM,KAAK,cAAcuM,QAASD,IACjDD,GAAY,0BAAMrM,KAAK,WAAWuM,QAASF,IAC5C,+BAAQtI,GACR,0BAAMyI,SAAS,WAAWD,QAASxI,IACnC,0BAAM/D,KAAK,gBAAgBuM,QAASxI,M,oBCNpCtF,GAAKgO,IAAU9N,KAAKC,MAYX8N,GAXK,WAClB,OACE,6BAAS/M,UAAWlB,GAAG,iBACrB,6BAASkB,UAAWlB,GAAG,UACrB,8CACA,8G,gGCPFA,GAAKC,IAAWC,KAAKC,MAIZ+N,GAHI,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpB,OAAO,yBAAKjN,UAAWlB,GAAG,gBAAiBmO,I,UCIvCnO,GAAKC,IAAWC,KAAKC,MAuDZiO,GAtDG,SAAC,GAAe,IAAD,EAAZrI,EAAY,EAAZA,MAAY,EACCxF,mBAAS,CACvC8N,MAAM,EACNC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,gBAAgB,EAChBC,UAAU,EACVC,cAAe,MATc,mBACxBC,EADwB,KACdC,EADc,KAWzBnF,EAAYhJ,uBAAY,WAC5B,IAAMiJ,EAAaJ,OAAOI,WAExBkF,EADElF,GAAc,GAAKA,GAAc,IACvB,2BACPiF,GADM,IAETL,aAAc,EACdC,eAAgB,IAET7E,GAAc,KAAOA,GAAc,KAChC,2BACPiF,GADM,IAETL,aAAc,EACdC,eAAgB,IAGN,2BACPI,GADM,IAETL,aAAc,EACdC,eAAgB,OAGnB,CAACI,IAQJ,OAPAhF,qBAAU,WAGR,OAFAF,IACAH,OAAOM,iBAAiB,SAAUH,GAC3B,WACLH,OAAOO,oBAAoB,SAAUJ,MAEtC,IAED,6BAASzI,UAAWlB,GAAG,qBACrB,kBAAC,KAAW6O,EAAZ,OACG9I,QADH,IACGA,GADH,UACGA,EAAOgJ,MAAM,EAAG,UADnB,aACG,EAAoBxB,KAAI,SAACtG,GAAD,OACvB,kBAAC,GAAD,CAAYuG,IAAKwB,gBACf,kBAAC,IAAD,CAAM9E,GAAE,gBAAWjD,EAAK5B,MACtB,yBAAK8E,IAAKlD,EAAKwF,UAAWnC,IAAKrD,EAAK3B,gB,8BC/C5CtF,GAAKC,IAAWC,KAAKC,MACrB8O,GAAOzF,OAAOC,SAASC,KAAKwF,SAAS,OAoG5BC,gBAdS,SAAC3L,GACvB,MAAO,CACLK,QAASL,EAAM0F,MAAMrF,QACrBY,QAASjB,EAAM0F,MAAMzE,YAGE,SAACsE,GAC1B,MAAO,CACL5F,WAAY,SAACjB,EAAOH,EAAIV,GAAZ,OACV0H,EAASqG,EAAmBlN,EAAOH,EAAIV,KACzC+B,aAAc,SAACrB,EAAIsB,EAAKhC,GAAV,OACZ0H,EAASqG,EAAqBrN,EAAIsB,EAAKhC,QAG9B8N,EAlGF,SAACE,GAAW,IACfC,EAAeD,EAAfC,KAAMjO,EAASgO,EAAThO,KADQ,EAEId,oBAAS,GAFb,mBAEfgP,EAFe,KAEPC,EAFO,KAYtB,GAAa,SAATF,EAAiB,CAAC,IACZrI,EAASoI,EAATpI,KACR,OACE,yBAAK/F,UAAWlB,GAAG,SACjB,yBAAKmK,IAAKlD,EAAKwF,UAAWnC,IAAI,SAC9B,2BAAIrD,EAAK3B,QAGR,GAAa,WAATgK,EAAmB,CAAC,IACrBrI,EAASoI,EAATpI,KACR,OACE,wBAAI/F,UAAWlB,GAAG,WAChB,yBAAKkB,UAAWlB,GAAG,aACjB,kBAAC,IAAD,CAAMkK,GAAE,gBAAWjD,EAAK5B,MACtB,yBAAK8E,IAAKlD,EAAKwF,UAAWnC,IAAI,WAGlC,yBAAKpJ,UAAWlB,GAAG,aACjB,kBAAC,IAAD,CAAMkK,GAAE,gBAAWjD,EAAK5B,MACtB,wBAAInE,UAAWlB,GAAG,cAAeiH,EAAK3B,QAExC,uBAAGpE,UAAWlB,GAAG,eA7BH,SAACyN,GACrB,IAAIhD,EAAS,GAIb,OAHAgD,EAAQgC,SAAQ,SAACC,GACfjF,GAAUiF,KAELjF,EAwBgCkF,CAAc1I,EAAKwG,UACpD,uBAAGvM,UAAWlB,GAAG,iBACdiH,GAAQA,EAAK1B,SACV0B,EAAK1B,SAASc,OAAS,IAAvB,UACKY,EAAK1B,SAASqK,OAAO,EAAG,KAD7B,OAEE3I,EAAK1B,SACP,oEAKP,GAAa,YAAT+J,EAAoB,CAAC,IAEpBrI,EACNoI,EADFpI,KAAQA,KAUJ4I,EAAa,WACjBL,GAAQ,SAACvF,GAAD,OAAUA,MAGpB,OACE,yBAAK/I,UAAWlB,GAAG,WACjB,kBAAC,IAAD,CAAMkK,GAAE,uBAAWjD,QAAX,IAAWA,OAAX,EAAWA,EAAM5B,MACvB,uBAAGnE,UAAWlB,GAAG,UAAjB,OAA4BiH,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAM3B,QAEnC2J,IACC,yBAAK/N,UAAWlB,GAAG,iBACjB,yBAAKkB,UAAWlB,GAAG,mBACjB,0BAAMkB,UAAWlB,GAAG,QAASoB,QAASyO,GACpC,kBAAC,IAAD,OAEDN,GAAU,kBAAC,GAAD,CAAOlO,KAAMA,EAAMwK,KAAM5E,EAAM2E,aAAciE,KAE1D,6BACE,0BAAM3O,UAAWlB,GAAG,UAAWoB,QA1BpB,SAACC,GAAD,OAAU,WAAO,IAElC+B,EAGEiM,EAHFjM,aACA6D,EAEEoI,EAFFpI,KAGF7D,EADIiM,EADFxL,QAAWuG,KAEK/E,IAAK4B,EAAK5B,IAAKhE,IAoBeyO,CAAazO,IACnD,kBAAC,IAAD,cC7ED0O,I,OANEC,sBAAW,WAAoBC,GAAO,IAAzBC,EAAwB,EAAxBA,KAAK/D,EAAmB,EAAnBA,YACjC,OAAO,4BAAQjL,UAAU,YAAYG,KAAK,SAAS4O,IAAKA,EAAK7O,QAAS+K,GACjE+D,O,qBCGDlQ,GAAKC,IAAWC,KAAKC,MA2EZgQ,GAzEEH,sBAAW,WAA4CC,GAAS,IAAlDX,EAAiD,EAAjDA,KAAMc,EAA2C,EAA3CA,SAAU/O,EAAiC,EAAjCA,KAAMgP,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,KAC/D,MAAa,SAAThB,EAEA,6BAASpO,UAAWlB,GAAG,cACpBoQ,EACU,iBAAT/O,GAAiB+O,EAAS/J,OAAS,EACjC,oCACG+J,EAAS7C,KAAI,SAACtG,GACb,OACE,kBAAC,IAAD,CAAMiD,GAAE,gBAAWjD,EAAK5B,KAAOmI,IAAKwB,gBAClC,kBAAC,GAAD,CAAM/H,KAAMA,EAAMqI,KAAMA,SAIpB,IAATgB,GACC,yBAAKpP,UAAWlB,GAAG,iBAAkBoB,QAASiP,GAC5C,kBAAC,GAAD,CAAUH,KAAM,uBAASD,IAAKA,MAKpC,oCACGG,EACEG,QAAO,SAACtJ,GAAD,oBAAUA,QAAV,IAAUA,GAAV,UAAUA,EAAMzB,cAAhB,aAAU,EAAc0J,SAAS7N,MACxCkM,KAAI,SAACtG,GACJ,OACE,kBAAC,IAAD,CAAMiD,GAAE,gBAAWjD,EAAK5B,KAAOmI,IAAKwB,gBAClC,kBAAC,GAAD,CAAM/H,KAAMA,EAAMqI,KAAMA,QAI/Bc,EAASG,QAAO,SAACtJ,GAAD,oBAAUA,QAAV,IAAUA,GAAV,UAAUA,EAAMzB,cAAhB,aAAU,EAAc0J,SAAS7N,MAAOgF,OACvD,IACS,IAATiK,GACAF,EAAS/J,OAAS,KAAO,GACvB,yBAAKnF,UAAWlB,GAAG,iBAAkBoB,QAASiP,GAC5C,kBAAC,GAAD,CAAUH,KAAM,uBAASD,IAAKA,MAMxC,kBAAC,eAAD,CAAaO,MAAM,QAAQC,KAAM,MAIrB,WAATnB,EAEP,6BAASpO,UAAWlB,GAAG,kBACrB,wBAAIkB,UAAWlB,GAAG,WACfoQ,EAAS7C,KAAI,SAACtG,GACb,OAAO,kBAAC,GAAD,CAAMA,KAAMA,EAAMqI,KAAMA,EAAM9B,IAAKwB,qBAE1CsB,GAAM,wBAAIpP,UAAU,iBACpB,kBAAC,GAAD,CAAUgP,KAAM,uBAASD,IAAKA,EAAK9D,YAAakE,OAMtC,YAATf,EAEP,iCACE,4BACGc,EAAS7C,KAAI,SAACtG,GACb,OAAO,kBAAC,GAAD,CAAMA,KAAMA,EAAMqI,KAAMA,EAAM9B,IAAKwB,eAAM3N,KAAMA,cALzD,K,uCC9DHrB,GAAKC,IAAWC,KAAKC,MCRZuQ,GDSQ,SAAC,GAAsB,IAApBpL,EAAmB,EAAnBA,MAAOS,EAAY,EAAZA,MAC/B,OACE,6BAAS7E,UAAWlB,GAAG,aACrB,uBAAGkB,UAAWlB,GAAG,wBACdsF,EACD,kBAAC,KAAD,CAAiBpE,UAAWlB,GAAG,aAAc2Q,KAAMC,QAErD,6BAAS1P,UAAWlB,GAAG,uBAAvB,OACG+F,QADH,IACGA,OADH,EACGA,EAAOwH,KAAI,SAACtG,GAAD,OACV,kBAAC,IAAD,CAAMuG,IAAKwB,eAAM9E,GAAE,gBAAWjD,EAAK5B,MACjC,kBAAC,GAAD,CAAM4B,KAAMA,EAAMqI,KAAM,gBER9BuB,GAAW,CACf,eACA,eACA,KACA,eACA,eACA,2BACA,eACA,eACA,eACA,gBAGI7Q,GAAKC,IAAWC,KAAKC,MAkGZ2Q,GAjGK,SAAC,GAQd,IAPLV,EAOI,EAPJA,SACAjE,EAMI,EANJA,YACAnG,EAKI,EALJA,YACAyB,EAII,EAJJA,YACAI,EAGI,EAHJA,aACAxG,EAEI,EAFJA,KACAiP,EACI,EADJA,KACI,EAEoB/P,oBAAS,GAF7B,mBAEGoK,EAFH,KAESC,EAFT,OAGoBrK,mBAAS,GAH7B,mBAGGqE,EAHH,KAGSmM,EAHT,KAIEhI,EAAWC,cAEf5C,EACE6C,aAAY,SAACzF,GAAD,OAAWA,EAAMuC,SAD/BK,YAGI4K,EAAcC,iBAAO,MAgB3B,OACE,6BAAS/P,UAAWlB,GAAG,iBACrB,kBAAC,GAAD,CAAW+F,MAAOC,IAClB,kBAAC,GAAD,CACEV,MAAO,yCACPS,MAAO0B,EAAYsH,MAAM,EAAG,MAE9B,kBAAC,GAAD,CAAgBzJ,MAAO,mCAAWS,MAAO8B,IACzC,6BAAS3G,UAAWlB,GAAG,kBACrB,6BAASkB,UAAWlB,GAAG,0BACrB,yBACEkB,UAAWlB,GAAG,CAAC,oBAAD,UAAyB2K,EAAI,kBAE3C,wBAAIzJ,UAAWlB,GAAG,qBACf2K,EACGkG,GAAS9B,MAAM,EAAG,GAAGxB,KAAI,SAAC1B,GAAD,OACvB,wBACE2B,IAAKwB,eACL9N,UAAWlB,GAAG,mBAAD,UAERqB,IAASwK,EAAT,WAA6B,KAElCzK,QAAS+K,EACT+E,aAAYrF,GAEXA,MAGLgF,GAAStD,KAAI,SAAC1B,GAAD,OACX,wBACE2B,IAAKwB,eACL9N,UAAWlB,GAAG,mBAAD,UAERqB,IAASwK,EAAT,WAA6B,KAElCzK,QAAS+K,EACT+E,aAAYrF,GAEXA,QAKb,yBAAK3K,UAAWlB,GAAG,kBAAmBoB,QA/C3B,WACjBwJ,GAAQ,SAACX,GAAD,OAAUA,OA+CTU,EAAO,sBAAS,qBACjB,kBAAC,KAAD,CACEzJ,UAAWlB,GAAG,QACd2Q,KAAMhG,EAAOwG,KAAcC,SAIjC,kBAAC,GAAD,CACEhB,SAAUA,EACVC,WAnEW,WACZjK,IACH2C,EAASrD,EAAY,eAAMd,EAAO,IAClCmM,EAAQnM,EAAO,IAEdoM,EAAYK,SACbL,EAAYK,QAAQC,QA8DhBhC,KAAM,OACNjO,KAAMA,EACNiP,KAAMA,EACNL,IAAKe,O,qBChHThR,GAAKC,IAAWC,KAAKC,MCHZoR,GDIC,WACd,OACE,6BAASrQ,UAAWlB,GAAG,YACrB,kBAAC,eAAD,CAAawQ,MAAM,QAAQC,KAAM,OEPxBe,GCYF,WAAO,IAAD,EACiBjR,oBAAS,GAD1B,mBACVkR,EADU,KACCC,EADD,OAEOnR,mBAAS,gBAFhB,mBAEVc,EAFU,KAEJsQ,EAFI,KAGX5I,EAAWC,cAHA,EAabC,aAAY,SAACzF,GAAD,OAAWA,EAAMuC,SAR/BK,EALe,EAKfA,YACAR,EANe,EAMfA,cACA0B,EAPe,EAOfA,cACAI,EARe,EAQfA,eACA3B,EATe,EASfA,MACAC,EAVe,EAUfA,YACAyB,EAXe,EAWfA,YACAI,EAZe,EAYfA,aAGFgC,qBAAU,WACR6H,GAAa,GACb3I,EAASrD,EAAY,eAAM,IAC3BqD,EtBuEiC,CACnC1H,KAzF8B,mBA0F9B6B,QAnCOvB,IAAMkD,IAAN,UAAaH,EAAb,mBsBrCLqE,EtB0EiC,CACnC1H,KAnF8B,mBAoF9B6B,QAxBOvB,IAAMkD,IAAN,UAAaH,EAAb,mBsBnDLqE,EtB6EkC,CACpC1H,KA5F+B,oBA6F/B6B,QAzBOvB,IAAMkD,IAAN,UAAaH,EAAb,oBsBrDLgN,GAAa,KACZ,CAAC3I,IACJ,IAAMoD,EAAcxL,uBAClB,SAACC,GAAO,IAEMgR,EACRhR,EADFC,OAAU+Q,QAEZD,EAAQC,EAAQ9Q,SAElB,CAAC6Q,IAGH,OACE,8BACE,kBAAC,GAAD,CACErM,MAAK,mBACLuI,YACE,qLAEFD,SAAQ,2EAET6D,GAAa7L,GAAiB0B,GAAiBI,EAC9C,kBAAC,GAAD,MAEA,oCACE,kBAAC,GAAD,MACA,kBAAC,GAAD,CACE0I,SAAUrK,EACVC,YAAaA,EACbyB,YAAaA,EACbI,aAAcA,EACdsE,YAAaA,EACbmE,KAAMlK,EACN/E,KAAMA,O,yCC/DZrB,GAAKC,IAAWC,KAAKC,MAeZ0R,GAdK,SAAC,GAAc,IAAZxQ,EAAW,EAAXA,KACrB,OACE,yBAAKH,UAAWlB,GAAG,iBACjB,4BAAc,UAATqB,EAAmB,qBAAQ,4BAChC,4BAAQH,UAAWlB,GAAG,SAAU,WAC9B,0BAAMkB,UAAWlB,GAAG,SAClB,kBAAC,IAAD,OAEF,gFCPFA,GAAKC,IAAWC,KAAKC,MA8CZ2R,GA7CG,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,aAAiD,KAAnCC,cAAmC,EAApBC,cACtB1R,mBAAS,KADiC,mBAC7D2B,EAD6D,KACtDgQ,EADsD,OAEpC3R,mBAAS,IAF2B,mBAE7D4B,EAF6D,KAEnDgQ,EAFmD,KAG9DpR,EAAeJ,uBACnB,SAACC,GACCA,EAAEI,iBACF+Q,EAAa7P,EAAOC,KAEtB,CAACD,EAAOC,EAAU4P,IAEdK,EAAczR,uBAAY,SAACC,GAC/BsR,EAAStR,EAAEC,OAAOC,SACjB,IACGuR,EAAiB1R,uBAAY,SAACC,GAClCuR,EAAYvR,EAAEC,OAAOC,SACpB,IACH,OACE,oCACE,yBAAKI,UAAWlB,GAAG,aAAc,mBAC/B,kBAAC,GAAD,CAAaqB,KAAK,UAClB,0BAAMF,SAAUJ,GACd,2BACEM,KAAK,QACLP,MAAOoB,EACPV,SAAU4Q,EACV9Q,YAAY,qBACZgR,UAAQ,IAEV,2BACEjR,KAAK,WACLP,MAAOqB,EACPX,SAAU6Q,EACV/Q,YAAY,2BACZgR,UAAQ,IAEV,2BAAOjR,KAAK,SAASP,MAAM,wBAE7B,kBAAC,IAAD,CAAMoJ,GAAG,WACP,oD,qBC1CJlK,GAAKC,IAAWC,KAAKC,MCFZoS,GDGA,SAAC,GAAwB,IAAtBlR,EAAqB,EAArBA,KAAM8M,EAAe,EAAfA,SACtB,OAAO,yBAAKjN,UAAWlB,GAAG,CAAC,mBAAoBqB,KAAS8M,IEG1D1M,IAAOC,SACP,I,GAuCe8Q,GAvCD,WAAO,IAAD,EAC6CvJ,aAC7D,SAACzF,GAAD,OAAWA,EAAM0F,SADXpF,EADU,EACVA,WAAYJ,EADF,EACEA,aAAcE,EADhB,EACgBA,aAAcD,EAD9B,EAC8BA,WAG1CoF,EAAWC,cAIXyJ,EAAW,uCAAG,WAAOvQ,EAAOC,GAAd,mBAAAiH,EAAA,+EAINL,E5B8EkB,CAChC1H,KAtFmB,QAuFnB6B,QAASpB,E4BhFoBI,EAAOC,KAJhB,oBAGdrB,MAAS+B,EAHK,EAGLA,KAEI,MALC,EAGCyG,SANJoJ,EASH7P,EAAK8P,MARjBtK,aAAauK,QAAQ,MAAOF,IAEV,kDAShB3O,QAAQC,IAAR,MATgB,kCAHJ,IAAC0O,IAGG,qBAAH,wDAYjB,OAAmB,IAAf5O,EACK,kBAAC,IAAD,CAAUoG,GAAI,MAGrB,oCACE,kBAAC,GAAD,CAAQ5E,MAAK,sBACZ3B,GACC,kBAAC,GAAD,CAAQtC,KAAM,SAAd,uIAIF,kBAAC,GAAD,CACE0Q,aAAcU,EACdR,cAAevO,EACfsO,cAAepO,MCtCjB5D,GAAKC,IAAWC,KAAKC,MAqEZ0S,GApEI,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAAmB,EACbvS,mBAAS,IADI,mBAChC2B,EADgC,KACzBgQ,EADyB,OAEP3R,mBAAS,CACvCwS,GAAI,GACJC,GAAI,KAJiC,mBAEhC7Q,EAFgC,KAEtBgQ,EAFsB,KAajCC,EAAczR,uBAAY,SAACC,GAAO,IAC9BC,EAAWD,EAAXC,OACRqR,EAASrR,EAAOC,SACf,IACGmS,EAAkBtS,uBACtB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACRsR,EAAY,2BACPhQ,GADM,IAET4Q,GAAIlS,EAAOC,WAGf,CAACqB,IAEG+Q,EAAkBvS,uBACtB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACRsR,EAAY,2BACPhQ,GADM,IAET6Q,GAAInS,EAAOC,WAGf,CAACqB,IAEH,OACE,6BAASjB,UAAWlB,GAAG,cAAe,mBACpC,kBAAC,GAAD,CAAaqB,KAAK,WAClB,0BAAMF,SAlCW,SAACP,GACpBA,EAAEI,iBADwB,IAElB+R,EAAW5Q,EAAX4Q,GACJA,IADe5Q,EAAP6Q,IAEVF,EAAa5Q,EAAO6Q,KA+BlB,2BACE1R,KAAK,QACLP,MAAOoB,EACPV,SAAU4Q,EACV9Q,YAAY,qBACZgR,UAAQ,IAEV,2BACEjR,KAAK,WACLP,MAAOqB,EAAS4Q,GAChBvR,SAAUyR,EACV3R,YAAY,2BACZgR,UAAQ,IAEV,2BACEjR,KAAK,WACLP,MAAOqB,EAAS6Q,GAChBxR,SAAU0R,EACV5R,YAAY,8CACZgR,UAAQ,IAEV,2BAAOjR,KAAK,SAASP,MAAM,oBCjEnCW,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,IAKDsR,GAAgB,SAACjR,EAAOC,GAC5B,OAAOR,IAAMM,KAAK,SAAU,CAC1BC,MAAOA,EACPC,SAAUA,KAGDiR,GAAa,SAAClR,EAAOC,GAAR,MAAsB,CAC9Cd,KAZoB,SAapB6B,QAASiQ,GAAcjR,EAAOC,KAOjBoB,gBAAa,kBAAC,GAnBC,kBAqBR,SAACC,EAAOC,GACxB,MAAO,CACL4P,gBAAgB,EAChBC,gBAAgB,EAChBC,cAAc,MANM,YAAC,GAlBC,kBA2BR,SAAC/P,EAAOC,GACxB,MAAO,CACL4P,gBAAgB,EAChBC,gBAAgB,MAZI,YAAC,GAjBC,kBAgCR,SAAC9P,EAAOC,GACxB,MAAO,CACL4P,gBAAgB,EAChBE,cAAc,MAlBM,IALP,CACnBF,gBAAgB,EAChBC,gBAAgB,EAChBC,cAAc,ICnBhB9R,IAAOC,SAEP,I,GAgCe8R,GAhCA,SAAC,GAAiB,IAAfnT,EAAc,EAAdA,QACV0I,EAAWC,cADa,EAE2BC,aACvD,SAACzF,GAAD,OAAWA,EAAMiQ,UADXJ,EAFsB,EAEtBA,eAAgBC,EAFM,EAENA,eAAgBC,EAFV,EAEUA,aAGhCzP,EAAemF,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAA5CpF,WACFgP,EAAY,uCAAG,WAAO5Q,EAAOwR,GAAd,SAAAtK,EAAA,sDACnBL,EAASqK,GAAWlR,EAAOwR,IADR,2CAAH,wDAGlB,OAAI5P,EAEA,kBAAC,IAAD,CACEoG,GAAmD,qBAIrDoJ,EACK,kBAAC,IAAD,CAAUpJ,GAAG,WAGpB,oCACE,kBAAC,GAAD,CAAQ5E,MAAK,uBACb,kBAAC,GAAD,CACEjF,QAASA,EACTyS,aAAcA,EACdO,eAAgBA,EAChBC,eAAgBA,EAChBC,aAAcA,M,oBC5BhBI,GAAe,SAAC,GAA6B,IACxB,IAgBlB,QAjBerE,EAA0B,EAA1BA,KAAMzL,EAAoB,EAApBA,QAASxC,EAAW,EAAXA,KACrC,MAAa,aAATA,EACKiO,EAAKJ,SAAS,OACnBrL,IAAW,UAAAA,EAAQxC,UAAR,eAAegF,QAAS,EACjC,6BACE,kBAAC,GAAD,CAAU+J,SAAUvM,EAAQxC,GAAOiO,KAAK,UAAUjO,KAAMA,KAG1D,uBAAGH,UAAWlB,KAAG,iBAAjB,0EAEA6D,IAAW,UAAAA,EAAQxC,UAAR,eAAegF,QAAS,EACrC,6BACE,kBAAC,GAAD,CAAU+J,SAAUvM,EAAQxC,GAAOiO,KAAK,aAG1C,uBAAGpO,UAAWlB,KAAG,iBAAjB,0EAGKsP,EAAKJ,SAAS,OACnBrL,IAAkB,OAAPA,QAAO,IAAPA,GAAA,UAAAA,EAASyJ,gBAAT,eAAmBjH,QAAS,EACrC,yBAAKnF,UAAWlB,KAAG,kBAAnB,OACG6D,QADH,IACGA,GADH,UACGA,EAASyJ,gBADZ,aACG,EAAmBC,KAAI,SAACtG,GACvB,OACE,yBAAK/F,UAAWlB,KAAG,wBAAyBwN,IAAKwB,gBAC/C,yBACE9N,UAAWlB,KAAG,gBACdmK,IAAKlD,EAAKwF,UACVnC,IAAKrD,EAAKwF,YAEZ,yBAAKvL,UAAWlB,KAAG,cACjB,kBAAC,IAAD,CAAMkK,GAAE,gBAAWjD,EAAK5B,MAAQ4B,EAAK3B,aAO/C,uBAAGpE,UAAWlB,KAAG,iBAAjB,0EAEA6D,IAAkB,OAAPA,QAAO,IAAPA,GAAA,UAAAA,EAASyJ,gBAAT,eAAmBjH,QAAS,EACzC,yBAAKnF,UAAWlB,KAAG,kBAAnB,OACG6D,QADH,IACGA,GADH,UACGA,EAASyJ,gBADZ,aACG,EAAmBC,KAAI,SAACtG,GACvB,OACE,yBAAK/F,UAAWlB,KAAG,wBAAyBwN,IAAKwB,gBAC/C,yBACE9N,UAAWlB,KAAG,gBACdmK,IAAKlD,EAAKwF,UACVnC,IAAKrD,EAAKwF,YAEZ,yBAAKvL,UAAWlB,KAAG,cACjB,kBAAC,IAAD,CAAMkK,GAAE,gBAAWjD,EAAK5B,MAAxB,yCAOV,uBAAGnE,UAAWlB,KAAG,iBAAjB,2ECjES4T,GDsEC,SAAC,GAA6C,IAAhCnK,EAA+B,EAA1CpJ,QAAWoJ,SAAW6F,EAAoB,EAApBA,KAAMzL,EAAc,EAAdA,QAAc,EAC3BtD,oBAAS,GADkB,mBACpDsT,EADoD,KAC3CnC,EAD2C,KAEnDzN,EAAYgF,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAAzCjF,QACU6P,EAAgB7K,aAChC,SAACzF,GAAD,OAAWA,EAAM4G,QADVnG,QAGH8E,EAAWC,cAEX+K,EAAapT,sBAAW,uCAC5B,WAAOoB,GAAP,SAAAqH,EAAA,sDACE,IACEL,EAASmC,GAAQnJ,IACjB,MAAOmC,GACPH,QAAQC,IAAIE,GAJhB,2CAD4B,sDAQ5B,CAAC6E,IAYH,OATAc,qBAAU,WAER,GADA6H,GAAa,GACTjI,EAASuK,SAAS9E,SAAS,OAAQ,CACrC,IAAMvM,EAAM8G,EAASuK,SAASC,UAAU,GAAG/G,MAAM,KAAK,GACtD6G,EAAWpR,GAEb+O,GAAa,KACZ,CAACqC,EAAYtK,EAASuK,WAGvB,oCACGH,GAAW5P,GAAW6P,EACrB,kBAAC,GAAD,MAEA,iCACE,6BAAS5S,UAAWlB,KAAG,aACrB,yBAAKkB,UAAWlB,KAAG,kBACP,QAATsP,EACG,kBAAC,IAAD,CACIpF,GACArG,GAAWA,EAAQwB,IAAnB,iBACYxB,EAAQwB,KADpB,KAKF,iEAGF,iEAGN,yBACInE,UAAWlB,KAAG,kBAEhB,kBAAC,GAAD,CACEsP,KAAMA,EACNzL,QAASA,EACTxC,KAAM,eAIZ,6BAASH,UAAWlB,KAAG,cACrB,yBAAKkB,UAAWlB,KAAG,mBACjB,oDAEK6D,GAAWA,EAAQ4H,UAClB5H,EAAQ4H,UAAUpF,OAChB,EAJR,MAQF,yBAAKnF,UAAWlB,KAAG,mBACjB,kBAAC,GAAD,CACEsP,KAAMA,EACNzL,QAASA,EACTxC,KAAM,eAGV,+BAEF,6BAASH,UAAWlB,KAAG,sBACrB,yBAAKkB,UAAWlB,KAAG,mBACjB,8EAEG6D,GAAWA,EAAQ6H,QAAnB,OACG7H,QADH,IACGA,OADH,EACGA,EAAS6H,QAAQrF,OACjB,EAJN,MAOF,yBAAKnF,UAAWlB,KAAG,mBACjB,kBAAC,GAAD,CACEsP,KAAMA,EACNzL,QAASA,EACTxC,KAAM,cAIZ,6BAASH,UAAWlB,KAAG,SACrB,yBAAKkB,UAAWlB,KAAG,cACjB,oDAEG6D,GAAWA,EAAQ2H,KAChB3H,EAAQ2H,KAAKnF,OACb,EAJN,MAOF,yBAAKnF,UAAWlB,KAAG,cACjB,kBAAC,GAAD,CAAcsP,KAAMA,EAAMzL,QAASA,EAASxC,KAAM,c,oDE5K1DrB,GAAKC,IAAWC,KAAKC,MACrB+T,GAAS,CAAC,IAAK,IAAK,IAAK,IAAK,KAC9BC,GAAY,CAChB3D,MAAO,UACP4D,OAAQ,WAyCKC,GAvCD,SAAC,GAA+B,IAA7BpN,EAA4B,EAA5BA,KAAMqN,EAAsB,EAAtBA,SAAUjN,EAAY,EAAZA,MAAY,EACX4B,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDpF,EADmC,EACnCA,WAAYD,EADuB,EACvBA,QACd0Q,EAAa5T,sBAAW,uCAC5B,WAAOwE,GAAP,iBAAAiE,EAAA,6DACU/D,EAAQ4B,EAAR5B,IAEEnD,EACN2B,EADFuG,KAAQlI,MAHZ,SAKQoS,EAASjP,EAAKnD,EAAOiD,GAL7B,2CAD4B,sDAQ5B,CAAC8B,EAAMpD,EAASyQ,IAEZE,EAAgB7T,uBACpB,SAACC,GAEC,IADA,IAAI6T,EAAc7T,EAAEC,OACY,QAAzB4T,EAAYC,UACjBD,EAAcA,EAAYE,WAE5B,IAAMC,EAASH,EAAY7C,QAAQgD,OAC/B9Q,EAAYyQ,EAAWK,GACtBC,MAAM,iFAEb,CAAC/Q,EAAYyQ,IAEf,OACE,yBAAKrT,UAAWlB,GAAG,UAChBkU,GAAO3G,KAAI,SAACzM,EAAOgU,GAClB,OACE,kBAAC,IAAD,CACEtH,IAAKsH,EACLC,cAAaD,EAAM,EACnB1T,QAASoT,EACTrU,MAAOkH,GAASyN,EAAM,EAAIX,GAAY,U,qBCxClD1S,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEC,I,GAyBDmT,GAAoB,WAA0B,IAAzBC,EAAwB,uDAAhB,EAAGrQ,EAAa,uDAAN,EAC3C,OAAOjD,IAAMkD,IAAN,wBAA2BoQ,EAA3B,iBAAyCrQ,KAM5CsQ,GAAoB,SAACnT,EAAIR,EAAMuM,EAAS7G,GAE5C,OAAOtF,IAAMM,KAAN,eAAmBF,EAAnB,WAAgC,CACrCR,OACAuM,UACA7G,UAIEkO,GAAoB,SAACpS,EAAK+K,GAC9B,OAAOnM,IAAMM,KAAN,sBAA0Bc,GAAO,CACtC+K,aAIEsH,GAAoB,SAAC/T,EAAMU,EAAIY,GACnC,OAAOhB,IAAMM,KAAN,cAA0B,CAC/BZ,OACAU,KACAY,SAGS0S,GAAa,SAACxS,GAAD,MAAW,CACnCxB,KAvDyB,cAwDzB6B,QAAS8R,GAAkBnS,EAAKoS,MAAOpS,EAAK+B,QAEjC0Q,GAAY,SAACC,GAAD,MAAW,CAClClU,KAtDwB,aAuDxB6B,SAhCwBnB,EAgCEwT,EA9BnB5T,IAAMkD,IAAN,eAAkB9C,EAAlB,cAFgB,IAACA,GAkCbyT,GAAa,SAACD,EAAMhU,EAAMuM,EAAS7G,GAAtB,MAAgC,CACxD5F,KArDyB,cAsDzB6B,QAASgS,GAAkBK,EAAMhU,EAAMuM,EAAS7G,KAGrCwO,GAAa,SAAC1S,EAAK+K,GAAN,MAAmB,CAC3CzM,KArDyB,cAsDzB6B,QAASiS,GAAkBpS,EAAK+K,KAErB4H,GAAW,SAACrU,EAAMU,EAAIY,GAAX,MAAoB,CAC1CtB,KApDyB,cAqDzB6B,QAASkS,GAAkB/T,EAAMU,EAAIY,KAiBxBY,gBAAa,kBAAC,GAzFM,uBA2FR,SAACC,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEmS,oBAAoB,EACpBC,kBAAkB,EAClBC,oBAAoB,EACpBC,iBAAiB,OARG,YAAC,GAxFM,uBAmGR,SAACtS,EAAOC,GAAY,IAAD,EAGpCA,EAAOP,QADTL,KAAQkT,EAF8B,EAE9BA,QAASnR,EAFqB,EAErBA,KAAMoR,EAFe,EAEfA,QAEzB,OAAO,2BACFxS,GADL,IAEEuS,QACqB,IAAnBxP,SAAS3B,GAAT,sBAA2BpB,EAAMuS,SAAjC,YAA6CA,IAA7C,YAA4DA,GAC9DJ,oBAAoB,EACpBE,oBAAoB,EACpBG,eArBoB,YAAC,GAvFM,uBA+GR,SAACxS,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEmS,oBAAoB,EACpBC,kBAAkB,EAClBE,iBAAiB,OA7BG,YAAC,GA/EM,uBA+GR,SAACtS,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEyS,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,OArCG,YAAC,GA9EM,uBAsHR,SAAC3S,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEuS,QAAStS,EAAOP,QAAQL,KAAKkT,QAC7BE,mBAAmB,EACnBC,mBAAmB,OA7CC,YAAC,GA7EM,uBA6HR,SAAC1S,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEyS,mBAAmB,EACnBE,iBAAiB,OApDG,YAAC,GApFK,sBA2IR,SAAC3S,EAAOC,GAC5B,OAAO,2BACFD,GADL,IAEEU,OAAO,EACPD,SAAS,EACTQ,SAAS,OA5DW,YAAC,GAnFK,sBAkJR,SAACjB,EAAOC,GAC5B,MAAO,CACLsS,QAAStS,EAAOP,QAAQL,KAAKkT,QAC7B7R,OAAO,EACPD,SAAS,EACTQ,SAAS,MApEW,YAAC,GAlFK,sBAyJR,SAACjB,EAAOC,GAC5B,MAAO,CACLS,OAAO,EACPD,SAAS,EACTQ,SAAS,MA3EW,YAAC,GA1EM,uBAwJR,SAACjB,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,EACPO,SAAS,OAnFW,YAAC,GAzEM,uBA+JR,SAACjB,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEEuS,QAAStS,EAAOP,QAAQL,KAAKkT,QAC7B9R,SAAS,EACTC,OAAO,EACPO,SAAS,OA5FW,YAAC,GAxEM,uBAuKR,SAACjB,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,EACPO,SAAS,OApGW,YAAC,GArEM,uBA6KR,SAACjB,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OA5Ga,YAAC,GApEM,uBAmLR,SAACV,EAAOC,GAAY,IAE/B2S,EACN3S,EAAOP,QADTL,KAAQuT,OAGNtB,GAAO,EACXtR,EAAMuS,QAAQtG,SAAQ,SAAC5D,EAAMrD,GACvBqD,EAAKxG,MAAQ+Q,EAAO/Q,MACtByP,EAAMtM,MAGVhF,EAAMuS,QAAQjB,GAAOsB,EACrB,IAAMC,EAAiB7S,EAAMuS,QAC7B,OAAO,2BACFvS,GADL,IAEES,SAAS,EACTC,OAAO,EACPO,SAAS,EACTsR,QAAQ,YAAKM,QAjIO,YAAC,GAnEM,uBAuMR,SAAC7S,EAAOC,GAC7B,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAxIa,IAdP,CACnB6R,QAAS,GACT9R,SAAS,EACTQ,SAAS,EACTP,OAAO,EACPyR,oBAAoB,EACpBC,kBAAkB,EAClBC,oBAAoB,EACpBC,iBAAiB,EACjBE,SAAS,EACTC,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,ICrFbnW,GAAKC,IAAWC,KAAKC,MAsKZmW,GArKA,WAAO,IAAD,EACO/V,mBAAS,IADhB,mBACZgW,EADY,KACLC,EADK,OAEKjW,oBAAS,GAFd,mBAEZkW,EAFY,KAENC,EAFM,KAGbC,EAAY1F,iBAAO,MAEnBlI,GADUkI,iBAAO,MACNjI,eALE,EAMiBC,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAAzDpF,EANW,EAMXA,WAAqB8S,EANV,EAMC/S,QACZkS,EAAY9M,aAAY,SAACzF,GAAD,OAAWA,EAAM4S,UAAzCL,QACA9O,EAASgC,aAAY,SAACzF,GAAD,OAAWA,EAAMuC,SAAtCkB,KACFkC,EAAYxI,sBAAW,sBAAC,4BAAAyI,EAAA,sDAE5B,GADM/G,EAAM+F,IAEV,IACEW,EAAS9F,EAAMZ,IACf,MAAO6B,GACPH,QAAQC,IAAIE,GANY,2CAS3B,CAAC6E,IACE8N,EAAmBlW,sBAAW,uCAClC,WAAOmN,GAAP,eAAA1E,EAAA,sDAEYlH,EACN0U,EADFxM,KAAQlI,MAEV,IACE6G,EAASyM,GAAWvO,EAAK5B,IAAKnD,EAAO4L,EAAS7G,IAC9CkC,IACA,MAAOjF,GACPH,QAAQC,IAAIE,GARhB,2CADkC,sDAYlC,CAAC+C,EAAMkC,EAAWJ,EAAU6N,IAExBE,EAAenW,uBAAY,SAACC,GAAO,IAC/BC,EAAWD,EAAXC,OACR2V,EAAS3V,EAAOC,SACf,IACGC,EAAeJ,uBACnB,SAACC,GACCA,EAAEI,iBACE8C,EACEyS,EAAMlQ,OAAS,IACjBwQ,EAAiBN,GACjBC,EAAS,KAGX3B,MAAM,6DAGV,CAAC/Q,EAAYyS,EAAOM,IAGhBE,EAAiBpW,sBAAW,uCAChC,WAAOU,EAAMU,EAAIlB,GAAjB,iBAAAuI,EAAA,+EAIcL,EAAS2M,GAASrU,EAAMU,EAAP,OAAW6U,QAAX,IAAWA,GAAX,UAAWA,EAAIxM,YAAf,aAAW,EAAU/E,MAJpD,gBAKmB,MALnB,EAGMvE,MAASwI,SAGTzI,EAAOV,MAAM6W,KAAO,OACpB7N,KAPN,gDAUIpF,QAAQC,IAAR,MAVJ,yDADgC,0DAchC,CAAC+E,EAAU6N,EAAIzN,IAEX8N,EAAatW,uBACjB,SAACC,GAAO,IACEsW,EAA0BtW,EAA1BsW,cAAerW,EAAWD,EAAXC,OACjBkB,EAAKmV,EAAcC,aAAa,cACtCJ,EAAe,OAAQhV,EAAIlB,KAE7B,CAACkW,IAEGK,EAAazW,uBAAY,WAC7B+V,GAAQ,SAACzM,GAAD,OAAUA,OACjB,IAmBGoN,EAAY,SAAC,GAAc,IAAZxL,EAAW,EAAXA,KACnB,OACE,6BAAS2B,IAAKwB,eAAM9N,UAAWlB,GAAG,gBAChC,6BACE,kBAAC,IAAD,CAAMkK,GAAI2B,EAAKyL,SAAL,mBAA4BzL,EAAKyL,SAASjS,IAA1C,UAAwD,IAChE,yBACEnE,UAAWlB,GAAG,YACdmK,IAAK0B,EAAKyL,SAAWzL,EAAKyL,SAASjN,UAAY,GAC/CC,IAAKuB,EAAKyL,SAAWzL,EAAKyL,SAASjN,UAAY,KAEjD,0BAAMnJ,UAAWlB,GAAG,SACjB6L,EAAKyL,SAAWzL,EAAKyL,SAASpV,MAAQ,MAI7C,0BAAMhB,UAAWlB,GAAG,SACjB6L,EAAK6B,UACFlD,KAAOqB,EAAK6B,WAAWjD,OAAvB,yCACA,IAEN,6BAAStK,MAAO,CAAEoX,UAAW,SAC3B,uBAAGrW,UAAWlB,GAAG,iBACbyW,GAAQ5K,EAAKiC,QAAQzH,OAAS,GAA/B,UACMwF,EAAKiC,QAAQ8B,OAAO,EAAG,IAD7B,OAEG/D,EAAKiC,SAEVjC,EAAKiC,QAAQzH,OAAS,IACrB,uBAAGnF,UAAWlB,GAAG,QAASoB,QAASgW,GAC/BX,EAAe,qBAAR,uBAIf,yBAAKvV,UAAWlB,GAAG,kBACjB,0BACEkB,UAAWlB,GAAG,SACdoB,QAAS6V,EACT/F,aAAYrF,EAAKxG,KAEjB,kBAAC,IAAD,OAEF,8BAAOwG,EAAK2L,MAAMnR,OAAlB,0BAKR,OACE,6BAASnF,UAAWlB,GAAG,WACrB,uBAAGkB,UAAWlB,GAAG,iBAAjB,gBACA,6BAASkB,UAAWlB,GAAG,mBACrB,0BAAMmB,SAAUJ,GACd,8BACEO,YAAY,iEACZE,SAAUsV,EACVW,QAvEa,SAAC7W,GAAO,IACrBC,EAAgBD,EAAhBC,OAAQ2M,EAAQ5M,EAAR4M,IACY,IAAxB3M,EAAOC,MAAMuF,OAAcxF,EAAOV,MAAMuX,OAAb,OAE7B7W,EAAOV,MAAMuX,OAAb,OAEU,cAARlK,GACFzJ,QAAQC,IAAInD,EAAO8W,cACf9W,EAAO8W,cAAgB,IACzB9W,EAAOV,MAAMuX,OAAb,UAAyB7W,EAAO8W,aAAhC,MAEA9W,EAAOV,MAAMuX,OAAb,UAAyB,IAAzB,QAGF7W,EAAOV,MAAMuX,OAAb,UAAyB7W,EAAO8W,aAAhC,MAC4B,IAAxB9W,EAAOC,MAAMuF,SAAcxF,EAAOV,MAAMuX,OAAb,UAyDzB5W,MAAOyV,EACPqB,UAAW,MAEb,2BAAOvW,KAAK,SAASP,MAAM,eAAKmP,IAAK0G,MAGzC,6BAASzV,UAAWlB,GAAG,wBACpB+V,EACGA,EAAQxI,KAAI,SAAC1B,GAAD,OAAU,kBAACwL,EAAD,CAAW7J,IAAKwB,eAAMnD,KAAMA,OAClD,Q,8BCzKN7L,GAAKC,IAAWC,KAAKC,MAgHZ0X,GA/GM,SAAC,GAAe,IAAbxQ,EAAY,EAAZA,MAChByQ,EAAS7G,mBADmB,EAEN1Q,mBAAS,MAFH,mBAE3BwX,EAF2B,KAEnBC,EAFmB,KAI5BC,EAAStX,uBAAY,WAazB,IAbgC,IAAD,EAQ3BmX,EAAOzG,QACL6G,EAAiB,GAAjBA,EAA0B,GAC1BtO,EAVyB,EAE7BuO,MACEC,QAAWtX,MAOiBoX,EADW,GAErCG,EAXyB,EAK7BX,OACEU,QAAWtX,MAKmBoX,EAFqB,GAGjDrV,EAAO,GAZkB,WAatB2F,GACP,IAAMwE,EAAM3F,EAAMkJ,QAAO,SAAC+H,GAAD,OAAO/R,SAAS+R,EAAEnT,QAAUqD,KACrD3F,EAAK5B,KAAK,CAAEsX,KAAM/P,EAAGgQ,MAAOxL,EAAI3G,UAFzBmC,EAAI,EAAGA,GAAK,EAAGA,IAAM,EAArBA,GAIT,IAAMiQ,EAASC,eACZC,MAAM,CAAC,EAAG/O,IACVgP,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,IACpBC,aAAa,IACVC,EAASC,eACZJ,MAAM,CAACN,EAAa,IACpBO,OAAO,CACN,EACAI,aAAInW,GAAM,SAACoW,GAAD,OACR1S,SAAS0S,EAAC,OAAa,EAAI,EAAID,aAAInW,GAAM,SAACoW,GAAD,OAAO1S,SAAS0S,EAAC,eAI1DC,EADMC,aAAOrB,EAAOzG,SAEvB+H,OAAO,KACPC,KAAK,QAAS,SACdA,KAAK,YAHE,oBAGwBnB,EAHxB,YAGuCA,EAHvC,MAIIgB,EACXE,OAAO,KACPC,KAAK,QAAS,SACdA,KAAK,YAAa,oBAClBC,aACAC,SAAS,KACNC,KAAKC,aAAWhB,IACRS,EACXE,OAAO,KACPC,KAAK,QAAS,SACdA,KAAK,YAAa,oBAClBC,aACAC,SAAS,KACNC,KAAKE,aAAUZ,IACrB,IAAMa,EAAQT,EACXE,OAAO,KACPC,KAAK,QAAS,kBACdO,UAAU,QACV/W,KAAKA,GACR8W,EACGE,QACAT,OAAO,QACPC,KAAK,UAAU,SAACJ,GAAD,OAAO,KACtBI,KAAK,QAASZ,EAAOqB,aACrBT,KAAK,KAAK,SAACJ,GAAD,OAAOR,EAAOQ,EAAC,SACzBI,KAAK,IAAKhB,GACVgB,KAAK,OAAQ,WACbC,aACAC,SAAS,KACTF,KAAK,KAAK,SAACJ,GAAD,OAAOH,EAAOG,EAAC,UACzBI,KAAK,UAAU,SAACJ,GAAD,OAAOZ,EAAcS,EAAOG,EAAC,UAC/CU,EAAMI,OAAOC,WACZ,CAAC3S,IAEEsC,EAAY,WAChB,IAAMC,EAAaJ,OAAOI,WAExBoO,EADEpO,GAAc,IACN,SACDA,EAAa,KAAOA,GAAc,IACjC,SAEA,YAmBd,OAhBAC,qBAAU,WAER,GADAiO,EAAOzG,QAAQ4I,UAAY,GACvB5S,EAAO,CACT,GAAIyQ,EAAOzG,QAAQ6I,gBAAiB,CAClC,IAAMC,EAAgBC,SAASC,cAAc,mBACzCF,GAAeA,EAAcH,SAEnC/B,IAIF,OAFAzO,OAAOM,iBAAiB,SAAUH,GAClCA,IACO,WACLH,OAAOO,oBAAoB,SAAUJ,MAEtC,CAACtC,EAAO4Q,EAAQF,IAGjB,6BAAS7W,UAAWlB,GAAG,aACrB,yBACEkB,UAAWlB,GAAG,iBACdiQ,IAAK6H,EACLK,MACa,WAAXJ,EAAsB,MAAmB,WAAXA,EAAsB,MAAQ,MAE9DL,OAAQ,U,UC/FV1X,GAAKC,IAAWC,KAAKC,MACrB8L,GAAU,CACd,CACEnL,MAAO,YACPwZ,MAAO,gBAET,CACExZ,MAAO,UACPwZ,MAAO,sBAET,CACExZ,MAAO,OACPwZ,MAAO,iBAgMIC,GA7LI,SAAC,GAQb,IAAD,IAPKnQ,EAOL,EAPJvG,QACAwD,EAMI,EANJA,MACAtF,EAKI,EALJA,GACAkF,EAII,EAJJA,KACAqN,EAGI,EAHJA,SACAyB,EAEI,EAFJA,QACAjS,EACI,EADJA,WACI,EAC4BvD,mBAAS,CACvCO,MAAO,YACPwZ,MAAO,iBAHL,mBACGE,EADH,KACaC,EADb,OAKwBla,mBAAS,gBALjC,mBAKG+I,EALH,KAKWoR,EALX,OAMoCna,oBAAS,GAN7C,mBAMGoa,EANH,KAMiBC,EANjB,KAOE7R,EAAWC,cACX6R,EAAYla,uBAAY,WAAO,IAC3BkD,EAAYuG,EAAZvG,QACA0R,EAASxT,EAATwT,KACR,GAAI1R,EAAS,CACX,GAAI,GAAKiX,YAAYjX,EAAQ4H,UAAW8J,GAGtC,OAFAkF,EAAYxO,GAAQ,SACpByO,EAAUzO,GAAQ,GAAGqO,OAGvB,GAAI,GAAKQ,YAAYjX,EAAQ6H,QAAS6J,GAGpC,OAFAkF,EAAYxO,GAAQ,SACpByO,EAAUzO,GAAQ,GAAGqO,OAGvB,GAAI,GAAKQ,YAAYjX,EAAQ2H,KAAM+J,GAGjC,OAFAkF,EAAYxO,GAAQ,SACpByO,EAAUzO,GAAQ,GAAGqO,UAIxB,CAACvY,EAAIqI,IAmBFoK,EAAgB7T,uBAAY,WAAO,IAC/BG,EAAU0Z,EAAV1Z,MACR,GAAIgD,EAAY,CAAC,IAEL5B,EACNkI,EADFA,KAAQlI,MAEV6G,EAAS5F,EAAWjB,EAAO+E,EAAK5B,IAAKvE,IACrC8Z,GAAgB,QAEhB/F,MAAM,uFAEP,CAAC9L,EAAU9B,EAAMmD,EAAMoQ,EAAU1W,IAQpC,OAHA+F,qBAAU,WACRgR,MACC,CAACA,IAEF,oCACG5T,EACC,oCACG0T,GACC,kBAAC,GAAD,CACEtZ,KAAM,WADR,UAEKmZ,EAASF,MAFd,4DAIF,6BAASpZ,UAAWlB,GAAG,gBACrB,6BAASkB,UAAWlB,GAAG,oBACrB,4BACE,wBAAIkB,UAAW,QACb,kBAAC,IAAD,QAGI,OAAJ+F,QAAI,IAAJA,GAAA,UAAAA,EAAMI,aAAN,eAAahB,QAAS,EAAtB,OACEY,QADF,IACEA,GADF,UACEA,EAAMI,aADR,aACE,EAAakG,KAAI,SAACpI,GAAD,OACf,wBAAIqI,IAAKwB,eAAM9N,UAAW,cACxB,kBAAC,IAAD,CAAMgJ,GAAE,mBAAc/E,EAAK4V,MAAM1V,IAAzB,WACN,yBACE8E,IAAKhF,EAAK4V,MAAM1Q,UAChBC,IAAKnF,EAAK4V,MAAMC,cAMxB,uBAAG9Z,UAAW,oBAAd,uGAmBR,6BAASA,UAAWlB,GAAG,sBACrB,6BAASkB,UAAWlB,GAAG,YACrB,yBAAKmK,IAAKlD,EAAKwF,UAAWnC,IAAI,YAEhC,6BAASpJ,UAAWlB,GAAG,iBACrB,wBAAIkB,UAAWlB,GAAG,UAAWiH,EAAK3B,OAClC,uBAAGpE,UAAWlB,GAAG,WACf,iDpCpJW,SAACyN,GAC5B,IAAIwN,EAAI,GACR,GAAIxN,EACF,IAAK,IAAIjF,EAAI,EAAGA,EAAIiF,EAAQpH,OAAQmC,IAClCyS,GAAC,UAAOxN,EAAQjF,GAAf,KAGL,OAAOyS,EoC8IUtL,CAAc1I,EAAKwG,UAEtB,6BAASvM,UAAWlB,GAAG,aACrB,0BAAMkB,UAAWlB,GAAG,UAClB,kBAAC,IAAD,MACCuI,GAAOlB,GACR,kBAAC,IAAD,CAAanG,UAAWlB,GAAG,iBAE7B,0BAAMkB,UAAWlB,GAAG,aACjBqH,EAAQA,EAAMhB,OAAS,EAD1B,iBAGA,0BAAMnF,UAAWlB,GAAG,eACjB+V,EAAUA,EAAQ1P,OAAS,EAD9B,kBAIF,kBAAC,GAAD,CAAcgB,MAAOJ,EAAKI,QAC1B,6BAASnG,UAAWlB,GAAG,gBACrB,mDACA,gCACqBsG,IAAlBW,EAAK1B,SAAyB0B,EAAK1B,SAAW,8BAGnD,6BACE,yBAAKrE,UAAWlB,GAAG,iBACjB,iEACA,kBAAC,GAAD,CACEsU,SAAUA,EACVrN,KAAMA,EACNlF,GAAIA,EACJsF,MAAOA,GAASA,EAAMhB,OAAS,EArH7B,WAAO,IACnBxC,EAAYuG,EAAZvG,QACJoG,EAAM,IACV,GAAI5C,EACF,IAAK,IAAImB,EAAI,EAAGA,EAAInB,EAAMhB,OAAQmC,IAAK,CAAC,IAAD,EACrC,IAAI,UAAAnB,EAAMmB,UAAN,eAAUnD,QAAV,OAAkBxB,QAAlB,IAAkBA,OAAlB,EAAkBA,EAASwB,KAAK,CAClC4E,EAAMiR,OAAO7T,EAAMmB,GAAGrD,MACtB,OAIN,OAAO8E,EA0G8CkR,GAAkB,OAGzD,yBAAKja,UAAWlB,GAAG,QACjB,kBAAC,KAAD,CACEkB,UAAWlB,GAAG,UACdiM,QAASA,GACTzK,SAjGA,SAACgZ,GACnBC,EAAYD,IAiGM1Z,MAAO0Z,EACPY,cAAc,EACd9Z,YAAagI,IAEf,4BAAQpI,UAAWlB,GAAG,aAAcoB,QAASoT,GAC3C,8BACE,kBAAC,IAAD,OAFJ,qBAWV,kBAAC,GAAD,OAGF,kBAAC,eAAD,CAAahE,MAAM,QAAQC,KAAM,OCtN1B4K,GCMA,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACM/a,oBAAS,GADf,mBACrBkR,EADqB,KACVC,EADU,KAEtB3I,EAAWC,cAFW,EAGEC,aAAY,SAACzF,GAAD,OAAWA,EAAMuC,SAAnDkB,EAHoB,EAGpBA,KAAMC,EAHc,EAGdA,YACN6O,EAAY9M,aAAY,SAACzF,GAAD,OAAWA,EAAM4S,UAAzCL,QAJoB,EAKI9M,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDrF,EALoB,EAKpBA,QAASC,EALW,EAKXA,WACXyX,EAAU5a,sBAAW,uCACzB,WAAOoB,GAAP,SAAAqH,EAAA,sDACE,IACEL,EAASpD,EAAU5D,IACnBgH,EAASuM,GAAUvT,IACnB,MAAOmC,GACPH,QAAQC,IAAIE,GALhB,2CADyB,sDASzB,CAAC6E,IAcH,OATAc,qBAAU,WACR6H,GAAa,GADC,IAGF3P,EACRuZ,EADFE,OAAUzZ,GAEZyH,OAAOsB,SAAS,EAAG,GACnByQ,EAAQxZ,GACR2P,GAAa,KACZ,CAAC6J,EAASD,IAEX,0BAAMpa,UAAU,kBACd,kBAAC,GAAD,CACEoE,MAAK,iBAAK2B,QAAL,IAAKA,OAAL,EAAKA,EAAM3B,MAAX,gBACLuI,YAAW,iBAAK5G,QAAL,IAAKA,OAAL,EAAKA,EAAM1B,YAEvBkM,GAAavK,EACZ,kBAAC,GAAD,MAEA,kBAAC,GAAD,CACED,KAAMA,EACNlF,GAAIuZ,EAAME,OAAOzZ,GACjBuS,SAxBS,SAACvS,EAAIR,EAAM4D,GAC1B4D,EvCyGoB,SAAChH,EAAIR,EAAM4D,GAAX,MAAqB,CAC3C9D,KAxEuB,YAyEvB6B,QAASgC,EAAgBnD,EAAIR,EAAM4D,IuC3GxBsW,CAAS1Z,EAAIR,EAAM4D,KAwBtBkC,OAAW,OAAJJ,QAAI,IAAJA,OAAA,EAAAA,EAAMI,QAAS,GACtB0O,QAASA,EACTlS,QAASA,EACTC,WAAYA,M,qBC1ChB9D,GAAKC,IAAWC,KAAKC,MCTZub,GDWA,SAAC,GAAkB,IAAhBjS,EAAe,EAAfA,SAAe,EACLlJ,mBAAS,IADJ,mBACxByE,EADwB,KACjB2W,EADiB,OAEPpb,mBAAS,GAFF,mBAExBqE,EAFwB,KAElBmM,EAFkB,OAGGxQ,oBAAS,GAHZ,mBAGxBkR,EAHwB,KAGbC,EAHa,KAIzB3I,EAAWC,cAJc,EAKYC,aAAY,SAACzF,GAAD,OAAWA,EAAMuC,SAAhEA,EALuB,EAKvBA,MAAOS,EALgB,EAKhBA,cAAeK,EALC,EAKDA,SAExBmK,EAAcC,iBAAO,MA0B3B,OAhBApH,qBAAU,WAAO,IACP+R,EAAWnS,EAAXmS,OACFC,EAAI/W,UAAU8W,GACjB1O,MAAM,KAAK,GACX4O,QAAQ,UAAW,KACnB5O,MAAM,KAAK,GACdyO,EAASE,GACC,IAAPjX,GACD8M,GAAa,GACb3I,EAASzI,EAASub,EAAG,EAAGjX,IACxB8M,GAAa,IAEb3I,ExCiFiB,eAAC/D,EAAD,uDAAS,GAAI3D,EAAb,uDAAoB,EAAGuD,EAAvB,uDAA8B,EAA9B,MAAqC,CAC1DvD,KAzF4B,iBA0F5B6B,QAAS6B,EAAgBC,EAAO3D,EAAMuD,IwCnFzBmX,CAAQF,EAAE,EAAEjX,MAEtB,CAACmE,EAAUU,EAAU7E,IAGtB,oCACE,kBAAC,GAAD,CAAQU,MAAK,6BACZmM,GAAajL,EACZ,kBAAC,GAAD,MAEA,oCACA,wBAAItF,UAAU,kBAAd,IAAiC8D,EAAM,oCAAD,OAAaA,GAAb,6BACtC,6BAAS9D,UAAWlB,GAAG,4BACpB+F,EAAMM,OAAS,EACd,kBAAC,GAAD,CAAU+J,SAAUrK,EAAOuK,KAAMzJ,EAAUyI,KAAK,SAASW,IAAKe,EAAaX,WAlC9D,WACrBU,EAAQnM,EAAK,GACVoM,EAAYK,UACbtN,QAAQC,IAAIgN,EAAYK,SACxBL,EAAYK,QAAQC,WAgCd,oCACE,yBAAKpQ,UAAU,SACb,8F,qBExDhBO,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCACC,IAQDma,GAAgB,SAACnZ,EAAMkG,GAC3B,OAAOpH,IAAMM,KAAN,SAAqBY,EAAM,CAChCoZ,iBAAkB,SAACrb,GAAO,IAChBsb,EAAkBtb,EAAlBsb,OAAQjU,EAAUrH,EAAVqH,MACZkU,EAAWC,KAAKC,MAAgB,IAATH,EAAgBjU,GAC3Cc,EAASuT,GAAeH,QAIjBI,GAAa,SAACxT,GAAD,OAAc,SAAClG,GAAD,MAAW,CACjDxB,KAlBoB,SAmBpB6B,QAAS8Y,GAAcnZ,EAAMkG,MAEzBuT,GAAiB,SAACH,GACtB,MAAO,CACL9a,KAnBoB,kBAoBpB6B,QAAS,CACPiZ,cAYS5Y,gBAAa,kBAAC,GApCC,kBAsCR,SAACC,EAAOC,GACxB,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,EACPO,SAAS,EACT0X,SAAU,OARU,YAAC,GAnCC,kBA8CR,SAAC3Y,EAAOC,GACxB,OAAO,2BACFD,GADL,IAEEiB,SAAS,EACTR,SAAS,EACTC,OAAO,EACPsY,WAA+B,MAAnBhZ,EAAM2Y,SAClBA,SAAU,OAlBU,YAAC,GAlCC,kBAuDR,SAAC3Y,EAAOC,GACxB,OAAO,2BACFD,GADL,IAEES,SAAS,EACTC,OAAO,OAzBa,YAAC,GAjCL,mBA6DD,SAACV,EAAOC,GAAY,IAC7BP,EAAYO,EAAZP,QACR,OAAO,2BACFM,GADL,IAEE2Y,SAAUjZ,EAAQiZ,cAhCE,IAPP,CACnBlY,SAAS,EACTC,OAAO,EACPO,SAAS,EACT0X,SAAU,EACVK,YAAY,ICpCd/a,IAAOC,SACP,IAAM1B,GAAKC,IAAWC,KAAKC,MA2OZsc,GA1OI,WAAO,IAAD,EACOlc,mBAAS,CACrCia,SAAU,KACVlV,MAAO,GACPmI,QAAS,GACTiP,OAAQ,GACRnH,KAAM,GACNhQ,SAAU,GACVC,OAAQ,KARa,mBAChBsI,EADgB,KACP6O,EADO,KAUjBC,EAAa3L,iBAAO,MACpB4L,EAAc5L,iBAAO,MACrB6L,EAAW7L,iBAAO,MAClB8L,EAAY9L,iBAAO,MACnB+L,EAAY/L,iBAAO,MACnBgM,EAAchM,iBAAO,MAErBlI,GADckI,iBAAO,MACVjI,eACTnF,EAAYoF,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAAzCrF,QAlBe,EAmBUoF,aAAY,SAACzF,GAAD,OAAWA,EAAM0Z,UAAtDf,EAnBe,EAmBfA,SAAUK,EAnBK,EAmBLA,WACZW,EAAqBxc,uBACzB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACR8b,EAAW,2BACN7O,GADK,IAER4O,OAAQ7b,EAAOC,WAGnB,CAACgN,IAEGsP,EAAiBzc,uBACrB,SAACC,GAAO,IACE8b,EAAoB5O,EAApB4O,OAAQjP,EAAYK,EAAZL,QACR4P,EAAYzc,EAAZyc,QACO,KAAXX,IACFK,EAAU1L,QAAQiM,UAAUtD,OAAO,SACnB,KAAZqD,GACFV,EAAW,2BACN7O,GADK,IAERL,QAAQ,GAAD,mBAAMA,GAAN,CAAeiP,IACtBA,OAAQ,SAKhB,CAAC5O,IAyBGyP,EAAc5c,uBAClB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACJA,EAAOC,MAAMuF,OAAS,GACxByW,EAASzL,QAAQiM,UAAUtD,OAAO,eACpC2C,EAAW,2BACN7O,GADK,IAERxI,MAAOzE,EAAOC,WAGlB,CAACgN,IAEG0P,EAAiB7c,uBACrB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACJA,EAAOC,MAAMuF,OAAS,GACxB4W,EAAY5L,QAAQiM,UAAUtD,OAAO,eACvC2C,EAAW,2BACN7O,GADK,IAERvI,SAAU1E,EAAOC,WAGrB,CAACgN,IAEG2P,EAAe9c,uBACnB,SAACC,GACCA,EAAEI,iBADG,IAEGH,EAAWD,EAAXC,OACJA,EAAOC,MAAMuF,OAAS,GACxB2W,EAAU3L,QAAQiM,UAAUtD,OAAO,eACrC2C,EAAW,2BACN7O,GADK,IAERtI,OAAQ3E,EAAOC,WAGnB,CAACgN,IAEG/M,EAAeJ,sBAAW,uCAC9B,WAAOC,GAAP,2BAAAwI,EAAA,yDACExI,EAAEI,iBACgB,KAAdJ,EAAEyc,QAFR,oBAIchY,EACNxB,EADFuG,KAAQ/E,IAEFmV,EAA+C1M,EAA/C0M,SAAUjV,EAAqCuI,EAArCvI,SAAUD,EAA2BwI,EAA3BxI,MAAOmI,EAAoBK,EAApBL,QAASjI,EAAWsI,EAAXtI,SAE7B,OAAbgV,GACAjV,EAASc,OAAS,GAClBf,EAAMe,OAAS,GACfoH,EAAQpH,OAAS,GACjBb,EAAOa,OAAS,GAZtB,wBAcYqX,EAAW,IAAIC,UACZvE,OAAO,YAAaoB,GAC7BkD,EAAStE,OAAO,QAAS9T,GACzBoY,EAAStE,OAAO,UAAW3L,GAC3BiQ,EAAStE,OAAO,WAAY7T,GAC5BmY,EAAStE,OAAO,MAAO/T,GACvBqY,EAAStE,OAAO,SAAU5T,GApBhC,UAqBYuD,EAASwT,GAAWxT,EAAXwT,CAAqBmB,IArB1C,gCAuB8B,IAApBnY,EAASc,QACX4W,EAAY5L,QAAQiM,UAAUM,IAAI,eAEf,IAAjBtY,EAAMe,QACRyW,EAASzL,QAAQiM,UAAUM,IAAI,eAEV,IAAnBnQ,EAAQpH,QACV0W,EAAU1L,QAAQiM,UAAUM,IAAI,eAEZ,IAAlBpY,EAAOa,QACT2W,EAAU3L,QAAQiM,UAAUM,IAAI,eAjCxC,4CAD8B,sDAuC9B,CAAC9P,EAASjK,EAASkF,IAgBrB8U,2BAAgB,WACVrB,GACFK,EAAYxL,QAAQlR,MAAMgY,MAA1B,UAAqC,EAArC,KACA3O,OAAOC,SAASC,KAAhB,UACE,qBAGFmT,EAAYxL,QAAQlR,MAAMgY,MAA1B,UAAqCgE,EAArC,OAED,CAACA,EAAUK,IA3KS,IA4KflX,EAA6CwI,EAA7CxI,MAAOmI,EAAsCK,EAAtCL,QAASiP,EAA6B5O,EAA7B4O,OAAQnX,EAAqBuI,EAArBvI,SAAUC,EAAWsI,EAAXtI,OAC1C,OACE,oCACE,6BAAStE,UAAWlB,GAAG,uBACrB,yBAAKkB,UAAWlB,GAAG,YAAaiQ,IAAK4M,KAEvC,6BAAS3b,UAAWlB,GAAG,gBACrB,6BAASkB,UAAWlB,GAAG,mBACrB,6BAASkB,UAAWlB,GAAG,SACrB,yBAAKkB,UAAWlB,GAAG,uBACjB,yBAAKkB,UAAWlB,GAAG,eAAgBsK,IAAI,GAAG2F,IAAK2M,IAC/C,yBACE1b,UAAWlB,GAAG,iBACdG,MAAO,CAAE2d,SAAU,aAEnB,4BAAQ5c,UAAWlB,GAAG,QAAtB,mCACA,2BAAOqB,KAAK,OAAOG,SAjId,SAACZ,GAAO,IAEbmd,EACRnd,EADFC,OAAUkd,MAENC,EAAStZ,IAAIuZ,gBAAgBF,EAAM,IACzCnB,EAAWvL,QAAQlH,IAAM6T,EACzBrB,EAAW,2BACN7O,GADK,IAER0M,SAAUuD,EAAM,OAyHmCzL,UAAQ,MAGrD,2BACEjR,KAAK,OACLP,MAAOwE,EACP9D,SAAU+b,EACVjc,YAAY,sBACZgR,UAAQ,EACRrC,IAAK6M,IAEP,yBAAK5b,UAAWlB,GAAG,WAAYiQ,IAAK8M,GAnD5B,SAACtP,EAASyQ,GAC1B,cAAOzQ,QAAP,IAAOA,OAAP,EAAOA,EAASF,KAAI,SAACmP,GACnB,IAAM/Z,EAAMqM,eACZ,OACE,yBAAK9N,UAAWlB,GAAG,cAAewN,IAAK7K,GACrC,0BAAMzB,UAAWlB,GAAG,gBAAiB0c,GACrC,0BAAMxb,UAAWlB,GAAG,YAAaoB,QAAS8c,GAA1C,SA8CKC,CAAU1Q,GAzJC,SAAC7M,GAAO,IACtB6M,EAAYK,EAAZL,QACF5M,EAASD,EAAEC,OAAOud,gBAAgBnE,UACpCoE,EAAa5Q,EAAQ8C,QAAO,SAACmM,GAC/B,OAAOA,IAAW7b,KAGpB8b,EAAW,2BACN7O,GADK,IAERL,QAAS4Q,QAiJD,2BACEnd,UAAWlB,GAAG,gBACdqB,KAAK,OACLC,YAAY,iBACZR,MAAO4b,EACPlb,SAAU2b,EACVmB,UAAWlB,KAGf,2BACE/b,KAAK,OACLP,MAAO0E,EACPlE,YAAY,mDACZE,SAAUic,EACVnL,UAAQ,EACRrC,IAAK+M,IAEP,8BACE1b,YAAY,eACZR,MAAOyE,EACP/D,SAAUgc,EACVlL,UAAQ,EACRrC,IAAKgN,IAEP,4BAAQ/b,UAAW,SAAUE,QAASL,GAAtC,2BC9NGwd,GATA,WACb,OACE,oCACE,kBAAC,GAAD,CAAQjZ,MAAK,uBACb,kBAAC,GAAD,Q,0CCFAtF,GAAKC,IAAWC,KAAKC,MCJZqe,GDKC,WACd,OACE,oCACE,kBAAC,GAAD,CAAQlZ,MAAK,0BACb,6BAASpE,UAAWlB,GAAG,oBACrB,6CACA,yBAAKmK,IAAKsU,KAAQnU,IAAK,W,qBETzBtK,GAAKC,IAAWC,KAAKC,MAWZue,GAVE,WACf,OACE,yBAAKxd,UAAWlB,GAAG,aACjB,4BACE,mE,qBCCFA,GAAKC,IAAWC,KAAKC,MAyHZwe,GAxHY,SAAC,GAOrB,IANLC,EAMI,EANJA,KACAC,EAKI,EALJA,SACAzH,EAII,EAJJA,WACAoD,EAGI,EAHJA,SACAvD,EAEI,EAFJA,WACAjB,EACI,EADJA,QAEQD,EAAY9M,aAAY,SAACzF,GAAD,OAAWA,EAAM4S,UAAzCL,QAwGR,OACE,6BAAS7U,UAAWlB,GAAG,wBACX,YAAT4e,GACC,6BAAS1d,UAAWlB,GAAG,YA1Gb,SAAC4e,GACf,GAAa,YAATA,EACF,OACE,oCACsB,IAAnB7I,EAAQ1P,QACP,uBAAGnF,UAAWlB,GAAG,UAAjB,6DAGA,oCACG+V,EAAQ1P,OAAS,GAChB0P,EAAQxI,KAAI,SAAC6I,GACX,OACE,6BAAS5I,IAAKwB,eAAM9N,UAAWlB,GAAG,CAAC,OAAQ,SACzC,6BAASkB,UAAWlB,GAAG,cACrB,kBAAC,IAAD,CACEkK,GAAE,gBACAkM,GAAUA,EAAOnP,MAAQmP,EAAOnP,KAAK5B,MAGvC,yBACE8E,IAAKiM,GAAUA,EAAOnP,MAAQmP,EAAOnP,KAAKwF,UAC1CnC,IAAK8L,GAAUA,EAAOnP,MAAQmP,EAAOnP,KAAK3B,SAG9C,uBAAGpE,UAAWlB,GAAG,SACf,kBAAC,KAAD,CACEkB,UAAWlB,GAAG,SACd2Q,KAAMmO,KACN1d,QAAS6V,EAAWb,KACnB,IACFA,GAAUA,EAAOoB,OAASpB,EAAOoB,MAAMnR,OAN1C,wBASF,6BAASnF,UAAWlB,GAAG,eACrB,uBAAGkB,UAAWlB,GAAG,SACdoW,GACC5L,KAAO4L,EAAO1I,WAAWjD,OACvB,wBAGN,uBAAGvJ,UAAWlB,GAAG,aACf,kBAAC,IAAD,CACEkK,GAAE,mBAAckM,GAAUA,EAAOkB,SAASjS,MAEzC+Q,GAAUA,EAAOkB,SAASpV,MAAMgL,MAAM,KAAK,KAGhD,wBAAIhM,UAAWlB,GAAG,UAChB,kBAAC,IAAD,CACEkK,GAAE,gBACAkM,GAAUA,EAAOnP,MAAQmP,EAAOnP,KAAK5B,MAGtC+Q,GAAUA,EAAOnP,MAAQmP,EAAOnP,KAAK3B,QAG1C,6BAASpE,UAAWlB,GAAG,YACrB,yBACEmK,IACEiM,GACAA,EAAOkB,UACPlB,EAAOkB,SAASjN,UAElBC,IAAK8L,GAAUA,EAAOkB,SAASpV,QAEjC,iCACE,uBAAGhB,UAAWlB,GAAG,iBACdoW,GACDA,EAAOtI,SACPsI,EAAOtI,QAAQzH,QAAU,IACzB+P,EAAO/Q,MACkB,IAAzBmV,EAASpE,EAAO/Q,KACZ+Q,EAAOtI,QALV,UAMMsI,EAAOtI,QAAQmG,UAAU,EAAG,IANlC,QAQFmC,GACDA,EAAOtI,SACPsI,EAAOtI,QAAQzH,QAAU,GACvB,uBACEnF,UAAWlB,GAAG,QACdoB,QAASgW,EACT2H,UAAS3I,EAAO/Q,KAEfmV,EAASpE,EAAO/Q,KAAO,qBAAQ,sBAEhC,YAOjB2Q,GACC,4BAAQ9U,UAAWlB,GAAG,iBAAkBoB,QAASyd,GAAjD,yBAa4B/Q,CAAQ,cC5HrCkR,GCKG,SAAC,GAA+B,IAE1CJ,EAFyC,EAA5Bve,QAAWoJ,SACtBuK,SACcpE,OAAO,GAAG1C,MAAM,KAAK,GAFI,EAGb3M,oBAAS,GAHI,mBAGxCkR,EAHwC,KAG7BC,EAH6B,OAIfnR,mBAAS,IAJM,mBAIxCia,EAJwC,KAI9BC,EAJ8B,OAKvBla,mBAAS,GALc,mBAKxCqE,EALwC,KAKlCmM,EALkC,KAMvCiF,EAAY/M,aAAY,SAACzF,GAAD,OAAWA,EAAM4S,UAAzCJ,QANuC,EAOf/M,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDrF,EAPuC,EAOvCA,QAASC,EAP8B,EAO9BA,WACXiF,EAAWC,cACXiW,EAActe,uBAClB,WAAe,IAAdiE,EAAa,uDAAN,EACN,IACEmE,EACEsM,GAAW,CACTJ,MAAO,EACPrQ,UAGJ,MAAOV,GACPH,QAAQC,IAAIE,MAGhB,CAAC6E,IAEGqO,EAAazW,uBACjB,SAACC,GAAO,IAEMgR,EACRhR,EADFC,OAAU+Q,QAEZ,QAC8BtL,IAA5BkU,EAAS5I,EAAO,MACY,IAA5B4I,EAAS5I,EAAO,IAChB,CACA,IAAM5E,EAAG,2BAAQwN,GAAR,kBAAmB5I,EAAO,IAAS,IAC5C6I,EAAYzN,OACP,CACL,IAAMA,EAAG,2BAAQwN,GAAR,kBAAmB5I,EAAO,IAAS,IAC5C6I,EAAYzN,MAGhB,CAACwN,IAEGqE,EAAWle,uBACf,SAACC,GACCqe,EAAYra,EAAO,GACnBmM,GAAQ,SAAC9G,GAAD,OAASA,EAAM,OAEzB,CAACgV,EAAara,IAEVqS,EAAatW,uBACjB,SAACyV,GAAD,OAAY,WAAO,IACThM,EAASvG,EAATuG,KACJtG,EACFiF,EAAS2M,GAAS,OAAQU,EAAO/Q,IAAK+E,EAAK/E,MAE3CwP,MAAM,8DAGV,CAAChR,EAASC,EAAYiF,IAQxB,OANAc,qBAAU,WAIR,OAHA6H,GAAa,GACbuN,IACAvN,GAAa,GACN,eACN,CAACuN,EAAalW,IAEf,oCACE,kBAAC,GAAD,CACEzD,MAAO,2BACPsI,SAAU,iEAEZ,kBAAC,GAAD,CAAUgR,KAAMA,IAChB,kBAAC,GAAD,CACEA,KAAMA,EACN5I,QAASA,EACT6I,SAAUA,EACVrE,SAAUA,EACVpD,WAAYA,EACZH,WAAYA,EACZxF,UAAWA,M,+BC/EnBhQ,IAAOC,SAEP,IAAM1B,GAAKC,IAAWC,KAAKC,MAiKZ+e,GA5JE,SAAC,GAAsC,IAAD,ElDT3BC,EkDSRtb,EAAmC,EAAnCA,QAAS0L,EAA0B,EAA1BA,OAAQ6P,EAAkB,EAAlBA,YAC7BrW,EAAWC,cADoC,EAEvBzI,mBAAS,CACrC8e,WAAY,KACZhV,UAAWxG,EAAUA,EAAQwG,eAAY/D,EACzCgZ,SAAUzb,EAAUA,EAAQtC,KAAO,GACnCge,QAAS1b,EAAUA,EAAQ0b,QAAU,GACrCC,MAAO3b,EAAUA,EAAQ2b,MAAQ,GACjCC,SAAU5b,EAAUA,EAAQ4b,SAAW,KARY,mBAE9C3R,EAF8C,KAErC6O,EAFqC,KAW/C+C,EAAU,uCAAG,wCAAAtW,EAAA,6DACTiW,EAAmDvR,EAAnDuR,WAAYC,EAAuCxR,EAAvCwR,SAAUC,EAA6BzR,EAA7ByR,QAASE,EAAoB3R,EAApB2R,SAAUD,EAAU1R,EAAV0R,OAC3C9B,EAAW,IAAIC,UACZvE,OAAO,SAAUiG,GAC1B3B,EAAStE,OAAO,QAASvV,EAAQ3B,OACjCwb,EAAStE,OAAO,WAAYkG,GAC5B5B,EAAStE,OAAO,UAAWmG,GAC3B7B,EAAStE,OAAO,WAAYqG,GAC5B/B,EAAStE,OAAO,QAASoG,GARR,mBAYLzW,EpDsDsB,CACpC1H,KApD0B,eAqD1B6B,QAASF,EoDxD0B0a,KAZhB,iBAaA,MAbA,EAWb5c,MAASwI,SAGTE,OAAOC,SAASC,KAAhB,UAGM,0BAjBO,kDAqBf3F,QAAQC,IAAR,MArBe,0DAAH,qDA6BV2b,EAAahf,uBACjB,SAACC,GAAO,IAEMmd,EACRnd,EADFC,OAAUkd,MAEZpB,EAAW,2BACN7O,GADK,IAERuR,WAAYtB,EAAM,MAnDV,SAAC6B,GACf,IAAM3H,EAASvT,IAAIuZ,gBAAgB2B,GACnCxF,SAASC,cAAc,gBAAgBlQ,IAAM8N,EAmDzC4H,CAAQ9B,EAAM,MAEhB,CAACjQ,EAAS6O,IAENmD,EAAiBnf,uBACrB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACR8b,EAAW,2BACN7O,GADK,IAERwR,SAAUze,EAAOC,WAGrB,CAACgN,EAAS6O,IAENoD,EAAgBpf,uBACpB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACR8b,EAAW,2BACN7O,GADK,IAERyR,QAAS1e,EAAOC,WAGpB,CAACgN,EAAS6O,IAENqD,EAAiBrf,uBACrB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACR8b,EAAW,2BACN7O,GADK,IAER2R,SAAU5e,EAAOC,WAGrB,CAACgN,EAAS6O,IAENsD,EAActf,uBAClB,SAACC,GAAO,IACEC,EAAWD,EAAXC,OACR8b,EAAW,2BACN7O,GADK,IAER0R,MAAO3e,EAAOC,WAGlB,CAACgN,EAAS6O,IAEZ,OACE,6BAASzb,UAAWlB,GAAG,YAAauP,EAAS,QAAU,SACrD,yBAAKrO,UAAWlB,GAAG,aACjB,uBAAGoB,QAASge,GACV,0BAAM7S,KAAK,MAAMC,aAAW,SAA5B,YAKJ,6BAAStL,UAAWlB,GAAG,mBACrB,0BAAMmB,SApES,SAACP,GACpBA,EAAEI,iBACF6T,MAAMjU,EAAEC,OAAO+Q,SACf8N,MAkEM,yBAAKxe,UAAWlB,GAAG,uBACjB,yBACEkB,UAAWlB,GAAG,eACdsK,IAAI,wCACJH,KlDrHcgV,EkDqHE,OAACrR,QAAD,IAACA,OAAD,EAACA,EAASzD,elDpHvB/D,IAAR6Y,EACH,iGACAA,KkDoHM,yBAAKhf,MAAO,CAAE2d,SAAU,aACtB,4BAAQ5c,UAAWlB,GAAG,aACWsG,KAAvB,OAAPwH,QAAO,IAAPA,GAAA,UAAAA,EAASuR,kBAAT,eAAqB9d,MAClB,wCACAuM,EAAQuR,WAAW9d,MAEzB,2BAAOF,KAAK,OAAOE,KAAK,SAASC,SAAUme,MAG/C,2BACEte,KAAK,OACLE,KAAK,WACLT,MAAK,OAAEgN,QAAF,IAAEA,OAAF,EAAEA,EAASwR,SAChBhe,YAAa,qBACbE,SAAUse,IAEZ,2BACEze,KAAK,QACLE,KAAK,UACLD,YAAY,uDACZR,MAAK,OAAEgN,QAAF,IAAEA,OAAF,EAAEA,EAASyR,QAChB/d,SAAUue,IAEZ,2BACE1e,KAAK,OACLE,KAAK,WACLD,YAAY,eACZR,MAAK,OAAEgN,QAAF,IAAEA,OAAF,EAAEA,EAAS2R,SAChBje,SAAUwe,IAEZ,8BACEze,KAAK,QACLD,YAAY,eACZR,MAAK,OAAEgN,QAAF,IAAEA,OAAF,EAAEA,EAAS0R,MAChBhe,SAAUye,IAEZ,2BAAO5e,KAAK,SAASP,MAAM,iBAC3B,4BAAQM,QAASge,EAAalO,aAAY,UAA1C,oB,qBC1JJlR,GAAKC,IAAWC,KAAKC,MAqFZ+f,GAnFK,SAAC,GAAiC,IAA/Brc,EAA8B,EAA9BA,QAASyL,EAAqB,EAArBA,KAAMnB,EAAe,EAAfA,SAC5B6F,EAAamM,cAAbnM,SAD2C,EAEvBzT,oBAAS,GAFc,mBAE5CgP,EAF4C,KAEpC6Q,EAFoC,KAI7C/S,EAAa1M,uBAAY,WAC7Byf,GAAU,KACT,IACGxU,EAAejL,uBAAY,SAACC,GAChCA,EAAEI,iBACFof,GAAU,KACT,IAEGC,EAAW,SAAC,GAAsC,IAApC9Q,EAAmC,EAAnCA,OAAQ6P,EAA2B,EAA3BA,YAAavb,EAAc,EAAdA,QACvC,OACE,oCACE,yBACE3C,UAAWlB,GAAG,eAAgBuP,EAAS,aAAe,iBAExD,yBAAKrO,UAAWlB,GAAGuP,EAAS,aAAe,gBACzC,kBAAC,GAAD,CACE6P,YAAaA,EACbvb,QAASA,EACT0L,QAASA,OAOnB,OACE,oCACE,6BAASrO,UAAWlB,GAAG,iBACrB,6BAASkB,UAAWlB,GAAG,yBACrB,yBAAKkB,UAAWlB,GAAG,iBACjB,yBACEmK,IAAKtG,GAAWA,EAAQwG,UAAYxG,EAAQwG,UAAY,GACxDC,IAAKzG,GAAWA,EAAQ3B,MAAQ2B,EAAQ3B,MAAQ,KAElD,4BAAK2B,GAAWA,EAAQ3B,MAAO2B,EAAQ3B,MAAQ,IAC/C,yBAAKhB,UAAWlB,GAAG,iBAChBsP,EAAKJ,SAAS,OACb,uBAAGhF,GAAI,QAAS9I,QAASiM,GAAzB,mCAGE,MAEN,yBAAKnM,UAAWlB,GAAG,gBACjB,2BACG6D,GAAWA,EAAQwD,MAAQxD,EAAQwD,MAAMhB,OAAS,EADrD,gBAIA,2BACGxC,GAAWA,EAAQkS,QAChBlS,EAAQkS,QAAQ1P,OAChB,EAHN,iBAOF,uBAAGnF,UAAWlB,GAAG,UACd6D,GAAWA,EAAQ2b,SAI1B,iCACE,wBAAIte,UAAWlB,GAAG,iBAChB,wBACEkB,UAAW8S,EAAS9E,SAAS,UAAYlP,GAAG,UAAY,IAExD,kBAAC,IAAD,CAASkK,GAAE,UAAK8J,EAASsM,WAAW,OAAO,YAA3B,mBAAmDzc,EAAQwB,IAA3D,YAAhB,WAEF,wBACEnE,UAAW8S,EAAS9E,SAAS,WAAalP,GAAG,UAAY,IAEzD,kBAAC,IAAD,CAASkK,GAAE,UAAK8J,EAASsM,WAAW,OAAO,aAA3B,mBAAoDzc,EAAQwB,IAA5D,aAAhB,kBAGH8I,IAGL,kBAACkS,EAAD,CAAU9Q,OAAQA,EAAQ6P,YAAaxT,EAAc/H,QAASA,MCnCrD0c,GA9CM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBjF,EAAW,gCACxBvS,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAArDpF,EADgD,EAChDA,WAAYD,EADoC,EACpCA,QACHuG,EAASnB,aACxB,SAACzF,GAAD,OAAWA,EAAM4G,QADXvG,QAGF4F,EAAW0W,cAEXpX,EAAWC,cAEX+K,EAAapT,sBAAW,uCAC5B,WAAOoB,GAAP,SAAAqH,EAAA,sDACE,IACEL,EAASmC,GAAQnJ,IACjB,MAAOmC,GACPH,QAAQC,IAAIE,GAJhB,2CAD4B,sDAQ5B,CAAC6E,IAUH,OAPAc,qBAAU,WACR,IAAKJ,EAASuK,SAASsM,WAAW,OAAQ,CACxC,IAAM3d,EAAM8G,EAASuK,SAASC,UAAU,GAAG/G,MAAM,KAAK,GACtD6G,EAAWpR,MAEZ,CAACoR,EAAYtK,EAASuK,WAGrB,kBAAC,IAAD,iBACMwH,EADN,CAEEvD,OAAQ,SAAC5I,GAAD,OAAY,oCAClB,kBAAC,GAAD,CAAQ/J,MAAK,wBACb,kBAAC,GAAD,CACExB,WAAYA,EACZD,QAAS4F,EAASuK,SAASsM,WAAW,OAA7B,OAAsCzc,QAAtC,IAAsCA,OAAtC,EAAsCA,EAASuG,KAAOA,EAC/DkF,KAAM7F,EAASuK,UACb,kBAACwM,EAAD,iBAAenR,EAAf,CACEvL,WAAYA,EACZD,QAAS4F,EAASuK,SAASsM,WAAW,OAA7B,OAAsCzc,QAAtC,IAAsCA,OAAtC,EAAsCA,EAASuG,KAAOA,EAC/DkF,KAAM7F,EAASuK,aATH,U,qBC7BxBhU,GAAKgO,IAAU9N,KAAKC,MCNXugB,GDOK,SAAC,GAA6B,IAA3BtK,EAA0B,EAA1BA,OAAQgJ,EAAkB,EAAlBA,YAAkB,EACjB7e,oBAAe,OAAN6V,QAAM,IAANA,OAAA,EAAAA,EAAQtI,UAAW,IADX,mBACxCA,EADwC,KAC/B6O,EAD+B,KAEzC5T,EAAWC,cACTlF,EAAemF,aAAY,SAACzF,GAAD,OAAWA,EAAM0F,SAA5CpF,WAEFqF,EAAYxI,sBAAW,sBAAC,4BAAAyI,EAAA,sDAE5B,GADM/G,EAAM+F,IAEV,IACEW,EAAS9F,EAAMZ,IACf,MAAO6B,GACPH,QAAQC,IAAIE,GANY,2CAS3B,CAAC6E,IACE4X,EAAmBhgB,sBAAW,uCAClC,WAAOoC,EAAK+K,GAAZ,eAAA1E,EAAA,+EAIcL,EAAS0M,GAAW1S,EAAK+K,IAJvC,gBAKmB,MALnB,EAGMhN,MAASwI,QAGTH,IANN,gDASIpF,QAAQC,IAAR,MATJ,yDADkC,wDAalC,CAACmF,EAAWJ,IAERhI,EAAeJ,uBACnB,SAACC,GACCA,EAAEI,iBACE8C,GACF6c,EAAiBvK,EAAO/Q,IAAKyI,KAGjC,CAACA,EAAShK,EAAYsS,EAAQuK,IAMhC,OACE,6BAASzf,UAAWlB,GAAG,CAAC,eAAgB,qBACtC,6BAASkB,UAAU,iBACjB,yBAAKA,UAAU,SACb,yBAAKA,UAAWlB,GAAG,mBACjB,yBACEmK,SAAqB7D,IAAhB8P,EAAOnP,KAAqBmP,EAAOnP,KAAKwF,UAAY,GACzDnC,SAAqBhE,IAAhB8P,EAAOnP,KAAqBmP,EAAOnP,KAAK3B,MAAQ,KAEvD,0BAAMnE,SAAUJ,GACd,8BAAUD,MAAOgN,EAAStM,SAdjB,SAACZ,GAAO,IACnBC,EAAWD,EAAXC,OACR8b,EAAW9b,EAAOC,SAaLgN,GAEH,2BAAOzM,KAAK,SAASP,MAAM,iBAC3B,4BAAQI,UAAWlB,GAAG,UAAWoB,QAASge,GAA1C,sB,qBEnDRpf,GAAKC,IAAWC,KAAKC,MAErBygB,GAAU,SAAC,GAOV,IAAD,EANJxK,EAMI,EANJA,OACAa,EAKI,EALJA,WACAnH,EAII,EAJJA,aACAD,EAGI,EAHJA,WACAgR,EAEI,EAFJA,IACAle,EACI,EADJA,IAEA,OACE,6BAASzB,UAAWlB,GAAG,yBAA0B+B,GAAIqU,EAAO/Q,IAAKmI,IAAKwB,gBACpE,6BACE,kBAAC,IAAD,CAAM9E,GAAE,0BAAWkM,EAAOnP,YAAlB,aAAW,EAAa5B,MAC9B,yBACE8E,SAAqB7D,IAAhB8P,EAAOnP,KAAqBmP,EAAOnP,KAAKwF,UAAY,GACzDnC,SAAqBhE,IAAhB8P,EAAOnP,KAAqBmP,EAAOnP,KAAK3B,MAAQ,OAI3D,6BACE,6BACE,uBAAGpE,UAAWlB,GAAG,0BACEsG,IAAhB8P,EAAOnP,KAAqBmP,EAAOnP,KAAK3B,MAAQ,IAEnD,uBAAGpE,UAAWlB,GAAG,0BACEsG,IAAhB8P,EAAOnP,KAAqBmP,EAAOtI,QAAU,IAEhD,uBAAG5M,UAAWlB,GAAG,qBACdwK,KAAO4L,EAAO1I,WAAWjD,OAAO,0CAEnC,uBAAGvJ,UAAWlB,GAAG,mBACf,0BAAMkB,UAAWlB,GAAG,gBACjBoW,EAAOoB,MAAMnR,OADhB,UAGA,0BAAMnF,UAAWlB,GAAG,WAAYoB,QAAS6V,EAAWb,EAAO/Q,MACzD,kBAAC,IAAD,UAKP1C,IAAQke,EACP,oCACE,0BACE3f,UAAWlB,GAAG,eACdkR,aAAYkF,EAAO/Q,IACnBjE,QAASyO,EAAWuG,IAEpB,kBAAC,IAAD,OAEF,0BACElV,UAAWlB,GAAG,iBACdkR,aAAYkF,EAAO/Q,IACnByb,WAAU1K,EAAOnP,KAAK5B,IACtBjE,QAAS0O,GAET,kBAAC,IAAD,QAGF,OCzEKiR,GD8EI,SAAC,GAAuB,IAArBld,EAAoB,EAApBA,QAASoL,EAAW,EAAXA,KAAW,EACZ1O,mBAAS,MADG,mBACjC6V,EADiC,KACzB4K,EADyB,OAEZzgB,oBAAS,GAFG,mBAEjCgP,EAFiC,KAEzB6Q,EAFyB,KAGlCrX,EAAWC,cAHuB,EAIkBC,aACxD,SAACzF,GAAD,OAAWA,EAAM0F,SADF0N,EAJuB,EAIhC/S,QAAsBod,EAJU,EAInBhd,QAAsBH,EAJH,EAIGA,WAGrCiJ,EAAWpM,uBAAY,WAC3B,GAAIsO,EAAM,CACR,IAAM5M,EAAM+F,IACR/F,GACF0G,EAAS9F,EAAMZ,SAGjB0G,EAASmC,GAAQrH,EAAQwB,QAE1B,CAAC0D,EAAUkG,EAAMpL,IACdiM,EAAe,SAAClP,GAAO,IACnBsW,EAAkBtW,EAAlBsW,cACF7T,EAAM6T,EAAcC,aAAa,YACrCpU,EAAMmU,EAAcC,aAAa,cACjCxU,EAAMiU,EAAGxM,KAAK/E,IAChB6b,EAAmB7d,EAAKN,EAAKJ,IAEzBue,EAAkB,uCAAG,WAAO7d,EAAKN,EAAKJ,GAAjB,eAAAyG,EAAA,+EAIbL,EAASzF,EAAaD,EAAKN,EAAKJ,IAJnB,gBAKR,MALQ,EAGrB7B,MAASwI,QAGTyD,IANqB,gDASvBhJ,QAAQC,IAAR,MATuB,yDAAH,0DAYlB+S,EAAiBpW,sBAAW,uCAChC,WAAOU,EAAMU,GAAb,iBAAAqH,EAAA,+EAIcL,EAAS2M,GAASrU,EAAMU,EAAI8B,EAAQwB,IAAKuR,EAAGxM,KAAK/E,MAJ/D,gBAKmB,OAFJiE,EAHf,EAGMxI,MAASwI,UAGTvF,QAAQC,IAAIsF,GACZyD,KAPN,gDAUIhJ,QAAQC,IAAR,MAVJ,yDADgC,wDAchC,CAAC+E,EAAU6N,EAAI/S,EAASkJ,IAEpBkK,EAAatW,uBACjB,SAACoB,GAAD,OAAQ,SAACnB,GACHkD,EACFiT,EAAe,OAAQhV,GAEvB8S,MAAM,8DAGV,CAACkC,EAAgBjT,IAEb+L,EAAalP,uBACjB,SAACyV,GAAD,OAAY,SAACxV,GACXwf,GAAU,GACVY,EAAU5K,MAEZ,IAEIgJ,EAAcze,uBAAY,WAC9Byf,GAAU,GACVY,EAAU,QACT,IAEH,OACE,yBAAK9f,UAAWlB,GAAG,iBACA,IAAhBihB,GACCpd,GACAA,EAAQkS,SACRlS,EAAQkS,QAAQxI,KAAI,SAAC6I,GAAD,OAClB,kBAAC,GAAD,CACE5I,IAAKwB,eACLoH,OAAQA,EACRa,WAAYA,EACZnH,aAAcA,EACdD,WAAYA,EACZgR,IAAKjK,EAAGxM,KAAK/E,IACb1C,IAAKkB,EAAQwB,SAGlBkK,GAAU,kBAAC,GAAD,CAAa6G,OAAQA,EAAQgJ,YAAaA,MExK5C+B,GCGE,SAAC,GAAoB,IAAnBtd,EAAkB,EAAlBA,QAAQyL,EAAU,EAAVA,KACvB,OACE,iCACE,6BAASpO,UAAWlB,KAAG,kBACrB,yBAAKkB,UAAWlB,KAAG,gBACjB,6CAEF,yBAAKkB,UAAWlB,KAAG,gBAChB6D,EACC,kBAAC,GAAD,CAAYA,QAASA,EAASoL,OAAMK,EAAKJ,SAAS,SAElD,gC,OCgCCkS,I,GAAAA,GA3Bf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOxC,KAAK,IAAIyC,OAAK,EAACZ,UAAWjP,KACjC,kBAAC,IAAD,CAAOoN,KAAK,YAAY6B,UAAWpF,KACnC,kBAAC,IAAD,CAAOuD,KAAK,SAAS6B,UAAWjO,KAChC,kBAAC,IAAD,CAAOoM,KAAK,UAAU6B,UAAW/E,KACjC,kBAAC,IAAD,CAAOkD,KAAK,UAAU6B,UAAWjN,KACjC,kBAAC,GAAD,CAAc6N,OAAK,EAACzC,KAAK,YAAY6B,UAAW7M,KAChD,kBAAC,GAAD,CAAcyN,OAAK,EAACzC,KAAK,aAAa6B,UAAWU,KACjD,kBAAC,GAAD,CAAcE,OAAK,EAACzC,KAAK,qBAAqB6B,UAAW7M,KACzD,kBAAC,GAAD,CAAcyN,OAAK,EAACzC,KAAK,sBAAsB6B,UAAWU,KAC1D,kBAAC,IAAD,CAAOvC,KAAK,UAAU6B,UAAWlC,KACjC,kBAAC,IAAD,CAAOK,KAAK,qBAAqB6B,UAAWzB,KAC5C,kBAAC,IAAD,CAAOJ,KAAK,yBAAyB6B,UAAWzB,KAChD,kBAAC,IAAD,CAAOJ,KAAK,2BAA2B6B,UAAWzB,KAClD,kBAAC,IAAD,CAAOJ,KAAK,cAAc6B,UAAW/T,KACrC,kBAAC,IAAD,CAAO+T,UAAWjC,MAEpB,kBAAC,GAAD,MACA,kBAAC,GAAD,Q,SCvCN/c,IAAOC,SACPC,IAAMC,SAASC,QAGT,kCAEN,IAoBe0B,gBAAa,kBAAC,GAnBD,uBAqBD,SAACC,EAAOC,GAC7B,MAAO,CACLQ,SAAS,EACTC,OAAO,MALa,YAAC,GAlBD,uBA0BD,SAACV,EAAOC,OARP,YAAC,GAjBD,uBA0BD,SAACD,EAAOC,GAC7B,MAAO,CACLQ,SAAS,EACTC,OAAO,MAZa,IAJP,CACnBD,SAAS,EACTC,OAAO,ICVMod,GATCC,aAAgB,CAC9Bxb,QACA0N,UACAvK,QACAkN,UACAvJ,UACAzC,QACA8S,Y,UCZIsE,GAA6BC,aAAc,CAC/CC,oBAAqB,CAAC,UAAW,UAAW,aAG/BC,GADDC,aAAYN,GAASO,aAAgBL,KCAnDM,IAAS7J,OACP,kBAAC,IAAD,CAAU0J,MAAOA,IACf,kBAAC,GAAD,OAEFvH,SAAS2H,eAAe,U","file":"static/js/main.b9f99027.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/go_back.62137145.png\";","import React, { useState, useCallback } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { withRouter } from \"react-router\";\nimport classnames from \"classnames/bind\";\n\nimport style from \"./SearchBar.scss\";\n\nconst cx = classnames.bind(style);\n\nconst SearchBar = ({ history, getBooks }) => {\n  const [keyword, setKeyword] = useState(\"\");\n\n  const handleChangeKeyword = useCallback((e) => {\n    setKeyword(e.target.value);\n  }, []);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    getBooks(keyword, 0, 1);\n    history.push(`/search?p=${keyword}`);\n  };\n  \n  return (\n    <div className={cx(\"search-bar\")}>\n      <form className={cx(\"form-container\")} onSubmit={handleSubmit}>\n        <FaSearch className={cx(\"search-icon\")} onClick={handleSubmit} />\n        <input\n          type=\"input\"\n          placeholder=\"책 검색...\"\n          value={keyword}\n          name=\"q\"\n          onChange={handleChangeKeyword}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(SearchBar);\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const USER_CHECK = \"USER_CHECK\";\nexport const USER_CHECK_PENDING = \"USER_CHECK_PENDING\";\nexport const USER_CHECK_SUCCESS = \"USER_CHECK_SUCCESS\";\nexport const USER_CHECK_FAILURE = \"USER_CHECK_FAILURE\";\n\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_PENDING = \"LOGIN_PENDING\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT = \"LOGOUT\";\nexport const LOGOUT_PENDING = \"LOGOUT_PENDING\";\nexport const LOGOUT_SUCCESS = \"LOGOUR_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const POST_SHELVE_INIT = \"POST_SHELVE_INIT\";\nexport const POST_SHELVE = \"POST_SHELVE\";\nexport const POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nexport const POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nexport const POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nexport const DELETE_SHELVE = \"DELETE_SHELVE\";\nexport const DELETE_SHELVE_PENDING = \"DELETE_SHELVE_PENDING\";\nexport const DELETE_SHELVE_SUCCESS = \"DELETE_SHELVE_SUCCESS\";\nexport const DELETE_SHELVE_FAILURE = \"DELETE_SHELVE_FAILURE\";\n\nexport const DELETE_REVIEW = \"DELETE_REVIEW\";\nexport const DELETE_REVIEW_PENDING = \"DELETE_REVIEW_PENDING\";\nexport const DELETE_REVIEW_SUCCESS = \"DELETE_REVIEW_SUCCESS\";\nexport const DELETE_REVIEW_FAILURE = \"DELETE_REVIEW_FAILURE\";\n\nexport const EDIT_PROFILE = \"EDIT_PROFILE\";\nexport const EDIT_PROFILE_PENDING = \"EDIT_PROFILE_PENDING\";\nexport const EDIT_PROFILE_SUCCESS = \"EDIT_PROFILE_SUCCESS\";\nexport const EDIT_PROFILE_FAILURE = \"EDIT_PROFILE_FAILURE\";\n\nconst requestLogin = (id, pw) => {\n  return axios.post(`login`, {\n    email: id,\n    password: pw,\n  });\n};\nconst requestLogout = () => {\n  return axios.post(`logout`);\n};\nconst requestCheck = (atk) => {\n  const api = axios.create({\n    headers: {\n      Authorization: `${atk}`,\n    },\n  });\n  return api.post(`profile`);\n};\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nconst requestDeleteShelve = (uid, id, type = null) => {\n  //console.log(uid, id, type);\n  return axios.delete(`shelve`, {\n    data: { uid, id, type },\n  });\n};\nconst requestDeleteReview = (id, rid, uid) => {\n  return axios.delete(`book/${id}/review/${rid}`, {\n    data: {\n      uid,\n    },\n  });\n};\nconst requestEditProfile = (data) => {\n  return axios.post(`edit`, data);\n};\n\nexport const check = (atk) => ({\n  type: USER_CHECK,\n  payload: requestCheck(atk),\n});\nexport const editProfile = (data) => ({\n  type: EDIT_PROFILE,\n  payload: requestEditProfile(data),\n});\nexport const logout = () => ({\n  type: LOGOUT,\n  payload: requestLogout(),\n});\nexport const login = (id, pw) => ({\n  type: LOGIN,\n  payload: requestLogin(id, pw),\n});\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nexport const deleteShelve = (uid, bid, type) => ({\n  type: DELETE_SHELVE,\n  payload: requestDeleteShelve(uid, bid, type),\n});\nexport const deleteReview = (id, rid, uid) => ({\n  type: DELETE_REVIEW,\n  payload: requestDeleteReview(id, rid, uid),\n});\nexport const initPostShelve = () => ({\n  type: POST_SHELVE_INIT,\n  payload: {\n    postShelvePending: false,\n    postShelveSuccess: false,\n    postShelveError: false,\n  },\n});\n\nconst initialState = {\n  pending: true,\n  error: false,\n  success: false,\n  profile: {},\n  isLoggedIn: false,\n  loginPending: false,\n  loginError: false,\n  loginSuccess: false,\n  logoutPending: false,\n  logoutSuccess: false,\n  logoutError: false,\n  postShelvePending: false,\n  postShelveSuccess: false,\n  postShelveError: false,\n};\n\nexport default handleActions(\n  {\n    //LOGIN\n    [LOGIN_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loginPending: true,\n        loginError: false,\n        loginSuccess: false,\n      };\n    },\n    [LOGIN_SUCCESS]: (state, action) => {\n      return {\n        profile: action.payload.data,\n        loginPending: false,\n        loginError: false,\n        loginSuccess: true,\n        isLoggedIn: true,\n      };\n    },\n    [LOGIN_FAILURE]: (state, action) => {\n      console.log();\n      return {\n        ...state,\n        loginPending: false,\n        loginError: true,\n        loginSuccess: false,\n        isLoggedIn: false,\n      };\n    },\n    //USER_CHECK\n    [USER_CHECK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        isLoggedIn: false,\n      };\n    },\n    [USER_CHECK_SUCCESS]: (state, action) => {\n      // const { data } = action.payload;\n      return {\n        pending: false,\n        error: false,\n        isLoggedIn: true,\n        profile: action.payload.data,\n      };\n    },\n    [USER_CHECK_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n        isLoggedIn: false,\n      };\n    },\n    //LOGOUT\n    [LOGOUT_PENDING]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: true,\n        logoutError: false,\n        logoutSuccess: false,\n      };\n    },\n    [LOGOUT_SUCCESS]: (state, action) => {\n      //console.log(action.payload);\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: false,\n        logoutSuccess: true,\n        isLoggedIn: false,\n        profile: {},\n      };\n    },\n    [LOGOUT_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        logoutPending: false,\n        logoutError: true,\n        logoutSuccess: false,\n      };\n    },\n    [POST_SHELVE_INIT]: (state, action) => {\n      console.log(action.payload);\n      return {\n        ...state,\n        postShelveSuccess: false,\n        postShelveError: false,\n        postShelvePending: false,\n      };\n    },\n    //POST_SHELVE\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: true,\n        postShelveSuccess: false,\n        postShelveError: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveSuccess: true,\n        profile: data,\n      };\n    },\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postShelvePending: false,\n        postShelveError: true,\n      };\n    },\n    [DELETE_SHELVE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        profile: data,\n        pending: false,\n        error: false,\n      };\n    },\n    [DELETE_SHELVE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [DELETE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [DELETE_REVIEW_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        profile: data,\n      };\n    },\n    [DELETE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst URL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_BOOKS = \"GET_BOOKS\"; //책 리스트\nexport const GET_BOOKS_PENGIND = \"GET_BOOKS_PENDING\";\nexport const GET_BOOKS_SUCCESS = \"GET_BOOKS_SUCCESS\";\nexport const GET_BOOKS_FAILURE = \"GET_BOOKS_FAILURE\";\n\nexport const GET_SLIDER_BOOKS = \"GET_SLIDER_BOOKS\";\nexport const GET_SLIDER_BOOKS_PENGIND = \"GET_SLIDER_BOOKS_PENDING\";\nexport const GET_SLIDER_BOOKS_SUCCESS = \"GET_SLIDER_BOOKS_SUCCESS\";\nexport const GET_SLIDER_BOOKS_FAILURE = \"GET_SLIDER_BOOKS_FAILURE\";\n\nexport const GET_POPULAR_BOOKS = \"GET_POPULAR_BOOKS\"; //최근 공유 목록\nexport const GET_POPULAR_BOOKS_PENGIND = \"GET_POPULAR_BOOKS_PENDING\";\nexport const GET_POPULAR_BOOKS_SUCCESS = \"GET_POPULAR_BOOKS_SUCCESS\";\nexport const GET_POPULAR_BOOKS_FAILURE = \"GET_POPULAR_BOOKS_FAILURE\";\n\nexport const GET_RECENT_BOOKS = \"GET_RECENT_BOOKS\"; //최근 공유 목록\nexport const GET_RECENT_BOOKS_PENGIND = \"GET_RECENT_BOOKS_PENDING\";\nexport const GET_RECENT_BOOKS_SUCCESS = \"GET_RECENT_BOOKS_SUCCESS\";\nexport const GET_RECENT_BOOKS_FAILURE = \"GET_RECENT_BOOKS_FAILURE\";\n\nexport const GET_SEARCH_BOOKS = \"GET_SEARCH_BOOKS\"; //검색 요청\nexport const GET_SEARCH_BOOKS_PENGIND = \"GET_SEARCH_BOOKS_PENDING\";\nexport const GET_SEARCH_BOOKS_SUCCESS = \"GET_SEARCH_BOOKS_SUCCESS\";\nexport const GET_SEARCH_BOOKS_FAILURE = \"GET_SEARCH_BOOKS_FAILURE\";\n\nexport const GET_MORE_BOOKS = \"GET_MORE_BOOKS\";\nexport const GET_MORE_BOOKS_PENGIND = \"GET_MORE_BOOKS_PENDING\";\nexport const GET_MORE_BOOKS_SUCCESS = \"GET_MORE_BOOKS_SUCCESS\";\nexport const GET_MORE_BOOKS_FAILURE = \"GET_MORE_BOOKS_FAILURE\";\n\nexport const POST_BOOK = \"POST_BOOK\"; //책 업로드\nexport const POST_BOOK_PENDING = \"POST_BOOK_PENDING\";\nexport const POST_BOOK_SUCCESS = \"POST_BOOK_SUCCESS\";\nexport const POST_BOOK_FAILURE = \"POST_BOOK_FAILURE\";\n\nexport const EDIT_BOOK = \"EDIT_BOOK\"; //책 수정\nexport const EDIT_BOOK_PENDING = \"EDIT_BOOK_PENDING\";\nexport const EDIT_BOOK_SUCCESS = \"EDIT_BOOK_SUCCESS\";\nexport const EDIT_BOOK_FAILURE = \"EDIT_BOOK_FAILURE\";\n\nexport const GET_VOTE_REVIEW = \"GET_VOTE_REVIEW\"; //리뷰 작성\nexport const GET_VOTE_REVIEW_PENDING = \"GET_VOTE_REVIEW_PENDING\";\nexport const GET_VOTE_REVIEW_SUCCESS = \"GET_VOTE_REVIEW_SUCCESS\";\nexport const GET_VOTE_REVIEW_FAILURE = \"GET_VOTE_REVIEW_FAILURE\";\n\nexport const GET_DETAIL = \"GET_DETAIL\"; //상세목록\nexport const GET_DETAIL_PENDING = \"GET_DETAIL_PENDING\";\nexport const GET_DETAIL_SUCCESS = \"GET_DETAIL_SUCCESS\";\nexport const GET_DETAIL_FAILURE = \"GET_DETAIL_FAILURE\";\n\nexport const POST_RATE = \"POST_RATE\"; //평점\nexport const POST_RATE_PENDING = \"POST_RATE_PENDING\";\nexport const POST_RATE_SUCCESS = \"POST_RATE_SUCCESS\";\nexport const POST_RATE_FAILURE = \"POST_RATE_FAILURE\";\n\nconsole.log(URL);\nconst requestAllBooks = (type, page) => {\n  return axios.get(`${URL}books/type/${decodeURI(type)}?page=${page}`);\n};\nconst requestSliderBooks = () => {\n  return axios.get(`${URL}book/sliders`);\n};\nconst requestgetBooks = (query, type=1, page=1) => {\n  return axios.get(`${URL}book/search?q=${decodeURI(query)}&type=${type}&page=${page}`);\n};\nconst requestInfo = (id) => {\n  return axios.get(`${URL}book/${id}`);\n};\nconst requestPostRate = (id, name, vote) => {\n  return axios.post(`${URL}book/${id}`, {\n    vote,\n    name,\n  });\n};\nconst requestRecentBooks = () => {\n  return axios.get(`${URL}books/recent`);\n};\nconst requestPopularBooks = () => {\n  return axios.get(`${URL}books/popular`);\n};\nconst requestEditBook = (data) => {\n  const { _id, title, contents, genres } = data;\n  return axios.put(`${URL}book/${_id}`, {\n    title,\n    contents,\n    genres,\n  });\n};\n\nexport const getAllBooks = (type, page) => ({\n  type: GET_BOOKS,\n  payload: requestAllBooks(type, page),\n});\nexport const getSliderBooks = () => ({\n  type: GET_SLIDER_BOOKS,\n  payload: requestSliderBooks(),\n});\nexport const getRecentBooks = () => ({\n  type: GET_RECENT_BOOKS,\n  payload: requestRecentBooks(),\n});\nexport const getPopularBooks = () => ({\n  type: GET_POPULAR_BOOKS,\n  payload: requestPopularBooks(),\n});\nexport const editBook = (data) => ({\n  type: EDIT_BOOK,\n  payload: requestEditBook(data),\n});\nexport const getBooks = (query = \" \", type = 0, page = 1) => ({\n  type: GET_SEARCH_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getMore = (query = \"\", type = 0, page = 1) => ({\n  type: GET_MORE_BOOKS,\n  payload: requestgetBooks(query, type, page),\n});\nexport const getDetail = (id) => ({\n  type: GET_DETAIL,\n  payload: requestInfo(id),\n});\nexport const postRate = (id, name, vote) => ({\n  type: POST_RATE,\n  payload: requestPostRate(id, name, vote),\n});\n\nconst initialState = {\n  allBookPending: false,\n  allBookSuccess: false,\n  allBookError: false,\n  allBookDone: false,\n  books: [],\n  morePending: false,\n  moreError: \"\",\n  moreDone: false,\n  sliderBooks: [],\n  sliderPending: false,\n  sliderError: false,\n  sliderSuccess: false,\n  total: 0,\n  vote_pending: false,\n  vote_error: false,\n  vote_success: false,\n  term: \"\",\n  book: {},\n  bookPending: false,\n  bookSuccess: false,\n  bookFailure: false,\n  recentBooks: [],\n  recentPending: false,\n  recentError: false,\n  recentSuccess: false,\n  popularBooks: [],\n  popularPending: false,\n  popularError: false,\n  popularSuccess: false,\n  editBookPending: false,\n  editBookSuccess: false,\n  editBookFailure: false,\n  searchPending: false,\n  searchSuccess: false,\n  searchFailure: false,\n};\n\nexport default handleActions(\n  {\n    [GET_SLIDER_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: true,\n        sliderError: false,\n        sliderSuccess: false,\n      };\n    },\n    [GET_SLIDER_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        sliderBooks: books,\n        sliderPending: false,\n        sliderSuccess: true,\n      };\n    },\n    [GET_SLIDER_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        sliderPending: false,\n        sliderError: true,\n      };\n    },\n\n    [GET_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        allBookPending: true,\n        allBookError: false,\n        allBookSuccess: false,\n        allBookDone: false,\n      };\n    },\n    [GET_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books, page },\n      } = action.payload;\n      return {\n        ...state,\n        allBookPending: false,\n        allBookSuccess: true,\n        allBookDone: books.length < 15 ? true : false,\n        books:\n          state.books === undefined || parseInt(page, 10) === 1\n            ? books\n            : [...state.books, ...books],\n      };\n    },\n    [GET_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        allBookPending: false,\n        allBookError: true,\n      };\n    },\n    [GET_SEARCH_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        books: [],\n        searchPending: true,\n        searchSuccess: false,\n        searchFailure: false,\n      };\n    },\n    [GET_SEARCH_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n      return {\n        ...state,\n        searchPending: false,\n        searchSuccess: true,\n        books: books,\n      };\n    },\n    [GET_SEARCH_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        searchPending: false,\n        searchFailure: true,\n      };\n    },\n    [GET_MORE_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        morePending: true,\n        moreError: false,\n      };\n    },\n    [GET_MORE_BOOKS_SUCCESS]: (state, action) => {\n      const {\n        data: { books },\n      } = action.payload;\n\n      return {\n        ...state,\n        morePending: false,\n        moreError: false,\n        moreDone: books.length < 10,\n        books: [...state.books, ...books],\n      };\n    },\n    [GET_MORE_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        morePending: false,\n        moreError: true,\n      };\n    },\n    [POST_RATE_PENDING]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: true,\n        vote_error: false,\n        vote_success: false,\n      };\n    },\n    [POST_RATE_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      //console.log(book);\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: false,\n        vote_success: true,\n        book,\n      };\n    },\n    [POST_RATE_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        vote_pending: false,\n        vote_error: true,\n        vote_success: false,\n      };\n    },\n    [GET_DETAIL_PENDING]: (state, action) => {\n      return {\n        ...state,\n        bookPending: true,\n        bookError: false,\n      };\n    },\n    [GET_DETAIL_SUCCESS]: (state, action) => {\n      const {\n        data: { book },\n      } = action.payload;\n      return {\n        ...state,\n        bookPending: false,\n        bookSuccess: true,\n        book,\n        votes: book.votes,\n      };\n    },\n    [GET_DETAIL_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        bookPending: false,\n        bookError: true,\n      };\n    },\n    [GET_RECENT_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: false,\n        recentSuccess: false,\n      };\n    },\n    [GET_RECENT_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      //console.log(\",\", data);\n      return {\n        ...state,\n        recentBooks: data,\n        recentPending: false,\n        recentSuccess: true,\n      };\n    },\n    [GET_RECENT_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        recentPending: true,\n        recentError: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_PENGIND]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: false,\n        popularSuccess: false,\n      };\n    },\n    [GET_POPULAR_BOOKS_SUCCESS]: (state, action) => {\n      const { data } = action.payload;\n      return {\n        ...state,\n        popularBooks: data,\n        popularPending: false,\n        popularSuccess: true,\n      };\n    },\n    [GET_POPULAR_BOOKS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        popularPending: true,\n        popularError: true,\n      };\n    },\n    [EDIT_BOOK_PENDING]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: true,\n        editBookSuccess: false,\n        editBookFailure: false,\n      };\n    },\n    [EDIT_BOOK_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookSuccess: true,\n      };\n    },\n    [EDIT_BOOK_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        editBookPending: false,\n        editBookFailure: true,\n      };\n    },\n  },\n  initialState\n);\n","export const getAtk = () => {\n  const atk = localStorage.getItem(\"atk\");\n  return atk;\n};\n\nexport const getAvartUrl = (img) => {\n  return img === undefined\n    ? \"https://wetuberbucket.s3.ap-northeast-2.amazonaws.com/avatars/58c11a401956bab841de5f227c337c43\"\n    : img;\n};\n\nexport const formatAuthors = (authors) => {\n  let s = \"\";\n  if (authors) {\n    for (let i = 0; i < authors.length; i++) {\n      s += `${authors[i]} `;\n    }\n  }\n  return s;\n};\n\nexport const getAvg = (votes) => {\n  if (votes) {\n    let total = 0;\n    if (votes.length > 0) {\n      for (let i = 0; i < votes.length; i++) {\n        total += parseInt(votes[i].vote);\n      }\n      return (total / votes.length).toFixed(2);\n    }\n    return 0;\n  }\n  return 0;\n};\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {\n  FaBookReader,\n  FaSignOutAlt,\n  FaUpload,\n  FaUserAlt,\n  FaSignInAlt,\n  FaUserPlus,\n  FaSearch\n} from \"react-icons/fa\";\nimport classnames from \"classnames/bind\";\nimport SearchBar from \"../SearchBar\";\nimport { check, logout } from \"../../reducer/login\";\nimport { getBooks } from \"../../reducer/books\";\nimport { getAtk } from \"../../utills\";\n\nimport style from \"./Header.scss\";\n\nconst cx = classnames.bind(style);\n\nconst Header = () => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  \n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n\n  const handleLogout = useCallback(async () => {\n    const {\n      value: { status },\n    } = await dispatch(logout());\n    if (status === 200) {\n      localStorage.removeItem(\"atk\");\n      window.location.href = \"/\";\n    }\n  }, [dispatch]);\n\n  const checkSize = (e) => {\n    const { innerWidth } = window;\n    if (innerWidth < 768) {\n      //console.log(\"isMobile\");\n      setIsMobile(true);\n    } else {\n      //console.log(\"not Mobile\");\n      setIsMobile(false);\n    }\n  };\n\n  useEffect(()=>{\n    checkUser();\n  },[checkUser]);\n\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, []);\n\n  const clickMenu = useCallback(() => {\n    setShowMenu((cur) => !cur);\n  }, [setShowMenu]);\n\n  return (\n    <header className={cx(\"header\")}>\n      <nav className={cx([\"nav\", isMobile && \"mobile\"])}>\n        <div className={cx(\"nav-title\")}>\n          <Link to={\"/\"}>\n            <span className={cx(\"fr\")}>Happ</span>\n            <span className={cx(\"en\")}>Reads</span>\n          </Link>\n        </div>\n        <SearchBar getBooks={getBooks} />\n        {isMobile && (\n          <ul className={cx(\"mobile-menu-bar\")} onClick={clickMenu}>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        )}\n        {isMobile === false && (\n          <div className={cx(\"nav-menu-container\")}>\n            <div className={cx(\"nav-menu-link\")}>\n              <Link to={\"/search?p=\"}>\n                <FaSearch />\n                <p>도서</p>\n              </Link>\n              <Link to={\"/community/reviews\"}>\n                <FaBookReader />\n                <p>책 리뷰</p>\n              </Link>\n            </div>\n            <ul className={cx(\"navbar-nav\")}>\n              {isLoggedIn ? (\n                <>\n                  <li>\n                    <span>\n                      <img\n                        src={profile.user ? profile.user.avatarUrl : \"\"}\n                        alt={\"me\"}\n                        onClick={clickMenu}\n                      />\n                    </span>\n                    <div className={cx(\"dropdown-menu\", `${showMenu ? \"show\" : \"\"}`)}>\n                      <ul>\n                        <li className={cx(\"dropdown-item\")}>\n                          <Link to=\"/me/books\">프로필</Link>\n                        </li>\n                        <li className={cx(\"dropdown-item\")}>\n                          <Link to=\"/upload\">책 업로드</Link>\n                        </li>\n                        <li className={cx(\"dropdown-item\")} onClick={handleLogout}>로그아웃</li>\n                      </ul>\n                      <div className={cx(\"callout\")}></div>\n                    </div>\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className={cx(\"login\")}>\n                    <Link to={\"/login\"}>로그인</Link>\n                  </li>\n                  <li>\n                    <Link to={\"/signup\"}>가입</Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n        )}\n      </nav>\n      {isMobile && showMenu && (\n        <ul className={cx(\"mobile-menu-container\")} onClick={clickMenu}>\n          {isLoggedIn ? (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/me/books\">\n                  <FaUserAlt /> 프로필\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to=\"/upload\">\n                  <FaUpload /> 책 업로드\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/search?p=\"}>\n                  <FaSearch /> 도서\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader /> 책 리뷰\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")} onClick={handleLogout}>\n                <FaSignOutAlt /> 로그아웃\n              </li>\n            </>\n          ) : (\n            <>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/login\"}>\n                  <FaSignInAlt /> 로그인\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/signup\"}>\n                  <FaUserPlus /> 가입\n                </Link>\n              </li>\n              <li className={cx(\"mobile-menu-item\")}>\n                <Link to={\"/community/reviews\"}>\n                  <FaBookReader /> 책 리뷰\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      )}\n    </header>\n  );\n};\nexport default Header;\n","import React from \"react\";\nimport moment from \"moment\";\nimport classnames from \"classnames/bind\";\nimport style from \"./Footer.scss\";\n\nconst cx = classnames.bind(style);\n\nconst Footer = () => {\n  return (\n    <footer className={cx(\"footer\")}>\n      <div className={cx(\"footer_icon\")}></div>\n      <span className={cx(\"footer_text\")}>\n        &copy; HappReads {moment().format(\"YYYY\")}\n      </span>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./FloatingButton.scss\";\nconst cx = classnames.bind(style);\nconst FloatingButton = () => {\n  const [hide, setHide] = useState(true);\n  const handleToTop = useCallback(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const handleScroll = useCallback(() => {\n    const pageYOffset = window.pageYOffset;\n    if (pageYOffset <= 600) {\n      setHide(true);\n    } else {\n      setHide(false);\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [handleScroll]);\n  return (\n    <button\n      className={cx([\"floating-button\", hide ? \"hide\" : \"show\"])}\n      onClick={handleToTop}\n    >\n      위로\n    </button>\n  );\n};\nexport default FloatingButton;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_USER = \"GET_USER\";\nexport const GET_USER_PENDING = \"GET_USER_PENDING\";\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport const GET_USER_FAILURE = \"GET_USER_FAILURE\";\n\nexport const GET_TOP_READERS = \"GET_TOP_READERS\";\nexport const GET_TOP_READERS_PENDING = \"GET_TOP_READERS_PENDING\";\nexport const GET_TOP_READERS_SUCCESS = \"GET_TOP_READERS_SUCCESS\";\nexport const GET_TOP_READERS_FAILURE = \"GET_TOP_READERS_FAILURE\";\n\nexport const GET_TOP_REVIEWERS = \"GET_TOP_REVIEWERS\";\nexport const GET_TOP_REVIEWERS_PENDING = \"GET_TOP_REVIEWERS_PENDING\";\nexport const GET_TOP_REVIEWERS_SUCCESS = \"GET_TOP_REVIEWERS_SUCCESS\";\nexport const GET_TOP_REVIEWERS_FAILURE = \"GET_TOP_REVIEWERS_FAILURE\";\n\nconst requestUser = (id) => {\n  return axios.get(`profile/${id}`);\n};\nconst requestTopReaders = (type) => {\n  return axios.get(`rank/reader/${type}`);\n};\nconst requestTopReviewers = (type) => {\n  return axios.get(`rank/reviewer/${type}`);\n};\n\nexport const getUser = (id) => ({\n  type: GET_USER,\n  payload: requestUser(id),\n});\nexport const getTopReaders = (type = 0) => ({\n  type: GET_TOP_READERS,\n  payload: requestTopReaders(type),\n});\nexport const getTopReviewers = (type) => ({\n  type: GET_TOP_REVIEWERS,\n  payload: requestTopReviewers(type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n  profile: {},\n  topReaders: [],\n  topReviewers: [],\n};\nexport default handleActions(\n  {\n    [GET_USER_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_USER_SUCCESS]: (state, action) => {\n      //console.log(action.payload.data.user);\n      return {\n        pending: false,\n        error: false,\n        profile: action.payload.data.user,\n      };\n    },\n    [GET_USER_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_READERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_SUCCESS]: (state, action) => {\n      const {\n        data: { readers },\n      } = action.payload;\n      return {\n        ...state,\n        topReaders: readers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_READERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [GET_TOP_REVIEWERS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviewers },\n      } = action.payload;\n      return {\n        ...state,\n        topReviewers: reviewers,\n        pending: false,\n        error: false,\n      };\n    },\n    [GET_TOP_REVIEWERS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./Modal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\n\nconst cx = classnames.bind(style);\nconst convertType = {\n  read: \"읽은 책\",\n  want_read: \"읽을 책\",\n  reading: \"읽는중\",\n};\n\nconst Modal = ({ handleSubmit, handleCancel, item, type }) => {\n  const [to, setTo] = useState(type);\n  const [book, setBook] = useState({ ...item });\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n\n  const handleSelect = useCallback((e) => {\n    const { target } = e;\n    setTo(target.options[target.selectedIndex].value);\n  }, []);\n\n  const handleClick = useCallback(\n    async () => {\n      const { user } = profile;\n      try {\n        dispatch(postShelve(user.email, item._id, to));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [item, to, profile, dispatch]\n  );\n\n  const changeTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        title: target.value,\n      });\n    },\n    [book]\n  );\n\n  const changeGenres = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        genres: target.value,\n      });\n    },\n    [book]\n  );\n  \n  const changeContents = useCallback(\n    (e) => {\n      const { target } = e;\n      setBook({\n        ...book,\n        contents: target.value,\n      });\n    },\n    [book]\n  );\n\n  return (\n    <div className=\"modal-container\">\n      <div className=\"modal-overlay\"></div>\n      <div className=\"modal\">\n        <p className={cx(\"exit\")}>\n          <span role=\"img\" aria-label=\"cancel\" onClick={handleCancel}>\n            ❌\n          </span>\n        </p>\n        {type ? (\n          <>\n            <img src={item.thumbnail} alt={item.id} />\n            <div className={cx(\"status-wrapper\")}>\n              <div className={cx(\"read-status\")}>\n                <span>현재 상태:</span>\n                <p className={cx(\"current-status\")}>{convertType[type]}</p>\n              </div>\n              <select\n                className={cx(\"select\")}\n                value={to}\n                onChange={handleSelect}\n              >\n                <option value={\"want_read\"}>읽을 책</option>\n                <option value={\"reading\"}>읽\b는중</option>\n                <option value={\"read\"}>읽음</option>\n              </select>\n              <div className={cx(\"button-container\")}>\n                <button className={cx(\"ok-btn\")} onClick={handleClick}>\n                  수정\n                </button>\n                <button className={cx(\"cancel-btn\")} onClick={handleCancel}>\n                  취소\n                </button>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className={cx(\"book-info-container\")}>\n            <div className={cx(\"img-container\")}>\n              <img src={book.thumbnail} alt={book.title} />\n            </div>\n            <form\n              className={cx(\"book-info-form\")}\n              onSubmit={handleSubmit(book)}\n            >\n              <input\n                value={book.title}\n                placeholder=\"제목\"\n                onChange={changeTitle}\n              />\n              <input\n                value={book.genres}\n                placeholder=\"장르\"\n                onChange={changeGenres}\n              />\n              <textarea\n                value={book.contents}\n                placeholder=\"요약\"\n                onChange={changeContents}\n              />\n              <button className={\"ok-btn\"} type=\"submit\">수정</button>\n            </form>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./BookShelve.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUser } from \"../../reducer/user\";\nimport { deleteShelve, check } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { getAvg, getAtk } from \"../../utills\";\nimport { editBook } from \"../../reducer/books\";\nimport Modal from \"../Modal\";\nconst cx = classnames.bind(style);\nconst BookShelve = () => {\n  const [shelve, setShelve] = useState({\n    type: 1,\n    openModal: false,\n    lastPos: 90,\n    item: {},\n    status: \"\",\n  });\n  const dispatch = useDispatch();\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const { profile: user } = useSelector((state) => state.user);\n  const loadUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      dispatch(check(atk));\n    }\n    const tmp = window.location.hash.split(\"/\");\n    const uid = tmp[tmp.length - 1]; //pathname.substring(1).split(\"/\")[1];\n    dispatch(getUser(uid));\n  }, [dispatch]);\n  useEffect(() => {\n    loadUser();\n    window.scrollTo(0, 0);\n    return () => {};\n  }, [loadUser]);\n\n  const getBooks = () => {\n    const { user } = profile;\n    if (user) {\n      const tags = user?.uploaded?.map((item) => {\n        return (\n          <tr key={item._id}>\n            <td>\n              <Link to={`/book/${item._id}`}>\n                <img src={item.thumbnail} alt={item.thumbnail}></img>\n              </Link>\n            </td>\n            <td>\n              <Link to={`/book/${item._id}`}>{item.title}</Link>\n            </td>\n            <td>\n              {item.authors.length > 1\n                ? `${item.authors[0]} *`\n                : item.authors[0]}\n            </td>\n            <td>{item.votes ? getAvg(item.votes) : 0.0}</td>\n            <td>{moment(item.createdAt).format(\"YY년MM월DD일 HH:MM:SS\")}</td>\n            <td className={cx(\"settings uploaded\")}>\n              <p onClick={handleOpen(item)}>수정</p>\n              <p onClick={onDeleteShelve(user._id, item._id)}>X</p>\n            </td>\n          </tr>\n        );\n      });\n      return tags;\n    }\n    return null;\n  };\n  const onDeleteShelve = useCallback(\n    (uid, bid, type) => async (e) => {\n      try {\n        const response = await dispatch(deleteShelve(uid, bid, type)); //await deleteShelve(uid, bid, type);\n        const {\n          value: { status },\n        } = response;\n        if (status === 200) {\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, loadUser]\n  );\n\n  const handleOpen = useCallback(\n    (book) => (e) => {\n      setShelve({\n        ...shelve,\n        openModal: true,\n        item: book,\n      });\n    },\n    [shelve]\n  );\n  const handleCancel = useCallback(\n    (e) => {\n      setShelve({\n        ...shelve,\n        openModal: false,\n      });\n    },\n    [shelve]\n  );\n  const handleSubmit = useCallback(\n    (book) => async (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        try {\n          const response = await dispatch(\n            editBook({\n              ...book,\n            })\n          );\n          const {\n            value: { status },\n          } = response;\n          if (status === 200) {\n            loadUser();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    [dispatch, loadUser, isLoggedIn]\n  );\n  const { openModal, item } = shelve;\n  return (\n    <section className={cx(\"book-shelve\")}>\n      {openModal ? (\n        <Modal\n          handleCancel={handleCancel}\n          handleSubmit={handleSubmit}\n          item={item}\n        />\n      ) : null}\n      <div>\n        <p className={cx(\"shelve-header\")}>{user ? user.email : \"\"}의 책장</p>\n      </div>\n      <div>\n        <table>\n          <thead>\n            <tr>\n              <th>커버</th>\n              <th>제목</th>\n              <th>저자</th>\n              <th>평균</th>\n              <th>생성 날짜</th>\n              {profile?.user && user && user._id === profile.user._id ? (\n                <th>설정</th>\n              ) : null}\n            </tr>\n          </thead>\n          <tbody>{getBooks()}</tbody>\n        </table>\n      </div>\n    </section>\n  );\n};\nexport default BookShelve;\n","import Helmet from \"./Helmet\";\nexport default Helmet;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst ReactHelmet = ({ title, keywords, description }) => {\n  return (\n    <Helmet>\n      {description && <meta name=\"description\" content={description} />}\n      {keywords && <meta name=\"keywords\" content={keywords} />}\n      <title>{title}</title>\n      <meta property=\"og:title\" content={title} />\n      <meta name=\"twitter:title\" content={title} />\n    </Helmet>\n  );\n};\nexport default ReactHelmet;\n","import React from \"react\";\nimport style from \"./HomeSection.scss\";\nimport classname from \"classnames/bind\";\n\nconst cx = classname.bind(style);\nconst HomeSection = () => {\n  return (\n    <section className={cx(\"home-section\")}>\n      <section className={cx(\"words\")}>\n        <h3>With Happyness</h3>\n        <h4>자신의 인생 책을 찾아보세요</h4>\n      </section>\n    </section>\n  );\n};\n\nexport default HomeSection;\n","import React from \"react\";\nimport style from \"./ScrollItem.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst ScrollItem = ({ children }) => {\n  return <div className={cx(\"scroll-item\")}>{children}</div>;\n};\nexport default ScrollItem;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport style from \"./SlickList.scss\";\nimport classnames from \"classnames/bind\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ScrollItem from \"../ScrollItem\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nconst cx = classnames.bind(style);\nconst SlickList = ({ books }) => {\n  const [settings, setSettings] = useState({\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    adaptiveHeight: true,\n    autoplay: true,\n    autoplaySpeed: 4000,\n  });\n  const checkSize = useCallback(() => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth >= 0 && innerWidth <= 425) {\n      setSettings({\n        ...settings,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      });\n    } else if (innerWidth >= 426 && innerWidth <= 1024) {\n      setSettings({\n        ...settings,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n      });\n    } else {\n      setSettings({\n        ...settings,\n        slidesToShow: 6,\n        slidesToScroll: 6,\n      });\n    }\n  }, [settings]);\n  useEffect(() => {\n    checkSize();\n    window.addEventListener(\"resize\", checkSize);\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, []);\n  return (\n    <section className={cx(\"slider-container\")}>\n      <Slider {...settings}>\n        {books?.slice(0, 8)?.map((book) => (\n          <ScrollItem key={v4()}>\n            <Link to={`/book/${book._id}`}>\n              <img src={book.thumbnail} alt={book.title} />\n            </Link>\n          </ScrollItem>\n        ))}\n      </Slider>\n    </section>\n  );\n};\nexport default SlickList;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames/bind\";\nimport * as actions from \"../../reducer/login\";\nimport Modal from \"../Modal\";\nimport style from \"./Book.scss\";\n\nconst cx = classnames.bind(style);\nconst isMe = window.location.href.includes(\"/me\");\n\nconst Book = (props) => {\n  const { from, type } = props;\n  const [isOpen, setOpen] = useState(false);\n\n  const formatAuthors = (authors) => {\n    let format = \"\";\n    authors.forEach((ele) => {\n      format += ele;\n    });\n    return format;\n  };\n\n  if (from === \"home\") {\n    const { book } = props;\n    return (\n      <div className={cx(\"book\")}>\n        <img src={book.thumbnail} alt=\"book\" />\n        <p>{book.title}</p>\n      </div>\n    );\n  } else if (from === \"search\") {\n    const { book } = props;\n    return (\n      <li className={cx(\"ser-bg\")}>\n        <div className={cx(\"ser-book\")}>\n          <Link to={`/book/${book._id}`}>\n            <img src={book.thumbnail} alt=\"book\" />\n          </Link>\n        </div>\n        <div className={cx(\"ser-info\")}>\n          <Link to={`/book/${book._id}`}>\n            <h3 className={cx(\"ser-title\")}>{book.title}</h3>\n          </Link>\n          <p className={cx(\"ser-author\")}>{formatAuthors(book.authors)}</p>\n          <p className={cx(\"ser-contents\")}>\n            {book && book.contents\n              ? book.contents.length > 100\n                ? `${book.contents.substr(0, 100)}...`\n                : book.contents\n              : \"입력된 내용이 없습니다\"}\n          </p>\n        </div>\n      </li>\n    );\n  } else if (from === \"profile\") {\n    const {\n      book: { book },\n    } = props;\n    const handleDelete = (type) => () => {\n      const {\n        deleteShelve,\n        book,\n        profile: { user },\n      } = props;\n      deleteShelve(user._id, book._id, type);\n    };\n    const handleEdit = () => {\n      setOpen((cur) => !cur);\n    };\n\n    return (\n      <div className={cx(\"shelve\")}>\n        <Link to={`/book/${book?._id}`}>\n          <p className={cx(\"title\")}>{book?.title}</p>\n        </Link>\n        {isMe && (\n          <div className={cx(\"setting-btns\")}>\n            <div className={cx(\"edit-container\")}>\n              <span className={cx(\"edit\")} onClick={handleEdit}>\n                <FaEdit />\n              </span>\n              {isOpen && <Modal type={type} item={book} handleCancel={handleEdit} />}\n            </div>\n            <div>\n              <span className={cx(\"delete\")} onClick={handleDelete(type)}>\n                <FaTrash />\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n};\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.login.profile,\n    success: state.login.success,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    postShelve: (email, id, type) =>\n      dispatch(actions.postShelve(email, id, type)),\n    deleteShelve: (id, bid, type) =>\n      dispatch(actions.deleteShelve(id, bid, type)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React,{forwardRef} from 'react';\n\nimport \"./LoadMore.scss\";\n\nconst LoadMore = forwardRef(({text,handleClick},ref)=>{\n  return <button className=\"load-more\" type=\"button\" ref={ref} onClick={handleClick}>\n      {text}\n  </button>\n});\n\nexport default LoadMore;","import React, {forwardRef} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport { v4 } from \"uuid\";\nimport classnames from \"classnames/bind\";\nimport Book from \"../Book/Book\";\nimport LoadMore from \"../LoadMore/LoadMore\";\nimport style from \"./BookList.scss\";\n\nconst cx = classnames.bind(style);\n\nconst BookList = forwardRef(({ from, booklist, type, handleMore, done },ref) => {\n  if (from === \"home\") {\n    return (\n      <section className={cx(\"book-list\")}>\n        {booklist ? (\n          type === \"전체\" && booklist.length > 0 ? (\n            <>\n              {booklist.map((book) => {\n                return (\n                  <Link to={`/book/${book._id}`} key={v4()}>\n                    <Book book={book} from={from} />\n                  </Link>\n                );\n              })}\n              {done === false && (\n                <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                  <LoadMore text={\"더 보기+\"} ref={ref}/>\n                </div>\n              )}\n            </>\n          ) : (\n            <>\n              {booklist\n                .filter((book) => book?.genres?.includes(type))\n                .map((book) => {\n                  return (\n                    <Link to={`/book/${book._id}`} key={v4()}>\n                      <Book book={book} from={from} />\n                    </Link>\n                  );\n                })}\n              {booklist.filter((book) => book?.genres?.includes(type)).length >\n                0 &&\n                done === false &&\n                booklist.length % 15 !== 0 && (\n                  <div className={cx(\"more-book-btn\")} onClick={handleMore}>\n                    <LoadMore text={\"더 보기+\"} ref={ref}/>\n                  </div>\n                )}\n            </>\n          )\n        ) : (\n          <ChasingDots color=\"white\" size={60} />\n        )}\n      </section>\n    );\n  } else if (from === \"search\") {\n    return (\n      <section className={cx(\"ser-container\")}>\n        <ul className={cx(\"ser-ul\")}>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} />;\n          })}\n          {!done&&<li className=\"ser-load-more\">\n            <LoadMore text={\"더 보기+\"} ref={ref} handleClick={handleMore}/>\n          </li>}\n        </ul>\n\n      </section>\n    );\n  } else if (from === \"profile\") {\n    return (\n      <section>\n        <ul>\n          {booklist.map((book) => {\n            return <Book book={book} from={from} key={v4()} type={type} />;\n          })}\n        </ul>\n      </section>\n    );\n  }\n});\n\nexport default BookList;\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./VerticalScroll.scss\";\nimport Book from \"../Book/Book\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\n\nconst cx = classnames.bind(style);\nconst VerticalScroll = ({ title, books }) => {\n  return (\n    <section className={cx(\"vertical\")}>\n      <p className={cx(\"vertical-item-title\")}>\n        {title}\n        <FontAwesomeIcon className={cx(\"book-icon\")} icon={faBook} />\n      </p>\n      <section className={cx(\"vertical-item-list\")}>\n        {books?.map((book) => (\n          <Link key={v4()} to={`/book/${book._id}`}>\n            <Book book={book} from={\"home\"} />\n          </Link>\n        ))}\n      </section>\n    </section>\n  );\n};\nexport default VerticalScroll;\n","import VerticalScroll from \"./VerticalScroll\";\nexport default VerticalScroll;\n","import React, { useRef, useState, useCallback } from \"react\";\nimport style from \"./HomeContent.scss\";\nimport classnames from \"classnames/bind\";\nimport SlickList from \"../../SlickList\";\nimport BookList from \"../../BookList\";\nimport VerticalScroll from \"../../VerticalScroll\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { v4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllBooks } from \"../../../reducer/books\";\n\nconst category = [\n  \"전체\",\n  \"소설\",\n  \"IT\",\n  \"경제\",\n  \"교양\",\n  \"자기계발\",\n  \"과학\",\n  \"역사\",\n  \"정치\",\n  \"기타\",\n]\n\nconst cx = classnames.bind(style);\nconst HomeContent = ({\n  booklist,\n  handleClick,\n  sliderBooks,\n  recentBooks,\n  popularBooks,\n  type,\n  done,\n}) => {\n  //const [isMobile, setIsMobile] = useState(false);\n  const [hide, setHide] = useState(true);\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const {\n    allBookDone,\n  } = useSelector((state) => state.books);\n\n  const loadMoreRef = useRef(null);\n\n  const handleMore = () => {\n    if (!allBookDone) {\n      dispatch(getAllBooks(\"전체\", page + 1));\n      setPage(page + 1);\n    }\n    if(loadMoreRef.current){\n      loadMoreRef.current.blur();\n    }\n  };\n\n  const toggleHide = () => {\n    setHide((cur) => !cur);\n  };\n\n  return (\n    <section className={cx(\"home-content\")}>\n      <SlickList books={sliderBooks} />\n      <VerticalScroll\n        title={\"최근 공유된 책\"}\n        books={recentBooks.slice(0, 15)}\n      />\n      <VerticalScroll title={\"평점 좋은 책\"} books={popularBooks} />\n      <section className={cx(\"books-wrapper\")}>\n        <section className={cx(\"book-category-section\")}>\n          <div\n            className={cx([\"book-category-div\", `${hide ? `hide` : `more`}`])}\n          >\n            <ul className={cx(\"book-category-ul\")}>\n              {hide\n                ? category.slice(0, 7).map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))\n                : category.map((item) => (\n                    <li\n                      key={v4()}\n                      className={cx(\n                        `book-category-li`,\n                        `${type === item ? `selected` : \"\"}`\n                      )}\n                      onClick={handleClick}\n                      data-value={item}\n                    >\n                      {item}\n                    </li>\n                  ))}\n            </ul>\n          </div>\n          <div className={cx(\"more-container\")} onClick={toggleHide}>\n            {hide ? \"더 보기\" : \"숨기기\"}\n            <FontAwesomeIcon\n              className={cx(\"more\")}\n              icon={hide ? faAngleDown : faAngleUp}\n            />\n          </div>\n        </section>\n        <BookList\n          booklist={booklist}\n          handleMore={handleMore}\n          from={\"home\"}\n          type={type}\n          done={done}\n          ref={loadMoreRef}\n        />\n      </section>\n    </section>\n  );\n};\n\nexport default HomeContent;\n","import React from \"react\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport style from \"./Loading.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Loading = () => {\n  return (\n    <section className={cx(\"loading\")}>\n      <ChasingDots color=\"white\" size={60} />\n    </section>\n  );\n};\nexport default Loading;\n","import Loading from \"./Loading\";\nexport default Loading;\n","import Home from \"./Home\";\nexport default Home;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nimport HomeSection from \"../../components/Home/HomeSection\";\nimport HomeContent from \"../../components/Home/HomeContent\";\nimport {\n  getAllBooks,\n  getSliderBooks,\n  getRecentBooks,\n  getPopularBooks,\n} from \"../../reducer/books\";\nimport Loading from \"../../components/Loading\";\n\nconst Home = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [type, setType] = useState(\"전체\");\n  const dispatch = useDispatch();\n  const {\n    allBookDone,\n    sliderPending,\n    recentPending,\n    popularPending,\n    books,\n    sliderBooks,\n    recentBooks,\n    popularBooks,\n  } = useSelector((state) => state.books);\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(getAllBooks(\"전체\", 1));\n    dispatch(getSliderBooks());\n    dispatch(getRecentBooks());\n    dispatch(getPopularBooks());\n    setIsLoading(false);\n  }, [dispatch]);\n  const handleClick = useCallback(\n    (e) => {\n      const {\n        target: { dataset },\n      } = e;\n      setType(dataset.value);\n    },\n    [setType]\n  );\n\n  return (\n    <main>\n      <Helmet\n        title={`Home | HappReads`}\n        description={\n          \"책들을 공유 그리고 리뷰하며 읽어보지 못한 새로운 책을 발견하세요!!\"\n        }\n        keywords={`책, 책 공유, 책 리뷰, HappReads, happreads`}\n      />\n      {isLoading || sliderPending || recentPending || popularPending ? (\n        <Loading />\n      ) : (\n        <>\n          <HomeSection />\n          <HomeContent\n            booklist={books}\n            sliderBooks={sliderBooks}\n            recentBooks={recentBooks}\n            popularBooks={popularBooks}\n            handleClick={handleClick}\n            done={allBookDone}\n            type={type}\n          />\n        </>\n      )}\n    </main>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport { FaGithubSquare } from \"react-icons/fa\";\nimport style from \"./SocialLogin.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst SocialLogin = ({ type }) => {\n  return (\n    <div className={cx(\"social-login\")}>\n      <h2>{type === \"login\" ? \"로그인\" : \"회원가입\"}</h2>\n      <button className={cx(\"github\", \"button\")}>\n        <span className={cx(\"icon\")}>\n          <FaGithubSquare />\n        </span>\n        <span>Github으로 시작하기</span>\n      </button>\n    </div>\n  );\n};\n\nexport default SocialLogin;\n","import React, { useState, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport style from \"../Form.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../../SocialLogin/SocialLogin\";\n\nconst cx = classnames.bind(style);\nconst LoginForm = ({ loginRequest, login_success, login_pending }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      loginRequest(email, password);\n    },\n    [email, password, loginRequest]\n  );\n  const handleEmail = useCallback((e) => {\n    setEmail(e.target.value);\n  }, []);\n  const handlePassword = useCallback((e) => {\n    setPassword(e.target.value);\n  }, []);\n  return (\n    <>\n      <div className={cx(\"login-form\", \"form-container\")}>\n        <SocialLogin type=\"login\" />\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={handleEmail}\n            placeholder=\"이메일\"\n            required\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePassword}\n            placeholder=\"비밀번호\"\n            required\n          />\n          <input type=\"submit\" value=\"로그인\" />\n        </form>\n        <Link to=\"/signup\">\n          <button>가입</button>\n        </Link>\n      </div>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport style from \"./Notice.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Notice = ({ type, children }) => {\n  return <div className={cx([\"notice-container\", type])}>{children}</div>;\n};\nexport default Notice;\n","import Notice from \"./Notice\";\nexport default Notice;\n","import React from \"react\";\nimport LoginForm from \"../../components/User/LoginForm\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Helmet from \"../../components/Helmet\";\nimport { login } from \"../../reducer/login\";\nimport { Redirect } from \"react-router\";\nimport Notice from \"../../components/Notice\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst Login = () => {\n  const { isLoggedIn, loginPending, loginSuccess, loginError } = useSelector(\n    (state) => state.login\n  );\n  const dispatch = useDispatch();\n  const saveATK = (t) => {\n    localStorage.setItem(\"atk\", t);\n  };\n  const handleLogin = async (email, password) => {\n    try {\n      const {\n        value: { data, status },\n      } = await dispatch(login(email, password));\n      if (status === 200) {\n        saveATK(data.token);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  if (isLoggedIn === true) {\n    return <Redirect to={\"/\"} />;\n  }\n  return (\n    <>\n      <Helmet title={`Login | HappReads`} />\n      {loginError && (\n        <Notice type={\"error\"}>\n          등록되지 않은 이메일 혹은 비밀번호가 틀렸습니다\n        </Notice>\n      )}\n      <LoginForm\n        loginRequest={handleLogin}\n        login_pending={loginPending}\n        login_success={loginSuccess}\n      />\n    </>\n  );\n};\nexport default Login;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"../Form.scss\";\nimport classnames from \"classnames/bind\";\nimport SocialLogin from \"../../SocialLogin/SocialLogin\";\n\nconst cx = classnames.bind(style);\nconst SignUpForm = ({ handleSignUp }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState({\n    p1: \"\",\n    p2: \"\",\n  });\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { p1, p2 } = password;\n    if (p1 === p2) {\n      handleSignUp(email, p1);\n    }\n  };\n  const handleEmail = useCallback((e) => {\n    const { target } = e;\n    setEmail(target.value);\n  }, []);\n  const handlePassword1 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p1: target.value,\n      });\n    },\n    [password]\n  );\n  const handlePassword2 = useCallback(\n    (e) => {\n      const { target } = e;\n      setPassword({\n        ...password,\n        p2: target.value,\n      });\n    },\n    [password]\n  );\n  return (\n    <section className={cx(\"signup-form\", \"form-container\")}>\n      <SocialLogin type=\"signup\" />\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          value={email}\n          onChange={handleEmail}\n          placeholder=\"이메일\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p1}\n          onChange={handlePassword1}\n          placeholder=\"비밀번호\"\n          required\n        />\n        <input\n          type=\"password\"\n          value={password.p2}\n          onChange={handlePassword2}\n          placeholder=\"비밀번호 재입력\"\n          required\n        />\n        <input type=\"submit\" value=\"가입\" />\n      </form>\n    </section>\n  );\n};\n\nexport default SignUpForm;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const SIGNUP = \"SIGNUP\";\nexport const SIGNUP_PENDING = \"SIGNUP_PENDING\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\n\nconst requestSignUp = (email, password) => {\n  return axios.post(\"signup\", {\n    email: email,\n    password: password,\n  });\n};\nexport const userSignup = (email, password) => ({\n  type: SIGNUP,\n  payload: requestSignUp(email, password),\n});\nconst initialState = {\n  signup_pending: false,\n  signup_success: false,\n  signup_error: false,\n};\nexport default handleActions(\n  {\n    [SIGNUP_PENDING]: (state, action) => {\n      return {\n        signup_pending: true,\n        signup_success: false,\n        signup_error: false,\n      };\n    },\n    [SIGNUP_SUCCESS]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_success: true,\n      };\n    },\n    [SIGNUP_FAILURE]: (state, action) => {\n      return {\n        signup_pending: false,\n        signup_error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SignUpForm from \"../../components/User/SignUpForm\";\nimport { userSignup } from \"../../reducer/signup\";\nimport Helmet from \"../../components/Helmet\";\nimport dotenv from \"dotenv\";\n\ndotenv.config();\n\nconst SignUp = ({ history }) => {\n  const dispatch = useDispatch();\n  const { signup_pending, signup_success, signup_error } = useSelector(\n    (state) => state.signup\n  );\n  const { isLoggedIn } = useSelector((state) => state.login);\n  const handleSignUp = async (email, p) => {\n    dispatch(userSignup(email, p));\n  };\n  if (isLoggedIn) {\n    return (\n      <Redirect\n        to={process.env.NODE_ENV === \"development\" ? \"/\" : \"/HappReads-front\"}\n      />\n    );\n  }\n  if (signup_success) {\n    return <Redirect to=\"/login\" />;\n  }\n  return (\n    <>\n      <Helmet title={`SignUp | HappReads`} />\n      <SignUpForm\n        history={history}\n        handleSignUp={handleSignUp}\n        signup_pending={signup_pending}\n        signup_success={signup_success}\n        signup_error={signup_error}\n      />\n    </>\n  );\n};\nexport default SignUp;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {v4} from \"uuid\";\nimport { getUser } from \"../../reducer/user\";\nimport BookList from \"../../components/BookList\";\nimport Loading from \"../../components/Loading\";\nimport cx from 'classnames';\n\nconst UserBookList = ({ from, profile, type }) => {\n  if (type !== \"uploaded\") {\n    return from.includes(\"/me\") ? (\n      profile && profile[type]?.length > 0 ? (\n        <div>\n          <BookList booklist={profile[type]} from=\"profile\" type={type} />\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      )\n    ) : profile && profile[type]?.length > 0 ? (\n      <div>\n        <BookList booklist={profile[type]} from=\"profile\" />\n      </div>\n    ) : (\n      <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n    );\n  } else {\n    return from.includes(\"/me\") ? (\n      profile && profile?.uploaded?.length > 0 ? (\n        <div className={cx(\"uploaded-list\")}>\n          {profile?.uploaded?.map((book) => {\n            return (\n              <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n                <img\n                  className={cx(\"uploaded-img\")}\n                  src={book.thumbnail}\n                  alt={book.thumbnail}\n                />\n                <div className={cx(\"to-detail\")}>\n                  <Link to={`/book/${book._id}`}>{book.title}</Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n      )\n    ) : profile && profile?.uploaded?.length > 0 ? (\n      <div className={cx(\"uploaded-list\")}>\n        {profile?.uploaded?.map((book) => {\n          return (\n            <div className={cx(\"uploaded-img-wrapper\")} key={v4()}>\n              <img\n                className={cx(\"uploaded-img\")}\n                src={book.thumbnail}\n                alt={book.thumbnail}\n              />\n              <div className={cx(\"to-detail\")}>\n                <Link to={`/book/${book._id}`}>상세 페이지</Link>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    ) : (\n      <p className={cx(\"recent-empty\")}>최근 아무 활동도 없습니다.</p>\n    );\n  }\n};\n\nconst Profile = ({ history: { location },from, profile }) => {\n  const [loading, setIsLoading] = useState(true);\n  const { pending } = useSelector((state) => state.login);\n  const {  pending: userPending } = useSelector(\n    (state) => state.user\n  );\n  const dispatch = useDispatch();\n\n  const getProfile = useCallback(\n    async (id) => {\n      try {\n        dispatch(getUser(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n    if (location.pathname.includes(\"/me\")) {\n      const uid = location.pathname.substring(1).split(\"/\")[1];\n      getProfile(uid);\n    }\n    setIsLoading(false);\n  }, [getProfile, location.pathname]);\n\n  return (\n    <>\n      {loading || pending || userPending ? (\n        <Loading />\n      ) : (\n        <section>\n          <section className={cx(\"uploaded\")}>\n            <div className={cx(\"uploaded-head\")}>\n              {from === \"/me\" ? (\n                  <Link\n                      to={\n                      profile && profile._id\n                      ? `shelve/${profile._id}`\n                      : `/`\n                      }\n                  >\n                    <h2>업로드 한 책</h2>\n                  </Link>\n                ) : (\n                  <h2>업로드 한 책</h2>\n              )}\n            </div>\n            <div\n                className={cx(\"uploaded-body\")}\n            >\n              <UserBookList\n                from={from}\n                profile={profile}\n                type={\"uploaded\"}\n              />\n            </div>\n          </section>\n          <section className={cx(\"want-read\")}>\n            <div className={cx(\"want-read-head\")}>\n              <h2>\n                읽을 책 (\n                  {profile && profile.want_read\n                  ? profile.want_read.length\n                    : 0}\n                )\n              </h2>\n            </div>\n            <div className={cx(\"want-read-body\")}>\n              <UserBookList\n                from={from}\n                profile={profile}\n                type={\"want_read\"}\n              />\n            </div>\n            <div></div>\n          </section>\n          <section className={cx(\"currently-reading\")}>\n            <div className={cx(\"currently-head\")}>\n              <h2>\n                현재 읽고 있는 책 (\n                {profile && profile.reading\n                  ? profile?.reading.length\n                  : 0})\n              </h2>\n            </div>\n            <div className={cx(\"currently-body\")}>\n              <UserBookList\n                from={from}\n                profile={profile}\n                type={\"reading\"}\n              />\n            </div>\n          </section>\n          <section className={cx(\"read\")}>\n            <div className={cx(\"read-head\")}>\n              <h2>\n                읽은 책 (\n                {profile && profile.read \n                  ? profile.read.length\n                  : 0})\n              </h2>\n            </div>\n            <div className={cx(\"read-body\")}>\n              <UserBookList from={from} profile={profile} type={\"read\"} />\n            </div>\n          </section>\n        </section>\n      )}\n    </>\n  );\n};\nexport default Profile;\n","import Profile from \"./Profile\";\nexport default Profile;\n","import React, { useCallback } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport style from \"./Rater.scss\";\nimport classnames from \"classnames/bind\";\nimport { useSelector } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst values = [\"1\", \"2\", \"3\", \"4\", \"5\"];\nconst starStyle = {\n  color: \"#f1c40f\",\n  cursor: \"pointer\",\n};\nconst Rater = ({ book, postVote, votes }) => {\n  const { isLoggedIn, profile } = useSelector((state) => state.login);\n  const handleVote = useCallback(\n    async (vote) => {\n      const { _id } = book;\n      const {\n        user: { email },\n      } = profile;\n      await postVote(_id, email, vote);\n    },\n    [book, profile, postVote]\n  );\n  const handleOnClick = useCallback(\n    (e) => {\n      let currentItem = e.target;\n      while (currentItem.nodeName !== \"svg\") {\n        currentItem = currentItem.parentNode;\n      }\n      const rating = currentItem.dataset.rating;\n      if (isLoggedIn) handleVote(rating);\n      else alert(\"로그인 필요한 서비스 입니다\");\n    },\n    [isLoggedIn, handleVote]\n  );\n  return (\n    <div className={cx(\"rater\")}>\n      {values.map((value, idx) => {\n        return (\n          <FaStar\n            key={idx}\n            data-rating={idx + 1}\n            onClick={handleOnClick}\n            style={votes >= idx + 1 ? starStyle : {}}\n          />\n        );\n      })}\n    </div>\n  );\n};\nexport default Rater;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nexport const GET_REVIEWS = \"GET_REVIEWS\";\nexport const GET_REVIEWS_PENDING = \"GET_REVIEWS_PENDING\";\nexport const GET_REVIEWS_SUCCESS = \"GET_REVIEWS_SUCCESS\";\nexport const GET_REVIEWS_FAILURE = \"GET_REVIEWS_FAILURE\";\n\nexport const GET_REVIEW = \"GET_REVIEW\";\nexport const GET_REVIEW_PENDING = \"GET_REVIEW_PENDING\";\nexport const GET_REVIEW_SUCCESS = \"GET_REVIEW_SUCCESS\";\nexport const GET_REVIEW_FAILURE = \"GET_REVIEW_FAILURE\";\n\nexport const POST_REVIEW = \"POST_REVIEW\";\nexport const POST_REVIEW_PENDING = \"POST_REVIEW_PENDING\";\nexport const POST_REVIEW_SUCCESS = \"POST_REVIEW_SUCCESS\";\nexport const POST_REVIEW_FAILURE = \"POST_REVIEW_FAILURE\";\n\nexport const EDIT_REVIEW = \"EDIT_REVIEW\";\nexport const EDIT_REVIEW_PENDING = \"EDIT_REVIEW_PENDING\";\nexport const EDIT_REVIEW_SUCCESS = \"EDIT_REVIEW_SUCCESS\";\nexport const EDIT_REVIEW_FAILURE = \"EDIT_REVIEW_FAILURE\";\n\nexport const LIKE_REVIEW = \"LIKE_REVIEW\";\nexport const LIKE_REVIEW_PENDING = \"LIKE_REVIEW_PENDING\";\nexport const LIKE_REVIEW_SUCCESS = \"LIKE_REVIEW_SUCCESS\";\nexport const LIKE_REVIEW_FAILURE = \"LIKE_REVIEW_FAILURE\";\n\nconst requestGetReviews = (limit = 1, page = 1) => {\n  return axios.get(`reviews?limit=${limit}&page=${page}`);\n};\nconst requestGetReview = (id) => {\n  //console.log(id);\n  return axios.get(`book/${id}/review`);\n};\nconst requestPostReview = (id, name, content, book) => {\n  //console.log(isbn, name, content);\n  return axios.post(`book/${id}/review`, {\n    name,\n    content,\n    book,\n  });\n};\n\nconst requestEditReview = (rid, content) => {\n  return axios.post(`book/review/${rid}`, {\n    content,\n  });\n};\n\nconst requestLikeReview = (type, id, uid) => {\n  return axios.post(`review/like`, {\n    type,\n    id,\n    uid,\n  });\n};\nexport const getReviews = (data) => ({\n  type: GET_REVIEWS,\n  payload: requestGetReviews(data.limit, data.page),\n});\nexport const getReview = (isbn) => ({\n  type: GET_REVIEW,\n  payload: requestGetReview(isbn),\n});\nexport const postReview = (isbn, name, content, book) => ({\n  type: POST_REVIEW,\n  payload: requestPostReview(isbn, name, content, book),\n});\n\nexport const editReview = (rid, content) => ({\n  type: EDIT_REVIEW,\n  payload: requestEditReview(rid, content),\n});\nexport const postLike = (type, id, uid) => ({\n  type: LIKE_REVIEW,\n  payload: requestLikeReview(type, id, uid),\n});\n\nconst initialState = {\n  reviews: [],\n  pending: false,\n  success: false,\n  error: false,\n  loadReviewsPending: false,\n  loadReviewsError: false,\n  loadReviewsSuccess: false,\n  loadReviewsDone: false,\n  hasMore: false,\n  postReviewPending: false,\n  postReviewSuccess: false,\n  postReviewError: false,\n};\nexport default handleActions(\n  {\n    [GET_REVIEWS_PENDING]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: true,\n        loadReviewsError: false,\n        loadReviewsSuccess: false,\n        loadReviewsDone: false,\n      };\n    },\n    [GET_REVIEWS_SUCCESS]: (state, action) => {\n      const {\n        data: { reviews, page, hasMore },\n      } = action.payload;\n      return {\n        ...state,\n        reviews:\n          parseInt(page) !== 1 ? [...state.reviews, ...reviews] : [...reviews],\n        loadReviewsPending: false,\n        loadReviewsSuccess: true,\n        hasMore,\n      };\n    },\n    [GET_REVIEWS_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        loadReviewsPending: false,\n        loadReviewsError: true,\n        loadReviewsDone: false,\n      };\n    },\n    [POST_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: true,\n        postReviewSuccess: false,\n        postReviewError: false,\n      };\n    },\n    [POST_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        postReviewPending: false,\n        postReviewSuccess: true,\n      };\n    },\n    [POST_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        postReviewPending: false,\n        postReviewError: true,\n      };\n    },\n    [GET_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        error: false,\n        pending: true,\n        success: false,\n      };\n    },\n    [GET_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        reviews: action.payload.data.reviews,\n        error: false,\n        pending: false,\n        success: true,\n      };\n    },\n    [GET_REVIEW_FAILURE]: (state, action) => {\n      return {\n        error: true,\n        pending: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false,\n      };\n    },\n    [EDIT_REVIEW_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        reviews: action.payload.data.reviews,\n        pending: false,\n        error: false,\n        success: true,\n      };\n    },\n    [EDIT_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n        success: false,\n      };\n    },\n    ///LIKE_REVIEW\n    [LIKE_REVIEW_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    },\n    [LIKE_REVIEW_SUCCESS]: (state, action) => {\n      const {\n        data: { review },\n      } = action.payload;\n      //console.log(data.profile);\n      let idx = -1;\n      state.reviews.forEach((item, i) => {\n        if (item._id === review._id) {\n          idx = i;\n        }\n      });\n      state.reviews[idx] = review;\n      const updatedReviews = state.reviews;\n      return {\n        ...state,\n        pending: false,\n        error: false,\n        success: true,\n        reviews: [...updatedReviews],\n      };\n    },\n    [LIKE_REVIEW_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback, useRef } from \"react\";\nimport style from \"./Review.scss\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FaHeart } from \"react-icons/fa\";\nimport { postReview, postLike } from \"../../reducer/review\";\nimport { check } from \"../../reducer/login\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classnames.bind(style);\nconst Review = () => {\n  const [input, setInput] = useState(\"\");\n  const [more, setMore] = useState(false);\n  const submitRef = useRef(null);\n  const formRef = useRef(null);\n  const dispatch = useDispatch();\n  const { isLoggedIn, profile: me } = useSelector((state) => state.login);\n  const { reviews } = useSelector((state) => state.review);\n  const { book } = useSelector((state) => state.books);\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handlePostReview = useCallback(\n    async (content) => {\n      const {\n        user: { email },\n      } = me;\n      try {\n        dispatch(postReview(book._id, email, content, book));\n        checkUser();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [book, checkUser, dispatch, me]\n  );\n  const handleChange = useCallback((e) => {\n    const { target } = e;\n    setInput(target.value);\n  }, []);\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        if (input.length > 0) {\n          handlePostReview(input);\n          setInput(\"\");\n        }\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [isLoggedIn, input, handlePostReview]\n  );\n  //like 관련 작업 수정 진행 필요\n  const handlePostLike = useCallback(\n    async (type, id, target) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, me?.user?._id));\n        if (status === 200) {\n          target.style.fill = \"pink\";\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, checkUser]\n  );\n  const handleLike = useCallback(\n    (e) => {\n      const { currentTarget, target } = e;\n      const id = currentTarget.getAttribute(\"data-value\");\n      handlePostLike(\"like\", id, target);\n    },\n    [handlePostLike]\n  );\n  const toggleMore = useCallback(() => {\n    setMore((cur) => !cur);\n  }, []);\n  const textAreaResize = (e) => {\n    const { target, key } = e;\n    if (target.value.length === 0) target.style.height = `50px`;\n    else {\n      target.style.height = `auto`;\n    }\n    if (key !== \"Backspace\") {\n      console.log(target.scrollHeight);\n      if (target.scrollHeight <= 130) {\n        target.style.height = `${target.scrollHeight}px`;\n      } else {\n        target.style.height = `${130}px`;\n      }\n    } else {\n      target.style.height = `${target.scrollHeight}px`;\n      if (target.value.length === 0) target.style.height = `50px`;\n    }\n  };\n  const ReviewTag = ({ item }) => {\n    return (\n      <article key={v4()} className={cx(\"review-item\")}>\n        <div>\n          <Link to={item.reviewer ? `/profile/${item.reviewer._id}/books` : \"\"}>\n            <img\n              className={cx(\"user-img\")}\n              src={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n              alt={item.reviewer ? item.reviewer.avatarUrl : \"\"}\n            />\n            <span className={cx(\"user\")}>\n              {item.reviewer ? item.reviewer.email : \"\"}\n            </span>\n          </Link>\n        </div>\n        <span className={cx(\"date\")}>\n          {item.createdAt\n            ? moment(item.createdAt).format(`YYYY년 MM월 DD일 HH:MM:SS`)\n            : \"\"}\n        </span>\n        <article style={{ marginTop: \"10px\" }}>\n          <p className={cx(\"user-review\")}>\n            {!more && item.content.length > 30\n              ? `${item.content.substr(0, 30)}...`\n              : item.content}\n          </p>\n          {item.content.length > 20 && (\n            <p className={cx(\"more\")} onClick={toggleMore}>\n              {!more ? \"더보기\" : \"줄이기\"}\n            </p>\n          )}\n        </article>\n        <div className={cx(\"review-footer\")}>\n          <span\n            className={cx(\"heart\")}\n            onClick={handleLike}\n            data-value={item._id}\n          >\n            <FaHeart />\n          </span>\n          <span>{item.likes.length} 좋아요</span>\n        </div>\n      </article>\n    );\n  };\n  return (\n    <section className={cx(\"review\")}>\n      <p className={cx(\"review-title\")}>리뷰</p>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <textarea\n            placeholder=\"책 리뷰를 입력해주세요\"\n            onChange={handleChange}\n            onInput={textAreaResize}\n            value={input}\n            maxLength={500}\n          />\n          <input type=\"submit\" value=\"등록\" ref={submitRef} />\n        </form>\n      </section>\n      <section className={cx(\"review-list-wrapper\")}>\n        {reviews\n          ? reviews.map((item) => <ReviewTag key={v4()} item={item} />)\n          : null}\n      </section>\n    </section>\n  );\n};\nexport default Review;\n","import React, { useRef, useEffect, useCallback, useState } from \"react\";\nimport style from \"./RateAnalysis.scss\";\nimport classnames from \"classnames/bind\";\nimport { select, scaleLinear, scaleBand, axisBottom, axisRight, max } from \"d3\";\nconst cx = classnames.bind(style);\nconst RateAnalysis = ({ votes }) => {\n  const svgRef = useRef();\n  const [device, setDevice] = useState(null);\n\n  const render = useCallback(() => {\n    const {\n      width: {\n        baseVal: { value: outerWidth },\n      },\n      height: {\n        baseVal: { value: outerHeight },\n      },\n    } = svgRef.current;\n    const margin = { left: 20, top: 20, right: 20, bottom: 20 };\n    const innerWidth = outerWidth - margin.left - margin.right;\n    const innerHeight = outerHeight - margin.top - margin.bottom;\n    const data = [];\n    for (let i = 0; i <= 5; i++) {\n      const tmp = votes.filter((v) => parseInt(v.vote) === i);\n      data.push({ rate: i, count: tmp.length });\n    }\n    const xScale = scaleBand()\n      .range([0, innerWidth])\n      .domain([1, 2, 3, 4, 5])\n      .paddingInner(0.5);\n    const yScale = scaleLinear()\n      .range([innerHeight, 0])\n      .domain([\n        0,\n        max(data, (d) =>\n          parseInt(d[\"count\"]) < 5 ? 5 : max(data, (d) => parseInt(d[\"count\"]))\n        ),\n      ]);\n    const svg = select(svgRef.current);\n    const g = svg\n      .append(\"g\")\n      .attr(\"class\", \"graph\")\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n    const xAxis = g\n      .append(\"g\")\n      .attr(\"class\", \"xaxis\")\n      .attr(\"transform\", \"translate(0,130)\")\n      .transition()\n      .duration(500);\n    xAxis.call(axisBottom(xScale));\n    const yAxis = g\n      .append(\"g\")\n      .attr(\"class\", \"yaxis\")\n      .attr(\"transform\", \"translate(0,130)\")\n      .transition()\n      .duration(500);\n    yAxis.call(axisRight(yScale));\n    const rects = g\n      .append(\"g\")\n      .attr(\"class\", \"rect-container\")\n      .selectAll(\"rect\")\n      .data(data);\n    rects\n      .enter()\n      .append(\"rect\")\n      .attr(\"height\", (d) => 0)\n      .attr(\"width\", xScale.bandwidth())\n      .attr(\"x\", (d) => xScale(d[\"rate\"]))\n      .attr(\"y\", innerHeight)\n      .attr(\"fill\", \"#f1c40f\")\n      .transition()\n      .duration(500)\n      .attr(\"y\", (d) => yScale(d[\"count\"]))\n      .attr(\"height\", (d) => innerHeight - yScale(d[\"count\"]));\n    rects.exit().remove();\n  }, [votes]);\n\n  const checkSize = () => {\n    const innerWidth = window.innerWidth;\n    if (innerWidth <= 425) {\n      setDevice(\"mobile\");\n    } else if (innerWidth > 425 && innerWidth <= 767) {\n      setDevice(\"tablet\");\n    } else {\n      setDevice(\"desktop\");\n    }\n  };\n  useEffect(() => {\n    svgRef.current.innerHTML = \"\";\n    if (votes) {\n      if (svgRef.current.hasChildNodes()) {\n        const rectContainer = document.querySelector(\".rect-container\");\n        if (rectContainer) rectContainer.remove();\n      }\n      render();\n    }\n    window.addEventListener(\"resize\", checkSize);\n    checkSize();\n    return () => {\n      window.removeEventListener(\"resize\", checkSize);\n    };\n  }, [votes, render, device]);\n\n  return (\n    <section className={cx(\"rate-bar\")}>\n      <svg\n        className={cx(\"svg-container\")}\n        ref={svgRef}\n        width={\n          device === \"mobile\" ? \"250\" : device === \"tablet\" ? \"300\" : \"400\"\n        }\n        height={\"170\"}\n      ></svg>\n    </section>\n  );\n};\nexport default RateAnalysis;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { FaPlusCircle, FaStar, FaAngleDown } from \"react-icons/fa\";\nimport style from \"./BookDetail.scss\";\nimport classnames from \"classnames/bind\";\nimport { ChasingDots } from \"better-react-spinkit\";\nimport Select from \"react-select\";\nimport Rater from \"../Rater\";\nimport Review from \"../Review\";\nimport { useDispatch } from \"react-redux\";\nimport { postShelve } from \"../../reducer/login\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport { formatAuthors, getAvg } from \"../../utills\";\nimport Notice from \"../Notice\";\nimport RateAnalysis from \"../RateAnalysis/RateAnalysis\";\n\nconst cx = classnames.bind(style);\nconst options = [\n  {\n    value: \"want_read\",\n    label: \"읽기\",\n  },\n  {\n    value: \"reading\",\n    label: \"읽는중\",\n  },\n  {\n    value: \"read\",\n    label: \"읽음\",\n  },\n];\nconst BookDetail = ({\n  profile: user,\n  votes,\n  id,\n  book,\n  postVote,\n  reviews,\n  isLoggedIn,\n}) => {\n  const [selected, setSelected] = useState({\n    value: \"want_read\",\n    label: \"읽기\",\n  });\n  const [status, setStatus] = useState(\"읽기\");\n  const [isAddSuccess, setIsAddSuccess] = useState(false);\n  const dispatch = useDispatch();\n  const getStatus = useCallback(() => {\n    const { profile } = user;\n    const { isbn } = id;\n    if (profile) {\n      if (this.checkStatus(profile.want_read, isbn)) {\n        setSelected(options[0]);\n        setStatus(options[0].label);\n        return;\n      }\n      if (this.checkStatus(profile.reading, isbn)) {\n        setSelected(options[1]);\n        setStatus(options[1].label);\n        return;\n      }\n      if (this.checkStatus(profile.read, isbn)) {\n        setSelected(options[2]);\n        setStatus(options[2].label);\n        return;\n      }\n    }\n  }, [id, user]);\n  /*const checkStatus = (arr, isbn) => {\n    if (arr.filter((item) => item.isbn === isbn).length > 0) return true;\n    return false;\n  };*/\n  const checkUserVote = () => {\n    const { profile } = user;\n    let cur = \"0\";\n    if (votes) {\n      for (let i = 0; i < votes.length; i++) {\n        if (votes[i]?._id === profile?._id) {\n          cur = String(votes[i].vote);\n          break;\n        }\n      }\n    }\n    return cur;\n  };\n\n  const handleOnClick = useCallback(() => {\n    const { value } = selected;\n    if (isLoggedIn) {\n      const {\n        user: { email },\n      } = user;\n      dispatch(postShelve(email, book._id, value));\n      setIsAddSuccess(true);\n    } else {\n      alert(\"로그인이 필요한 서비스 입니다\");\n    }\n  }, [dispatch, book, user, selected, isLoggedIn]);\n\n  const handleRadio = (selected) => {\n    setSelected(selected);\n  };\n  useEffect(() => {\n    getStatus();\n  }, [getStatus]);\n  return (\n    <>\n      {book ? (\n        <>\n          {isAddSuccess && (\n            <Notice\n              type={\"success\"}\n            >{`${selected.label}목록에 추가됬습니다`}</Notice>\n          )}\n          <section className={cx(\"book-detail\")}>\n            <section className={cx(\"book-rater-list\")}>\n              <ul>\n                <li className={\"star\"}>\n                  <FaStar />\n                </li>\n                {\n                  book?.votes?.length > 0 ? (\n                    book?.votes?.map((vote) => (\n                      <li key={v4()} className={\"book-rater\"}>\n                        <Link to={`/profile/${vote.voter._id}/books`}>\n                          <img\n                            src={vote.voter.avatarUrl}\n                            alt={vote.voter.emails}\n                          />\n                        </Link>\n                      </li>\n                    ))\n                  ) : (\n                    <p className={\"book-rater-empty\"}>\n                      아직 아무도 점수를 주지 않았습니다...\n                    </p>\n                  )\n                  /*book &&\n                  book.votes &&\n                  book.votes.map((vote) => (\n                    <li key={v4()} className={\"book-rater\"}>\n                      <Link to={`/profile/${vote.voter._id}`}>\n                        <img\n                          src={vote.voter.avatarUrl}\n                          alt={vote.voter.emails}\n                        />\n                      </Link>\n                    </li>\n                  ))*/\n                }\n              </ul>\n            </section>\n            <section className={cx(\"book-info-wrapper\")}>\n              <section className={cx(\"img-col\")}>\n                <img src={book.thumbnail} alt=\"geisha\" />\n              </section>\n              <section className={cx(\"book-content\")}>\n                <h2 className={cx(\"title\")}>{book.title}</h2>\n                <p className={cx(\"author\")}>\n                  <strong>저자 </strong>\n                  {formatAuthors(book.authors)}\n                </p>\n                <section className={cx(\"bookmeta\")}>\n                  <span className={cx(\"score\")}>\n                    <FaStar />\n                    {getAvg(votes)}\n                    <FaAngleDown className={cx(\"angle-down\")} />\n                  </span>\n                  <span className={cx(\"rate-cnt\")}>\n                    {votes ? votes.length : 0} 평가\n                  </span>\n                  <span className={cx(\"review-cnt\")}>\n                    {reviews ? reviews.length : 0} 리뷰\n                  </span>\n                </section>\n                <RateAnalysis votes={book.votes} />\n                <section className={cx(\"discription\")}>\n                  <h5>책 소개</h5>\n                  <p>\n                    {book.contents !== undefined ? book.contents : \"내용 없음\"}\n                  </p>\n                </section>\n                <div>\n                  <div className={cx(\"rate-wrapper\")}>\n                    <span>책 평가하기</span>\n                    <Rater\n                      postVote={postVote}\n                      book={book}\n                      id={id}\n                      votes={votes && votes.length > 0 ? checkUserVote() : \"0\"}\n                    />\n                  </div>\n                  <div className={cx(\"add\")}>\n                    <Select\n                      className={cx(\"select\")}\n                      options={options}\n                      onChange={handleRadio}\n                      value={selected}\n                      isSearchable={false}\n                      placeholder={status}\n                    />\n                    <button className={cx(\"want-read\")} onClick={handleOnClick}>\n                      <span>\n                        <FaPlusCircle />\n                      </span>\n                      등록\n                    </button>\n                  </div>\n                </div>\n              </section>\n            </section>\n          </section>\n          <Review />\n        </>\n      ) : (\n        <ChasingDots color=\"white\" size={60} />\n      )}\n    </>\n  );\n};\nexport default BookDetail;\n","import Detail from \"./Detail\";\nexport default Detail;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport BookDetail from \"../../components/BookDetail\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDetail, postRate } from \"../../reducer/books\";\nimport { getReview } from \"../../reducer/review\";\nimport Loading from \"../../components/Loading\";\nimport Helmet from \"../../components/Helmet\";\nconst Detail = ({ match }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  const { book, bookPending } = useSelector((state) => state.books);\n  const { reviews } = useSelector((state) => state.review);\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const getBook = useCallback(\n    async (id) => {\n      try {\n        dispatch(getDetail(id));\n        dispatch(getReview(id));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const postVote = (id, name, vote) => {\n    dispatch(postRate(id, name, vote));\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    const {\n      params: { id },\n    } = match;\n    window.scrollTo(0, 0);\n    getBook(id);\n    setIsLoading(false);\n  }, [getBook, match]);\n  return (\n    <main className=\"main-container\">\n      <Helmet\n        title={`${book?.title} | HappReads`}\n        description={`${book?.contents}`}\n      />\n      {isLoading || bookPending ? (\n        <Loading />\n      ) : (\n        <BookDetail\n          book={book}\n          id={match.params.id}\n          postVote={postVote}\n          votes={book?.votes || []}\n          reviews={reviews}\n          profile={profile}\n          isLoggedIn={isLoggedIn}\n        />\n      )}\n    </main>\n  );\n};\nexport default Detail;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport classnames from \"classnames/bind\";\nimport BookList from \"../../components/BookList\";\nimport Helmet from \"../../components/Helmet\";\nimport Loading from \"../../components/Loading\";\nimport { getBooks, getMore } from \"../../reducer/books\";\n\nimport style from \"./Search.scss\";\n\nconst cx = classnames.bind(style);\n\nconst Search = ({ location }) => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  const { books, searchPending, moreDone } = useSelector((state) => state.books);\n\n  const loadMoreRef = useRef(null);\n\n  const handleLoadMore = () => {\n    setPage(page+1);\n    if(loadMoreRef.current) {\n      console.log(loadMoreRef.current);\n      loadMoreRef.current.blur();\n    }\n  }\n\n  useEffect(() => {\n    const { search } = location;\n    const q = decodeURI(search)\n      .split(\"=\")[1]\n      .replace(/[%20]/gi, \" \")\n      .split(\"&\")[0];\n    setQuery(q);\n    if(page===1){\n      setIsLoading(true);\n      dispatch(getBooks(q, 0, page));\n      setIsLoading(false);\n    } else {\n      dispatch(getMore(q,0,page))\n    }\n  }, [dispatch, location, page]);\n\n  return (\n    <>\n      <Helmet title={`검색 | HappReads`} />\n      {isLoading || searchPending ? (\n        <Loading />\n      ) : (\n        <>\n        <h1 className=\"search-keyword\"> {query? `검색 키워드: ${query}`:`도서 목록`}</h1>\n        <section className={cx(\"search-result-container\")}>\n          {books.length > 0 ? (\n            <BookList booklist={books} done={moreDone} from=\"search\" ref={loadMoreRef} handleMore={handleLoadMore} />\n          ) : (\n            <>\n              <div className=\"empty\">\n                <p>검색 결과가 없습니다.</p>\n              </div>\n            </>\n          )}\n        </section>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Search;\n","import Search from \"./Search\";\nexport default Search;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\nexport const UPLOAD = \"UPLOAD\";\nexport const UPLOAD_PENDING = \"UPLOAD_PENDING\";\nexport const UPLOAD_SUCCESS = \"UPLOAD_SUCCESS\";\nexport const UPLOAD_FAILURE = \"UPLOAD_FAILURE\";\nconst UPLOAD_PROGRESS = \"UPLOAD_PROGRESS\";\nconst UPLOAD_PROGRESS_PENDING = \"UPLOAD_PROGRESS_PENDING\";\nconst UPLOAD_PROGRESS_SUCCESS = \"UPLOAD_PROGRESS_SUCCESS\";\n\nconst requestUpload = (data, dispatch) => {\n  return axios.post(`upload`, data, {\n    onUploadProgress: (e) => {\n      const { loaded, total } = e;\n      let progress = Math.floor((loaded * 100) / total);\n      dispatch(uploadProgress(progress));\n    },\n  });\n};\nexport const postUpload = (dispatch) => (data) => ({\n  type: UPLOAD,\n  payload: requestUpload(data, dispatch),\n});\nconst uploadProgress = (progress) => {\n  return {\n    type: UPLOAD_PROGRESS,\n    payload: {\n      progress,\n    },\n  };\n};\n\nconst initialState = {\n  pending: false,\n  error: false,\n  success: false,\n  progress: 0,\n  isUploaded: false,\n};\nexport default handleActions(\n  {\n    [UPLOAD_PENDING]: (state, action) => {\n      return {\n        ...state,\n        pending: true,\n        error: false,\n        success: false,\n        progress: 0,\n      };\n    },\n    [UPLOAD_SUCCESS]: (state, action) => {\n      return {\n        ...state,\n        success: true,\n        pending: false,\n        error: false,\n        isUploaded: state.progress === 100,\n        progress: 0,\n      };\n    },\n    [UPLOAD_FAILURE]: (state, action) => {\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    },\n    [UPLOAD_PROGRESS]: (state, action) => {\n      const { payload } = action;\n      return {\n        ...state,\n        progress: payload.progress,\n      };\n    },\n  },\n  initialState\n);\n","import React, { useState, useCallback, useRef, useLayoutEffect } from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./BookUpload.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 } from \"uuid\";\nimport { postUpload } from \"../../reducer/upload\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst cx = classnames.bind(style);\nconst BookUpload = () => {\n  const [content, setContent] = useState({\n    selected: null,\n    title: \"\",\n    authors: [],\n    author: \"\",\n    isbn: \"\",\n    contents: \"\",\n    genres: \"\",\n  });\n  const previewRef = useRef(null);\n  const progressRef = useRef(null);\n  const titleRef = useRef(null);\n  const authorRef = useRef(null);\n  const genresRef = useRef(null);\n  const contentsRef = useRef(null);\n  const selectedRef = useRef(null);\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.login);\n  const { progress, isUploaded } = useSelector((state) => state.upload);\n  const handleAuthorChange = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        author: target.value,\n      });\n    },\n    [content]\n  );\n  const handleKeyPress = useCallback(\n    (e) => {\n      const { author, authors } = content;\n      const { keyCode } = e;\n      if (author !== \"\") {\n        authorRef.current.classList.remove(\"empty\");\n        if (keyCode === 13) {\n          setContent({\n            ...content,\n            authors: [...authors, author],\n            author: \"\",\n          });\n        }\n      }\n    },\n    [content]\n  );\n  const handleDeleteTag = (e) => {\n    const { authors } = content;\n    const target = e.target.previousSibling.innerHTML;\n    let newAuthors = authors.filter((author) => {\n      return author !== target;\n    });\n\n    setContent({\n      ...content,\n      authors: newAuthors,\n    });\n  };\n  const handleFile = (e) => {\n    const {\n      target: { files },\n    } = e;\n    const imgURL = URL.createObjectURL(files[0]);\n    previewRef.current.src = imgURL;\n    setContent({\n      ...content,\n      selected: files[0],\n    });\n  };\n  const handleTitle = useCallback(\n    (e) => {\n      const { target } = e;\n      if (target.value.length > 0)\n        titleRef.current.classList.remove(\"input-empty\");\n      setContent({\n        ...content,\n        title: target.value,\n      });\n    },\n    [content]\n  );\n  const handleContents = useCallback(\n    (e) => {\n      const { target } = e;\n      if (target.value.length > 0)\n        contentsRef.current.classList.remove(\"input-empty\");\n      setContent({\n        ...content,\n        contents: target.value,\n      });\n    },\n    [content]\n  );\n  const handleGenres = useCallback(\n    (e) => {\n      e.preventDefault();\n      const { target } = e;\n      if (target.value.length > 0)\n        genresRef.current.classList.remove(\"input-empty\");\n      setContent({\n        ...content,\n        genres: target.value,\n      });\n    },\n    [content]\n  );\n  const handleSubmit = useCallback(\n    async (e) => {\n      e.preventDefault();\n      if (e.keyCode !== 13) {\n        const {\n          user: { _id },\n        } = profile;\n        const { selected, contents, title, authors, genres } = content;\n        if (\n          selected !== null &&\n          contents.length > 0 &&\n          title.length > 0 &&\n          authors.length > 0 &&\n          genres.length > 0\n        ) {\n          const formData = new FormData();\n          formData.append(\"thumbnail\", selected);\n          formData.append(\"title\", title);\n          formData.append(\"authors\", authors);\n          formData.append(\"contents\", contents);\n          formData.append(\"uid\", _id);\n          formData.append(\"genres\", genres);\n          await dispatch(postUpload(dispatch)(formData));\n        } else {\n          if (contents.length === 0) {\n            contentsRef.current.classList.add(\"input-empty\");\n          }\n          if (title.length === 0) {\n            titleRef.current.classList.add(\"input-empty\");\n          }\n          if (authors.length === 0) {\n            authorRef.current.classList.add(\"input-empty\");\n          }\n          if (genres.length === 0) {\n            genresRef.current.classList.add(\"input-empty\");\n          }\n        }\n      }\n    },\n    [content, profile, dispatch]\n  );\n  const authorTag = (authors, handleDeleteTag) => {\n    return authors?.map((author) => {\n      const uid = v4();\n      return (\n        <div className={cx(\"author-tag\")} key={uid}>\n          <span className={cx(\"author-name\")}>{author}</span>\n          <span className={cx(\"author-x\")} onClick={handleDeleteTag}>\n            x\n          </span>\n        </div>\n      );\n    });\n  };\n\n  useLayoutEffect(() => {\n    if (isUploaded) {\n      progressRef.current.style.width = `${0}%`;\n      window.location.href = `${\n        process.env.NODE_ENV === \"development\" ? `/` : `/HappReads-front`\n      }`;\n    } else {\n      progressRef.current.style.width = `${progress}%`;\n    }\n  }, [progress, isUploaded]);\n  const { title, authors, author, contents, genres } = content;\n  return (\n    <>\n      <section className={cx(\"progress-container\")}>\n        <div className={cx(\"progress\")} ref={progressRef}></div>\n      </section>\n      <section className={cx(\"book-upload\")}>\n        <section className={cx(\"form-container\")}>\n          <section className={cx(\"form\")}>\n            <div className={cx(\"upload-btn-wrapper\")}>\n              <img className={cx(\"preview-img\")} alt=\"\" ref={previewRef} />\n              <div\n                className={cx(\"btn-container\")}\n                style={{ position: \"relative\" }}\n              >\n                <button className={cx(\"btn\")}>이미지 선택</button>\n                <input type=\"file\" onChange={handleFile} required />\n              </div>\n            </div>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={handleTitle}\n              placeholder=\"책 이름\"\n              required\n              ref={titleRef}\n            />\n            <div className={cx(\"authors\")} ref={authorRef}>\n              {authorTag(authors, handleDeleteTag)}\n              <input\n                className={cx(\"author-input\")}\n                type=\"text\"\n                placeholder=\"저자 +\"\n                value={author}\n                onChange={handleAuthorChange}\n                onKeyDown={handleKeyPress}\n              />\n            </div>\n            <input\n              type=\"text\"\n              value={genres}\n              placeholder=\"책 장르 ( ,구분진행)\"\n              onChange={handleGenres}\n              required\n              ref={genresRef}\n            />\n            <textarea\n              placeholder=\"요약\"\n              value={contents}\n              onChange={handleContents}\n              required\n              ref={contentsRef}\n            />\n            <button className={\"submit\"} onClick={handleSubmit}>\n              업로드\n            </button>\n          </section>\n        </section>\n      </section>\n    </>\n  );\n};\nexport default BookUpload;\n","import React from \"react\";\nimport BookUpload from \"../../components/BookUpload/BookUpload\";\nimport Helmet from \"../../components/Helmet\";\nconst Upload = () => {\n  return (\n    <>\n      <Helmet title={`Upload | HappReads`} />\n      <BookUpload />\n    </>\n  );\n};\n\nexport default Upload;\n","import React from \"react\";\nimport goBack from \"../../img/go_back.png\";\nimport classnames from \"classnames/bind\";\nimport style from \"./NoMatch.scss\";\nimport Helmet from \"../../components/Helmet\";\nconst cx = classnames.bind(style);\nconst NoMatch = () => {\n  return (\n    <>\n      <Helmet title={`404 Error | HappReads`} />\n      <section className={cx(\"nomatch-section\")}>\n        <h1>404 Not Found</h1>\n        <img src={goBack} alt={\"404\"} />\n      </section>\n    </>\n  );\n};\n\nexport default NoMatch;\n","import NoMatch from \"./NoMatch\";\nexport default NoMatch;\n","import React from \"react\";\nimport style from \"./Category.scss\";\nimport classnames from \"classnames/bind\";\nconst cx = classnames.bind(style);\nconst Category = () => {\n  return (\n    <div className={cx(\"category\")}>\n      <ul>\n        <li>최근 책 리뷰</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport style from \"./CommunityContainer.scss\";\nimport { Link } from \"react-router-dom\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { useSelector } from \"react-redux\";\nconst cx = classnames.bind(style);\nconst CommunityContainer = ({\n  path,\n  loadMore,\n  toggleMore,\n  selected,\n  handleLike,\n  hasMore,\n}) => {\n  const { reviews } = useSelector((state) => state.review);\n  const content = (path) => {\n    if (path === \"reviews\") {\n      return (\n        <>\n          {reviews.length === 0 && (\n            <p className={cx(\"empty\")}>최근 리뷰가 없습니다.</p>\n          )}\n          {\n            <>\n              {reviews.length > 0 &&\n                reviews.map((review) => {\n                  return (\n                    <section key={v4()} className={cx([\"card\", \"row\"])}>\n                      <section className={cx(\"first-col\")}>\n                        <Link\n                          to={`/book/${\n                            review && review.book && review.book._id\n                          }`}\n                        >\n                          <img\n                            src={review && review.book && review.book.thumbnail}\n                            alt={review && review.book && review.book.title}\n                          />\n                        </Link>\n                        <p className={cx(\"like\")}>\n                          <FontAwesomeIcon\n                            className={cx(\"heart\")}\n                            icon={faHeart}\n                            onClick={handleLike(review)}\n                          />{\" \"}\n                          {review && review.likes && review.likes.length} 좋아요\n                        </p>\n                      </section>\n                      <section className={cx(\"second-col\")}>\n                        <p className={cx(\"date\")}>\n                          {review &&\n                            moment(review.createdAt).format(\n                              \"YYYY/MM/DD HH:MM:DD\"\n                            )}\n                        </p>\n                        <p className={cx(\"reviewer\")}>\n                          <Link\n                            to={`/profile/${review && review.reviewer._id}`}\n                          >\n                            {review && review.reviewer.email.split(\"@\")[0]}\n                          </Link>\n                        </p>\n                        <h4 className={cx(\"title\")}>\n                          <Link\n                            to={`/book/${\n                              review && review.book && review.book._id\n                            }`}\n                          >\n                            {review && review.book && review.book.title}\n                          </Link>\n                        </h4>\n                        <section className={cx(\"content\")}>\n                          <img\n                            src={\n                              review &&\n                              review.reviewer &&\n                              review.reviewer.avatarUrl\n                            }\n                            alt={review && review.reviewer.email}\n                          />\n                          <article>\n                            <p className={cx(\"content-text\")}>\n                              {review &&\n                              review.content &&\n                              review.content.length >= 50 &&\n                              review._id &&\n                              selected[review._id] === true\n                                ? review.content\n                                : `${review.content.substring(0, 50)}...`}\n                            </p>\n                            {review &&\n                            review.content &&\n                            review.content.length >= 50 ? (\n                              <p\n                                className={cx(\"more\")}\n                                onClick={toggleMore}\n                                data-id={review._id}\n                              >\n                                {selected[review._id] ? \"줄이기\" : \"더보기\"}\n                              </p>\n                            ) : null}\n                          </article>\n                        </section>\n                      </section>\n                    </section>\n                  );\n                })}\n              {hasMore && (\n                <button className={cx(\"load-more-btn\")} onClick={loadMore}>\n                  더 보기\n                </button>\n              )}\n            </>\n          }\n        </>\n      );\n    }\n  };\n  return (\n    <section className={cx(\"community-container\")}>\n      {path === \"reviews\" && (\n        <section className={cx(\"reviews\")}>{content(\"reviews\")}</section>\n      )}\n    </section>\n  );\n};\nexport default CommunityContainer;\n","import Community from \"./Community\";\nexport default Community;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Category from \"../../components/Category\";\nimport CommunityContainer from \"../../components/CommunityContainer/CommunityContainer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getReviews, postLike } from \"../../reducer/review\";\nimport Helmet from \"../../components/Helmet\";\nconst Community = ({ history: { location } }) => {\n  const { pathname } = location;\n  const path = pathname.substr(1).split(\"/\")[1];\n  const [isLoading, setIsLoading] = useState(true);\n  const [selected, setSelected] = useState({});\n  const [page, setPage] = useState(1);\n  const { hasMore } = useSelector((state) => state.review);\n  const { profile, isLoggedIn } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n  const loadReviews = useCallback(\n    (page = 1) => {\n      try {\n        dispatch(\n          getReviews({\n            limit: 5,\n            page,\n          })\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch]\n  );\n  const toggleMore = useCallback(\n    (e) => {\n      const {\n        target: { dataset },\n      } = e;\n      if (\n        selected[dataset[\"id\"]] === undefined ||\n        selected[dataset[\"id\"]] === false\n      ) {\n        const tmp = { ...selected, [dataset[\"id\"]]: true };\n        setSelected(tmp);\n      } else {\n        const tmp = { ...selected, [dataset[\"id\"]]: false };\n        setSelected(tmp);\n      }\n    },\n    [selected]\n  );\n  const loadMore = useCallback(\n    (e) => {\n      loadReviews(page + 1);\n      setPage((cur) => cur + 1);\n    },\n    [loadReviews, page]\n  );\n  const handleLike = useCallback(\n    (review) => () => {\n      const { user } = profile;\n      if (isLoggedIn) {\n        dispatch(postLike(\"like\", review._id, user._id));\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [profile, isLoggedIn, dispatch]\n  );\n  useEffect(() => {\n    setIsLoading(true);\n    loadReviews();\n    setIsLoading(false);\n    return () => {};\n  }, [loadReviews, dispatch]);\n  return (\n    <>\n      <Helmet\n        title={\"Book Reviews | HappReads\"}\n        keywords={\"책 리뷰, 리뷰, 최근 리뷰\"}\n      />\n      <Category path={path} />\n      <CommunityContainer\n        path={path}\n        hasMore={hasMore}\n        loadMore={loadMore}\n        selected={selected}\n        toggleMore={toggleMore}\n        handleLike={handleLike}\n        isLoading={isLoading}\n      />\n    </>\n  );\n};\n\nexport default Community;\n","import React, { useState, useCallback } from \"react\";\nimport style from \"./UserEdit.scss\";\nimport classnames from \"classnames/bind\";\nimport { getAvartUrl } from \"../../utills\";\nimport { useDispatch } from \"react-redux\";\nimport dotenv from \"dotenv\";\nimport { editProfile } from \"../../reducer/login\";\ndotenv.config();\n\nconst cx = classnames.bind(style);\nconst readURL = (file) => {\n  const render = URL.createObjectURL(file);\n  document.querySelector(\".preview-img\").src = render;\n};\nconst UserEdit = ({ profile, isOpen, handleClose }) => {\n  const dispatch = useDispatch();\n  const [content, setContent] = useState({\n    seletedImg: null,\n    avatarUrl: profile ? profile.avatarUrl : undefined,\n    nickname: profile ? profile.name : \"\",\n    website: profile ? profile.website : \"\",\n    intro: profile ? profile.intro : \"\",\n    interest: profile ? profile.interest : \"\",\n  });\n\n  const submitEdit = async () => {\n    const { seletedImg, nickname, website, interest, intro } = content;\n    const formData = new FormData();\n    formData.append(\"avatar\", seletedImg);\n    formData.append(\"email\", profile.email);\n    formData.append(\"nickname\", nickname);\n    formData.append(\"website\", website);\n    formData.append(\"interest\", interest);\n    formData.append(\"intro\", intro);\n    try {\n      const {\n        value: { status },\n      } = await dispatch(editProfile(formData));\n      if (status === 200) {\n        window.location.href = `${\n          process.env.NODE_ENV === \"development\"\n            ? \"/me\"\n            : \"/HappReads-front/#/me\"\n        }`;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    alert(e.target.dataset);\n    submitEdit();\n  };\n  const handleFile = useCallback(\n    (e) => {\n      const {\n        target: { files },\n      } = e;\n      setContent({\n        ...content,\n        seletedImg: files[0],\n      });\n      readURL(files[0]);\n    },\n    [content, setContent]\n  );\n  const handleNickName = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        nickname: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleWebSite = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        website: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleInterest = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        interest: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  const handleIntro = useCallback(\n    (e) => {\n      const { target } = e;\n      setContent({\n        ...content,\n        intro: target.value,\n      });\n    },\n    [content, setContent]\n  );\n  return (\n    <section className={cx(\"user-edit\", isOpen ? \"close\" : \"open\")}>\n      <div className={cx(\"x-button\")}>\n        <p onClick={handleClose}>\n          <span role=\"img\" aria-label=\"close\">\n            ❌\n          </span>\n        </p>\n      </div>\n      <section className={cx(\"form-container\")}>\n        <form onSubmit={handleSubmit}>\n          <div className={cx(\"upload-btn-wrapper\")}>\n            <img\n              className={cx(\"preview-img\")}\n              alt=\"사용자 이미지\"\n              src={getAvartUrl(content?.avatarUrl)}\n            />\n            <div style={{ position: \"relative\" }}>\n              <button className={cx(\"btn\")}>\n                {content?.seletedImg?.name === undefined\n                  ? \"이미지 업로드\"\n                  : content.seletedImg.name}\n              </button>\n              <input type=\"file\" name=\"avatar\" onChange={handleFile} />\n            </div>\n          </div>\n          <input\n            type=\"text\"\n            name=\"nickname\"\n            value={content?.nickname}\n            placeholder={\"닉네임\"}\n            onChange={handleNickName}\n          />\n          <input\n            type=\"email\"\n            name=\"website\"\n            placeholder=\"웹 사이트 ex) http://www.example.com\"\n            value={content?.website}\n            onChange={handleWebSite}\n          />\n          <input\n            type=\"text\"\n            name=\"interest\"\n            placeholder=\"취미\"\n            value={content?.interest}\n            onChange={handleInterest}\n          />\n          <textarea\n            name=\"intro\"\n            placeholder=\"소개\"\n            value={content?.intro}\n            onChange={handleIntro}\n          />\n          <input type=\"submit\" value=\"수정\" />\n          <button onClick={handleClose} data-value={\"cancel\"}>\n            취소\n          </button>\n        </form>\n      </section>\n    </section>\n  );\n};\n\nexport default UserEdit;\n","import React, { useState, useCallback } from \"react\";\nimport {  NavLink, useLocation } from \"react-router-dom\";\nimport classnames from \"classnames/bind\";\nimport UserEdit from \"../UserEdit\";\n\nimport style from \"./UserProfile.scss\";\n\nconst cx = classnames.bind(style);\n\nconst UserProfile = ({ profile, from, children }) => {\n  const { pathname } = useLocation();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, []);\n  const handleCancel = useCallback((e) => {\n    e.preventDefault();\n    setIsOpen(false);\n  }, []);\n\n  const OpenEdit = ({ isOpen, handleClose, profile }) => {\n    return (\n      <>\n        <div\n          className={cx(\"modal-overay\", isOpen ? \"open-modal\" : \"close-modal\")}\n        />\n        <div className={cx(isOpen ? \"open-modal\" : \"close-modal\")}>\n          <UserEdit\n            handleClose={handleClose}\n            profile={profile}\n            isOpen={!isOpen}\n          />\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <>\n      <section className={cx(\"user-profile\")}>\n        <section className={cx(\"user-profile-wrapper\")}>\n          <div className={cx(\"profile-info\")}>\n            <img\n              src={profile && profile.avatarUrl ? profile.avatarUrl : \"\"}\n              alt={profile && profile.email ? profile.email : \"\"}\n            />\n            <h1>{profile && profile.email? profile.email : \"\"}</h1>\n            <div className={cx(\"profile-edit\")}>\n              {from.includes(\"/me\") ? (\n                <p to={\"/edit\"} onClick={handleOpen}>\n                  프로필 수정\n                </p>\n              ) : null}\n            </div>\n            <div className={cx(\"rate-review\")}>\n              <p>\n                {profile && profile.votes ? profile.votes.length : 0}\n                평가\n              </p>\n              <p>\n                {profile && profile.reviews\n                  ? profile.reviews.length\n                  : 0}\n                리뷰\n              </p>\n            </div>\n            <p className={cx(\"intro\")}>\n              {profile && profile.intro }\n            </p>\n          </div>\n        </section>\n        <section>\n          <ul className={cx(\"catalog-list\")}>\n            <li\n              className={pathname.includes(\"/books\") ? cx(\"active\") : \"\"}\n            >\n              <NavLink to={`${pathname.startsWith(\"/me\")?\"/me/books\":`/profile/${profile._id}/books`}`}>책</NavLink>\n            </li>\n            <li\n              className={pathname.includes(\"/review\") ? cx(\"active\") : \"\"}\n            >\n              <NavLink to={`${pathname.startsWith(\"/me\")?\"/me/review\":`/profile/${profile._id}/review`}`}>리뷰</NavLink>\n            </li>\n          </ul>\n          {children}\n        </section>\n      </section>\n      <OpenEdit isOpen={isOpen} handleClose={handleCancel} profile={profile} />\n    </>\n  );\n};\nexport default UserProfile;\n","import React,{useEffect, useCallback} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {Route, useLocation} from 'react-router-dom';\nimport Helmet from \"../../components/Helmet\";\nimport UserProfile from '../../components/UserProfile';\nimport { getUser } from '../../reducer/user';\n\nconst ProfileRoute = ({ component: Component, ...params}) =>{\n    const { isLoggedIn, profile } = useSelector((state) => state.login);\n    const { profile: user } = useSelector(\n      (state) => state.user\n    );\n    const location = useLocation();\n\n    const dispatch = useDispatch();\n\n    const getProfile = useCallback(\n      async (id) => {\n        try {\n          dispatch(getUser(id));\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      [dispatch]\n    );\n  \n    useEffect(() => {\n      if (!location.pathname.startsWith(\"/me\")) {\n        const uid = location.pathname.substring(1).split(\"/\")[1];\n        getProfile(uid);\n      }\n    }, [getProfile, location.pathname]);\n\n    return (\n        <Route \n          {...params} \n          render={(props) => (<>\n            <Helmet title={`Profile | HappReads`} />\n            <UserProfile \n              isLoggedIn={isLoggedIn}\n              profile={location.pathname.startsWith(\"/me\") ? profile?.user : user}\n              from={location.pathname}>\n                <Component {...props}           \n                  isLoggedIn={isLoggedIn}\n                  profile={location.pathname.startsWith(\"/me\") ? profile?.user : user}\n                  from={location.pathname}/>\n            </UserProfile>)\n          </>)} \n        />\n    )\n}\n\nexport default ProfileRoute;","import React, { useState, useCallback } from \"react\";\nimport classname from \"classnames/bind\";\nimport style from \"./ReviewModal.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { check } from \"../../reducer/login\";\nimport { editReview } from \"../../reducer/review\";\nimport { getAtk } from \"../../utills\";\n\nconst cx = classname.bind(style);\nconst ReviewModal = ({ review, handleClose }) => {\n  const [content, setContent] = useState(review?.content || \"\");\n  const dispatch = useDispatch();\n  const { isLoggedIn } = useSelector((state) => state.login);\n\n  const checkUser = useCallback(async () => {\n    const atk = getAtk();\n    if (atk) {\n      try {\n        dispatch(check(atk));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [dispatch]);\n  const handleEditReview = useCallback(\n    async (rid, content) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(editReview(rid, content)); //await editReview(rid, content);\n        if (status === 200) {\n          checkUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [checkUser, dispatch]\n  );\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (isLoggedIn) {\n        handleEditReview(review._id, content);\n      }\n    },\n    [content, isLoggedIn, review, handleEditReview]\n  );\n  const handleChange = (e) => {\n    const { target } = e;\n    setContent(target.value);\n  };\n  return (\n    <section className={cx([\"review-modal\", \"modal-container\"])}>\n      <section className=\"modal-overlay\">\n        <div className=\"modal\">\n          <div className={cx(\"form-container\")}>\n            <img\n              src={review.book !== undefined ? review.book.thumbnail : \"\"}\n              alt={review.book !== undefined ? review.book.title : \"\"}\n            />\n            <form onSubmit={handleSubmit}>\n              <textarea value={content} onChange={handleChange}>\n                {content}\n              </textarea>\n              <input type=\"submit\" value=\"수정\" />\n              <button className={cx(\"cancel\")} onClick={handleClose}>\n                취소\n              </button>\n            </form>\n          </div>\n        </div>\n      </section>\n    </section>\n  );\n};\nexport default ReviewModal;\n","import ReviewModal from \"./ReviewModal\";\n\nexport default ReviewModal;\n","import React, { useState, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaHeart, FaTrash, FaEdit } from \"react-icons/fa\";\nimport classnames from \"classnames/bind\";\nimport moment from \"moment\";\nimport { v4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postLike } from \"../../reducer/review\";\nimport { deleteReview, check } from \"../../reducer/login\";\nimport { getUser } from \"../../reducer/user\";\nimport ReviewModal from \"../ReviewModal\";\nimport { getAtk } from \"../../utills\";\n\nimport style from \"./UserReview.scss\";\n\nconst cx = classnames.bind(style);\n\nconst Reviews = ({\n  review,\n  handleLike,\n  handleDelete,\n  handleEdit,\n  mid, //\n  uid, //user.id\n}) => {\n  return (\n    <section className={cx(\"user-review-container\")} id={review._id} key={v4()}>\n      <div>\n        <Link to={`/book/${review.book?._id}`}>\n          <img\n            src={review.book !== undefined ? review.book.thumbnail : \"\"}\n            alt={review.book !== undefined ? review.book.title : \"\"}\n          />\n        </Link>\n      </div>\n      <div>\n        <div>\n          <p className={cx(\"user-review-book\")}>\n            {review.book !== undefined ? review.book.title : \"\"}\n          </p>\n          <p className={cx(\"user-review-text\")}>\n            {review.book !== undefined ? review.content : \"\"}\n          </p>\n          <p className={cx(\"user-review-date\")}>\n            {moment(review.createdAt).format(\"YYYY년 MM월 DD일 HH:MM:SS\")}\n          </p>\n          <p className={cx(\"like-container\")}>\n            <span className={cx(\"review-like\")}>\n              {review.likes.length} likes\n            </span>\n            <span className={cx(\"likebtn\")} onClick={handleLike(review._id)}>\n              <FaHeart />\n            </span>\n          </p>\n        </div>\n      </div>\n      {uid === mid ? (\n        <>\n          <span\n            className={cx(\"review-edit\")}\n            data-value={review._id}\n            onClick={handleEdit(review)}\n          >\n            <FaEdit />\n          </span>\n          <span\n            className={cx(\"review-remove\")}\n            data-value={review._id}\n            data-bid={review.book._id}\n            onClick={handleDelete}\n          >\n            <FaTrash />\n          </span>\n        </>\n      ) : null}\n    </section>\n  );\n};\n\nconst UserReview = ({ profile, isMe }) => {\n  const [review, setReview] = useState(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n  const { profile: me, pending: userloading, isLoggedIn } = useSelector(\n    (state) => state.login\n  );\n  const loadUser = useCallback(() => {\n    if (isMe) {\n      const atk = getAtk();\n      if (atk) {\n        dispatch(check(atk));\n      }\n    } else {\n      dispatch(getUser(profile._id));\n    }\n  }, [dispatch, isMe, profile]);\n  const handleDelete = (e) => {\n    const { currentTarget } = e;\n    const bid = currentTarget.getAttribute(\"data-bid\"),\n      rid = currentTarget.getAttribute(\"data-value\"),\n      uid = me.user._id;\n    handleDeleteReview(bid, rid, uid);\n  };\n  const handleDeleteReview = async (bid, rid, uid) => {\n    try {\n      const {\n        value: { status },\n      } = await dispatch(deleteReview(bid, rid, uid));\n      if (status === 200) {\n        loadUser();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handlePostLike = useCallback(\n    async (type, id) => {\n      try {\n        const {\n          value: { status },\n        } = await dispatch(postLike(type, id, profile._id, me.user._id));\n        if (status === 200) {\n          console.log(status);\n          loadUser();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [dispatch, me, profile, loadUser]\n  );\n  const handleLike = useCallback(\n    (id) => (e) => {\n      if (isLoggedIn) {\n        handlePostLike(\"like\", id);\n      } else {\n        alert(\"로그인이 필요합니다\");\n      }\n    },\n    [handlePostLike, isLoggedIn]\n  );\n  const handleEdit = useCallback(\n    (review) => (e) => {\n      setIsOpen(true);\n      setReview(review);\n    },\n    []\n  );\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    setReview(null);\n  }, []);\n  \n  return (\n    <div className={cx(\"user-review\")}>\n      {userloading === false &&\n        profile &&\n        profile.reviews &&\n        profile.reviews.map((review) => (\n          <Reviews\n            key={v4()}\n            review={review}\n            handleLike={handleLike}\n            handleDelete={handleDelete}\n            handleEdit={handleEdit}\n            mid={me.user._id}\n            uid={profile._id}\n          />\n        ))}\n      {isOpen && <ReviewModal review={review} handleClose={handleClose} />}\n    </div>\n  );\n};\nexport default UserReview;\n","import UserReview from \"./UserReview\";\nexport default UserReview;\n","import MyReview from \"./MyReview\";\nexport default MyReview;\n","import React from 'react';\nimport cx from \"classnames\";\nimport UserReview from '../../components/UserReview';\n\nconst MyReview = ({profile,from}) => {\n    return (\n      <section>\n        <section className={cx(\"recent-update\")}>\n          <div className={cx(\"recent-head\")}>\n            <h2>리뷰</h2>\n          </div>\n          <div className={cx(\"recent-body\")}>\n            {profile ? (\n              <UserReview profile={profile} isMe={from.includes(\"/me\")?true:false} />\n            ) : (\n              \"리뷰 없음\"\n            )}\n          </div>\n        </section>\n      </section>\n    )\n};\n\nexport default MyReview;","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport FloatingButton from \"./components/FloatingButton/FloatingButton\";\nimport BookShelve from \"./components/BookShelve/BookShelve\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login/Login\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport Profile from \"./pages/Profile\";\nimport Detail from \"./pages/Detail\";\nimport Search from \"./pages/Search\";\nimport Upload from \"./pages/Upload/Upload\";\nimport NoMatch from \"./pages/NoMatch\";\nimport Community from \"./pages/Community\";\nimport ProfileRoute from \"./pages/ProfileRoute/ProfileRoute\";\nimport MyReview from \"./pages/MyReview\";\nimport \"./styles/globalStyle.scss\";\n\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/\" exact component={Home}></Route>\n        <Route path=\"/book/:id\" component={Detail}></Route>\n        <Route path=\"/login\" component={Login}></Route>\n        <Route path=\"/search\" component={Search}></Route>\n        <Route path=\"/signup\" component={SignUp}></Route>\n        <ProfileRoute exact path=\"/me/books\" component={Profile}/>\n        <ProfileRoute exact path=\"/me/review\" component={MyReview}/>\n        <ProfileRoute exact path=\"/profile/:id/books\" component={Profile}/>\n        <ProfileRoute exact path=\"/profile/:id/review\" component={MyReview}/>\n        <Route path=\"/upload\" component={Upload}></Route>\n        <Route path=\"/community/reviews\" component={Community}></Route>\n        <Route path=\"/community/top-readers\" component={Community}></Route>\n        <Route path=\"/community/top-reviewers\" component={Community}></Route>\n        <Route path=\"/shelve/:id\" component={BookShelve}></Route>\n        <Route component={NoMatch} />\n      </Switch>\n      <FloatingButton />\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","import { handleActions } from \"redux-actions\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\naxios.defaults.baseURL =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:8080/\"\n    : \"https://happread.herokuapp.com/\";\n\nconst POST_SHELVE = \"POST_SHELVE\";\nconst POST_SHELVE_PENDING = \"POST_SHELVE_PENDING\";\nconst POST_SHELVE_SUCCESS = \"POST_SHELVE_SUCCESS\";\nconst POST_SHELVE_FAILURE = \"POST_SHELVE_FAILURE\";\n\nconst requsetPostShelve = (email, id, type) => {\n  return axios.post(`shelve`, {\n    email,\n    id,\n    type,\n  });\n};\nexport const postShelve = (email, id, type) => ({\n  type: POST_SHELVE,\n  payload: requsetPostShelve(email, id, type),\n});\nconst initialState = {\n  pending: false,\n  error: false,\n};\nexport default handleActions(\n  {\n    [POST_SHELVE_PENDING]: (state, action) => {\n      return {\n        pending: true,\n        error: false,\n      };\n    },\n    [POST_SHELVE_SUCCESS]: (state, action) => {},\n    [POST_SHELVE_FAILURE]: (state, action) => {\n      return {\n        pending: false,\n        error: true,\n      };\n    },\n  },\n  initialState\n);\n","import { combineReducers } from \"redux\";\nimport books from \"./books\";\nimport signup from \"./signup\";\nimport login from \"./login\";\nimport review from \"./review\";\nimport shelve from \"./shelve\";\nimport user from \"./user\";\nimport upload from \"./upload\";\nconst reducer = combineReducers({\n  books,\n  signup,\n  login,\n  review,\n  shelve,\n  user,\n  upload\n});\nexport default reducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport reducer from \"../reducer\";\nimport { createPromise } from \"redux-promise-middleware\";\nconst customizePromiseMiddleware = createPromise({\n  promiseTypeSuffixes: [\"PENDING\", \"SUCCESS\", \"FAILURE\"],\n});\nconst store = createStore(reducer, applyMiddleware(customizePromiseMiddleware));\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}